<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v11.0.6 on Sun, 15 Sep 2013 13:16:05 GMT -->
<opml version="2.0">
	<head>
		<title>Concord on Github</title>
		<dateCreated>Sat, 14 Sep 2013 14:39:17 GMT</dateCreated>
		<dateModified>Sun, 15 Sep 2013 13:16:05 GMT</dateModified>
		<ownerName>admin</ownerName>
		<ownerEmail></ownerEmail>
		<expansionState>1, 13, 35, 58, 83</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>271</windowTop>
		<windowLeft>385</windowLeft>
		<windowBottom>1333</windowBottom>
		<windowRight>1489</windowRight>
		</head>
	<body>
		<outline text="concord.js" content-type="text/javascript" domain="concordjs.blorkmark.com" name="concordjs" type="html">
			<outline text="// Copyright 2013, Small Picture, Inc."/>
			<outline text="$(function () {">
				<outline text="if($.fn.tooltip !== undefined){" created="Mon, 08 Apr 2013 14:10:32 GMT" pgfnum="1267">
					<outline text="$(&quot;a[rel=tooltip]&quot;).tooltip({">
						<outline text="live: true"/>
						<outline text="})"/>
						</outline>
					<outline text="}" created="Mon, 08 Apr 2013 14:10:42 GMT" pgfnum="1268"/>
					</outline>
				<outline text="})"/>
				</outline>
			<outline text="$(function () { ">
				<outline text="if($.fn.popover !== undefined){" created="Mon, 08 Apr 2013 14:10:15 GMT" pgfnum="1265">
					<outline text="$(&quot;a[rel=popover]&quot;).on(&quot;mouseenter mouseleave&quot;, function(){$(this).popover(&quot;toggle&quot;)})"/>
					<outline text="}" created="Mon, 08 Apr 2013 14:10:28 GMT" pgfnum="1266"/>
					</outline>
				<outline text="})"/>
				</outline>
			<outline text="if (!Array.prototype.indexOf) {">
				<outline text="Array.prototype.indexOf = function(obj, start) {">
					<outline text="for (var i = (start || 0), j = this.length; i &lt; j; i++) {">
						<outline text="if (this[i] === obj) { return i; }"/>
						<outline text="}"/>
						</outline>
					<outline text="return -1;"/>
					<outline text="}"/>
					</outline>
				<outline text="}"/>
				</outline>
			<outline text="var concord = {" created="Mon, 11 Mar 2013 15:05:35 GMT" pgfnum="322">
				<outline text="version: &quot;2.48&quot;," created="Mon, 11 Mar 2013 15:05:42 GMT" pgfnum="323"/>
				<outline text="mobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)," created="Thu, 28 Mar 2013 16:02:36 GMT" pgfnum="1044"/>
				<outline text="ready: false," created="Fri, 15 Mar 2013 22:01:31 GMT" pgfnum="527"/>
				<outline text="handleEvents: true," created="Mon, 11 Mar 2013 15:09:43 GMT" pgfnum="327"/>
				<outline text="resumeCallbacks: []," created="Thu, 11 Apr 2013 14:44:15 GMT" pgfnum="1499"/>
				<outline text="onResume: function(cb){" created="Thu, 11 Apr 2013 14:44:13 GMT" pgfnum="1498">
					<outline text="this.resumeCallbacks.push(cb);" created="Thu, 11 Apr 2013 14:44:29 GMT" pgfnum="1500"/>
					<outline text="}," created="Thu, 11 Apr 2013 14:44:29 GMT" pgfnum="1501"/>
					</outline>
				<outline text="resumeListening: function(){" created="Mon, 11 Mar 2013 15:07:59 GMT" pgfnum="325">
					<outline text="if(!this.handleEvents){" created="Tue, 12 Mar 2013 21:22:26 GMT" pgfnum="462">
						<outline text="this.handleEvents=true;" created="Tue, 12 Mar 2013 21:01:03 GMT" pgfnum="453"/>
						<outline text="var r = this.getFocusRoot();" created="Tue, 12 Mar 2013 21:01:05 GMT" pgfnum="454"/>
						<outline text="if(r!=null){" created="Wed, 10 Apr 2013 22:46:01 GMT" pgfnum="1451">
							<outline text="var c = new ConcordOutline(r.parent());"/>
							<outline text="if(c.op.inTextMode()){" created="Sat, 23 Mar 2013 23:04:51 GMT" pgfnum="801">
								<outline text="c.op.focusCursor();" created="Mon, 08 Apr 2013 20:02:33 GMT" pgfnum="1329"/>
								<outline text="c.editor.restoreSelection();" created="Fri, 22 Mar 2013 18:51:16 GMT" pgfnum="757"/>
								<outline text="}else{" created="Sat, 23 Mar 2013 23:05:16 GMT" pgfnum="803">
									<outline text="c.pasteBinFocus();"/>
									<outline text="}" created="Sat, 23 Mar 2013 23:05:03 GMT" pgfnum="802"/>
									</outline>
								</outline>
							<outline text="for(var i in this.resumeCallbacks){" created="Thu, 11 Apr 2013 14:44:53 GMT" pgfnum="1502">
								<outline text="var cb = this.resumeCallbacks[i];" created="Thu, 11 Apr 2013 14:45:13 GMT" pgfnum="1503"/>
								<outline text="cb();" created="Thu, 11 Apr 2013 14:45:21 GMT" pgfnum="1504"/>
								<outline text="}" created="Thu, 11 Apr 2013 14:45:22 GMT" pgfnum="1505"/>
								</outline>
							<outline text="this.resumeCallbacks=[];" created="Thu, 11 Apr 2013 14:45:34 GMT" pgfnum="1506"/>
							<outline text="}" created="Wed, 10 Apr 2013 22:46:13 GMT" pgfnum="1452"/>
							</outline>
						<outline text="}" created="Tue, 12 Mar 2013 21:22:35 GMT" pgfnum="463"/>
						</outline>
					<outline text="}," created="Tue, 12 Mar 2013 21:01:07 GMT" pgfnum="455"/>
					</outline>
				<outline text="stopListening: function(){" created="Mon, 11 Mar 2013 15:09:19 GMT" pgfnum="326">
					<outline text="if(this.handleEvents){" created="Mon, 15 Apr 2013 14:18:58 GMT" pgfnum="1706">
						<outline text="this.handleEvents=false;" created="Fri, 22 Mar 2013 18:49:35 GMT" pgfnum="753"/>
						<outline text="var r = this.getFocusRoot();" created="Tue, 12 Mar 2013 21:01:05 GMT" pgfnum="454"/>
						<outline text="if(r!=null){" created="Wed, 10 Apr 2013 22:46:01 GMT" pgfnum="1451">
							<outline text="var c = new ConcordOutline(r.parent());"/>
							<outline text="if(c.op.inTextMode()){" created="Sat, 23 Mar 2013 23:04:51 GMT" pgfnum="801">
								<outline text="c.editor.saveSelection();" created="Fri, 22 Mar 2013 18:51:16 GMT" pgfnum="757"/>
								<outline text="}" created="Mon, 15 Apr 2013 14:19:23 GMT" pgfnum="1708"/>
								</outline>
							<outline text="}" created="Wed, 10 Apr 2013 22:46:13 GMT" pgfnum="1452"/>
							</outline>
						<outline text="}" created="Mon, 15 Apr 2013 14:19:04 GMT" pgfnum="1707"/>
						</outline>
					<outline text="}," created="Fri, 22 Mar 2013 18:50:03 GMT" pgfnum="755"/>
					</outline>
				<outline text="focusRoot: null," created="Tue, 12 Mar 2013 14:35:17 GMT" pgfnum="359"/>
				<outline text="getFocusRoot: function(){" created="Tue, 12 Mar 2013 15:39:25 GMT" pgfnum="386">
					<outline text="if($(&quot;.concord-root:visible&quot;).length==1){" created="Tue, 12 Mar 2013 15:39:33 GMT" pgfnum="388">
						<outline text="return this.setFocusRoot($(&quot;.concord-root:visible:first&quot;));" created="Tue, 12 Mar 2013 15:42:14 GMT" pgfnum="389"/>
						<outline text="}" created="Tue, 12 Mar 2013 15:42:47 GMT" pgfnum="390"/>
						</outline>
					<outline text="if($(&quot;.modal&quot;).is(&quot;:visible&quot;)){" created="Tue, 12 Mar 2013 16:35:49 GMT" pgfnum="417">
						<outline text="if($(&quot;.modal&quot;).find(&quot;.concord-root:visible:first&quot;).length==1){" created="Tue, 12 Mar 2013 16:36:18 GMT" pgfnum="418">
							<outline text="return this.setFocusRoot($(&quot;.modal&quot;).find(&quot;.concord-root:visible:first&quot;));" created="Tue, 12 Mar 2013 16:36:59 GMT" pgfnum="419"/>
							<outline text="}" created="Tue, 12 Mar 2013 16:37:29 GMT" pgfnum="421"/>
							</outline>
						<outline text="}" created="Tue, 12 Mar 2013 16:37:30 GMT" pgfnum="422"/>
						</outline>
					<outline text="if(this.focusRoot==null){" created="Tue, 12 Mar 2013 15:42:57 GMT" pgfnum="392">
						<outline text="if($(&quot;.concord-root:visible&quot;).length&gt;0){" created="Tue, 12 Mar 2013 16:49:43 GMT" pgfnum="423">
							<outline text="return this.setFocusRoot($(&quot;.concord-root:visible:first&quot;));" created="Tue, 12 Mar 2013 15:43:04 GMT" pgfnum="393"/>
							<outline text="}else{" created="Tue, 12 Mar 2013 16:49:55 GMT" pgfnum="424">
								<outline text="return null;" created="Tue, 12 Mar 2013 17:22:10 GMT" pgfnum="444"/>
								<outline text="}" created="Tue, 12 Mar 2013 17:22:12 GMT" pgfnum="445"/>
								</outline>
							</outline>
						<outline text="}" created="Tue, 12 Mar 2013 15:43:12 GMT" pgfnum="394"/>
						</outline>
					<outline text="if(!this.focusRoot.is(&quot;:visible&quot;)){" created="Tue, 12 Mar 2013 15:47:29 GMT" pgfnum="405">
						<outline text="return this.setFocusRoot($(&quot;.concord-root:visible:first&quot;));"/>
						<outline text="}" created="Tue, 12 Mar 2013 15:47:55 GMT" pgfnum="407"/>
						</outline>
					<outline text="return this.focusRoot;" created="Tue, 12 Mar 2013 15:42:49 GMT" pgfnum="391"/>
					<outline text="}," created="Tue, 12 Mar 2013 15:39:31 GMT" pgfnum="387"/>
					</outline>
				<outline text="setFocusRoot: function(root){" created="Tue, 12 Mar 2013 17:10:15 GMT" pgfnum="435">
					<outline text="var origRoot = this.focusRoot;" created="Tue, 12 Mar 2013 20:19:28 GMT" pgfnum="446"/>
					<outline text="var concordInstance = new ConcordOutline(root.parent());"/>
					<outline text="if((origRoot!=null) &amp;&amp; !(origRoot[0]===root[0])){" created="Tue, 12 Mar 2013 20:19:45 GMT" pgfnum="447">
						<outline text="var origConcordInstance = new ConcordOutline(origRoot.parent());"/>
						<outline text="origConcordInstance.editor.hideContextMenu();"/>
						<outline text="origConcordInstance.editor.dragModeExit();"/>
						<outline text="if(concordInstance.op.inTextMode()){" created="Mon, 08 Apr 2013 20:02:46 GMT" pgfnum="1330">
							<outline text="concordInstance.op.focusCursor();" created="Mon, 08 Apr 2013 20:03:04 GMT" pgfnum="1331"/>
							<outline text="}" created="Mon, 08 Apr 2013 20:03:28 GMT" pgfnum="1332"/>
							</outline>
						<outline text="else {" created="Wed, 29 May 2013 19:10:25 GMT" pgfnum="3369">
							<outline text="concordInstance.pasteBinFocus();" created="Wed, 29 May 2013 19:10:27 GMT" pgfnum="3370"/>
							<outline text="}" created="Wed, 29 May 2013 19:10:28 GMT" pgfnum="3371"/>
							</outline>
						<outline text="}" created="Tue, 12 Mar 2013 20:20:09 GMT" pgfnum="449"/>
						</outline>
					<outline text="this.focusRoot = root;" created="Tue, 12 Mar 2013 17:12:51 GMT" pgfnum="438"/>
					<outline text="return this.focusRoot;" created="Tue, 12 Mar 2013 17:12:55 GMT" pgfnum="439"/>
					<outline text="}," created="Tue, 12 Mar 2013 17:10:23 GMT" pgfnum="437"/>
					</outline>
				<outline text="updateFocusRootEvent: function(event){" created="Tue, 12 Mar 2013 14:48:45 GMT" pgfnum="363">
					<outline text="var root = $(event.target).parents(&quot;.concord-root:first&quot;);" created="Tue, 12 Mar 2013 15:24:51 GMT" pgfnum="379"/>
					<outline text="if(root.length==1){" created="Tue, 12 Mar 2013 15:25:07 GMT" pgfnum="380">
						<outline text="concord.setFocusRoot(root);"/>
						<outline text="}" created="Tue, 12 Mar 2013 15:25:17 GMT" pgfnum="381"/>
						</outline>
					<outline text="}" created="Tue, 12 Mar 2013 14:48:53 GMT" pgfnum="364"/>
					</outline>
				<outline text="};" created="Mon, 11 Mar 2013 15:06:12 GMT" pgfnum="324"/>
				</outline>
			<outline text="var concordEnvironment = {" created="Wed, 30 Jan 2013 03:55:06 GMT" pgfnum="593">
				<outline text="&quot;version&quot; : concord.version" created="Wed, 30 Jan 2013 17:44:12 GMT" pgfnum="643"/>
				<outline text="};" created="Wed, 30 Jan 2013 17:44:23 GMT" pgfnum="644"/>
				</outline>
			<outline text="var concordClipboard = undefined;" created="Thu, 16 May 2013 01:13:33 GMT" pgfnum="2476"/>
			<outline text="jQuery.fn.reverse = [].reverse;"/>
			<outline text="//Constants" created="Thu, 07 Feb 2013 03:24:29 GMT" pgfnum="121">
				<outline text="var nil = null;" created="Thu, 07 Feb 2013 03:26:00 GMT" pgfnum="122"/>
				<outline text="var infinity = Number.MAX_VALUE;" created="Thu, 07 Feb 2013 03:22:49 GMT" pgfnum="120"/>
				<outline text="var down = &quot;down&quot;;"/>
				<outline text="var left = &quot;left&quot;;"/>
				<outline text="var right = &quot;right&quot;;"/>
				<outline text="var up = &quot;up&quot;;"/>
				<outline text="var flatup = &quot;flatup&quot;;"/>
				<outline text="var flatdown = &quot;flatdown&quot;;"/>
				<outline text="var nodirection = &quot;nodirection&quot;;" created="Thu, 07 Feb 2013 03:26:23 GMT" pgfnum="123"/>
				</outline>
			<outline text="var XML_CHAR_MAP = {" collapse="true">
				<outline text="'&lt;': '&amp;lt;',"/>
				<outline text="'&gt;': '&amp;gt;',"/>
				<outline text="'&amp;': '&amp;amp;',"/>
				<outline text="'&quot;': '&amp;'+'quot;'"/>
				<outline text="};"/>
				</outline>
			<outline text="var ConcordUtil = {" collapse="true">
				<outline text="escapeXml: function(s) {" collapse="true">
					<outline text="s = s.toString();" created="Sat, 13 Apr 2013 20:25:04 GMT" pgfnum="1662"/>
					<outline text="s = s.replace(/\u00A0/g, &quot; &quot;);" created="Fri, 12 Apr 2013 21:27:40 GMT" pgfnum="1632"/>
					<outline text="var escaped = s.replace(/[&lt;&gt;&amp;&quot;]/g, function(ch) {" collapse="true">
						<outline text="return XML_CHAR_MAP[ch];"/>
						<outline text="});"/>
						</outline>
					<outline text="return escaped;" created="Thu, 07 Feb 2013 04:53:23 GMT" pgfnum="129"/>
					<outline text="}"/>
					</outline>
				<outline text="};"/>
				</outline>
			<outline text="function ConcordOutline(container, options) {" collapse="true">
				<outline text="this.container = container;"/>
				<outline text="this.options = options;"/>
				<outline text="this.id = null;"/>
				<outline text="this.root = null;"/>
				<outline text="this.editor = null;"/>
				<outline text="this.op = null;"/>
				<outline text="this.script = null;" created="Fri, 01 Feb 2013 16:48:03 GMT" pgfnum="731"/>
				<outline text="this.pasteBin = null;" created="Fri, 08 Feb 2013 20:49:19 GMT" pgfnum="236"/>
				<outline text="this.pasteBinFocus = function(){" created="Fri, 15 Mar 2013 21:29:32 GMT" pgfnum="519">
					<outline text="if(!concord.ready){" created="Fri, 15 Mar 2013 22:02:01 GMT" pgfnum="529">
						<outline text="return;" created="Fri, 15 Mar 2013 22:02:06 GMT" pgfnum="530"/>
						<outline text="}" created="Fri, 15 Mar 2013 22:02:07 GMT" pgfnum="531"/>
						</outline>
					<outline text="if(concord.mobile){" created="Thu, 28 Mar 2013 16:09:44 GMT" pgfnum="1045">
						<outline text="return;" created="Thu, 28 Mar 2013 16:09:49 GMT" pgfnum="1047"/>
						<outline text="}" created="Thu, 28 Mar 2013 16:09:51 GMT" pgfnum="1048"/>
						</outline>
					<outline text="if(this.root.is(&quot;:visible&quot;)){" created="Fri, 15 Mar 2013 21:30:05 GMT" pgfnum="522">
						<outline text="var node = this.op.getCursor();"/>
						<outline text="var nodeOffset = node.offset();"/>
						<outline text="this.pasteBin.offset(nodeOffset);"/>
						<outline text="this.pasteBin.css(&quot;z-index&quot;,&quot;1000&quot;);" created="Fri, 15 Mar 2013 23:00:11 GMT" pgfnum="548"/>
						<outline text="if((this.pasteBin.text()==&quot;&quot;)||(this.pasteBin.text()==&quot;\n&quot;)){" created="Fri, 15 Mar 2013 22:54:32 GMT" pgfnum="545">
							<outline text="this.pasteBin.text(&quot;...&quot;);" created="Fri, 15 Mar 2013 22:54:39 GMT" pgfnum="546"/>
							<outline text="}" created="Fri, 15 Mar 2013 22:54:46 GMT" pgfnum="547"/>
							</outline>
						<outline text="this.op.focusCursor();" created="Sun, 24 Mar 2013 21:08:17 GMT" pgfnum="840"/>
						<outline text="this.pasteBin.focus();"/>
						<outline text="if(this.pasteBin[0] === document.activeElement){" created="Tue, 28 May 2013 22:52:28 GMT" pgfnum="3293">
							<outline text="document.execCommand(&quot;selectAll&quot;);" created="Tue, 28 May 2013 22:48:19 GMT" pgfnum="3292"/>
							<outline text="}" created="Tue, 28 May 2013 22:53:14 GMT" pgfnum="3294"/>
							</outline>
						<outline text="}" created="Fri, 15 Mar 2013 21:30:22 GMT" pgfnum="523"/>
						</outline>
					<outline text="};" created="Fri, 15 Mar 2013 21:29:44 GMT" pgfnum="521"/>
					</outline>
				<outline text="this.callbacks = function(callbacks) {" collapse="true">
					<outline text="if(callbacks) {" collapse="true">
						<outline text="this.root.data(&quot;callbacks&quot;, callbacks);"/>
						<outline text="return callbacks;"/>
						</outline>
					<outline text="} else {" collapse="true">
						<outline text="if(this.root.data(&quot;callbacks&quot;)) {" collapse="true">
							<outline text="return this.root.data(&quot;callbacks&quot;);"/>
							<outline text="} else {" collapse="true">
								<outline text="return {};"/>
								<outline text="}"/>
								</outline>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.fireCallback = function(name, value) {" collapse="true">
					<outline text="var cb = this.callbacks()[name]"/>
					<outline text="if(cb) {" collapse="true">
						<outline text="cb(value);"/>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.prefs = function(newprefs) {" collapse="true">
					<outline text="var prefs = this.root.data(&quot;prefs&quot;);" created="Tue, 26 Feb 2013 18:55:46 GMT" pgfnum="248"/>
					<outline text="if(prefs == undefined){" created="Tue, 26 Feb 2013 18:55:59 GMT" pgfnum="249">
						<outline text="prefs = {};" created="Tue, 26 Feb 2013 18:56:16 GMT" pgfnum="250"/>
						<outline text="}" created="Tue, 26 Feb 2013 18:56:21 GMT" pgfnum="251"/>
						</outline>
					<outline text="if(newprefs) {" collapse="true">
						<outline text="for(var key in newprefs){" created="Tue, 26 Feb 2013 18:56:22 GMT" pgfnum="252">
							<outline text="prefs[key] = newprefs[key];" created="Tue, 26 Feb 2013 18:58:35 GMT" pgfnum="253"/>
							<outline text="}" created="Tue, 26 Feb 2013 18:58:42 GMT" pgfnum="254"/>
							</outline>
						<outline text="this.root.data(&quot;prefs&quot;, prefs);"/>
						<outline text="if(prefs.readonly){" created="Wed, 27 Feb 2013 18:37:58 GMT" pgfnum="285">
							<outline text="this.root.addClass(&quot;readonly&quot;);" created="Wed, 27 Feb 2013 18:38:05 GMT" pgfnum="286"/>
							<outline text="}" created="Wed, 27 Feb 2013 18:38:12 GMT" pgfnum="287"/>
							</outline>
						<outline text="if(prefs.renderMode!==undefined){" created="Sun, 17 Feb 2013 22:11:36 GMT" pgfnum="122">
							<outline text="this.root.data(&quot;renderMode&quot;, prefs.renderMode);" created="Sun, 17 Feb 2013 22:11:42 GMT" pgfnum="123"/>
							<outline text="}" created="Sun, 17 Feb 2013 22:12:05 GMT" pgfnum="124"/>
							</outline>
						<outline text="if(prefs.contextMenu){" collapse="true" created="Tue, 29 Jan 2013 17:21:24 GMT" pgfnum="576">
							<outline text="$(prefs.contextMenu).hide();" created="Tue, 29 Jan 2013 17:21:29 GMT" pgfnum="577"/>
							<outline text="}" created="Tue, 29 Jan 2013 17:21:35 GMT" pgfnum="578"/>
							</outline>
						<outline text="var style = {};"/>
						<outline text="if(prefs.outlineFont) {" collapse="true">
							<outline text="style[&quot;font-family&quot;] = prefs.outlineFont;"/>
							<outline text="}"/>
							</outline>
						<outline text="if(prefs.outlineFontSize) {" collapse="true">
							<outline text="prefs.outlineFontSize = parseInt(prefs.outlineFontSize);"/>
							<outline text="style[&quot;font-size&quot;] = prefs.outlineFontSize + &quot;px&quot;;"/>
							<outline text="style[&quot;min-height&quot;] = (prefs.outlineFontSize + 6) + &quot;px&quot;;"/>
							<outline text="style[&quot;line-height&quot;] = (prefs.outlineFontSize + 6) + &quot;px&quot;;"/>
							<outline text="}"/>
							</outline>
						<outline text="if(prefs.outlineLineHeight) {" collapse="true">
							<outline text="prefs.outlineLineHeight = parseInt(prefs.outlineLineHeight);"/>
							<outline text="style[&quot;min-height&quot;] = prefs.outlineLineHeight + &quot;px&quot;;"/>
							<outline text="style[&quot;line-height&quot;] = prefs.outlineLineHeight + &quot;px&quot;;"/>
							<outline text="}"/>
							</outline>
						<outline text="this.root.parent().find(&quot;style.prefsStyle&quot;).remove();" created="Mon, 18 Feb 2013 21:27:32 GMT" pgfnum="209"/>
						<outline text="var css = '&lt;style type=&quot;text/css&quot; class=&quot;prefsStyle&quot;&gt;\n';"/>
						<outline text="var cssId=&quot;&quot;;" created="Fri, 22 Feb 2013 18:12:21 GMT" pgfnum="237"/>
						<outline text="if(this.root.parent().attr(&quot;id&quot;)){" created="Fri, 22 Feb 2013 18:12:27 GMT" pgfnum="238">
							<outline text="cssId=&quot;#&quot;+this.root.parent().attr(&quot;id&quot;);" created="Fri, 22 Feb 2013 18:12:36 GMT" pgfnum="239"/>
							<outline text="}" created="Fri, 22 Feb 2013 18:12:45 GMT" pgfnum="240"/>
							</outline>
						<outline text="css += cssId + ' .concord .concord-node .concord-wrapper .concord-text {';"/>
						<outline text="for(var attribute in style) {" collapse="true">
							<outline text="css += attribute + ': ' + style[attribute] + ';';"/>
							<outline text="}"/>
							</outline>
						<outline text="css += '}\n';"/>
						<outline text="css += cssId + ' .concord .concord-node .concord-wrapper .node-icon {';"/>
						<outline text="for(var attribute in style) {">
							<outline text="if(attribute!=&quot;font-family&quot;){" created="Fri, 29 Mar 2013 03:53:14 GMT" pgfnum="1124">
								<outline text="css += attribute + ': ' + style[attribute] + ';';"/>
								<outline text="}" created="Fri, 29 Mar 2013 03:53:23 GMT" pgfnum="1125"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="css += '}\n'"/>
						<outline text="var wrapperPaddingLeft = prefs.outlineLineHeight;" created="Mon, 08 Apr 2013 14:22:20 GMT" pgfnum="1269"/>
						<outline text="if(wrapperPaddingLeft===undefined){" created="Mon, 08 Apr 2013 14:22:38 GMT" pgfnum="1270">
							<outline text="wrapperPaddingLeft = prefs.outlineFontSize;" created="Mon, 08 Apr 2013 14:22:44 GMT" pgfnum="1271"/>
							<outline text="}" created="Mon, 08 Apr 2013 14:22:49 GMT" pgfnum="1272"/>
							</outline>
						<outline text="if(wrapperPaddingLeft!== undefined){" created="Mon, 08 Apr 2013 14:23:08 GMT" pgfnum="1273">
							<outline text="css += cssId + ' .concord .concord-node .concord-wrapper {';"/>
							<outline text="css += &quot;padding-left: &quot; + wrapperPaddingLeft + &quot;px&quot;;" created="Mon, 08 Apr 2013 14:23:40 GMT" pgfnum="1276"/>
							<outline text="css += &quot;}\n&quot;;" created="Mon, 08 Apr 2013 14:24:07 GMT" pgfnum="1277"/>
							<outline text="css += cssId + ' .concord ol {';"/>
							<outline text="css += &quot;padding-left: &quot; + wrapperPaddingLeft + &quot;px&quot;;" created="Mon, 08 Apr 2013 14:23:40 GMT" pgfnum="1276"/>
							<outline text="css += &quot;}\n&quot;;" created="Mon, 08 Apr 2013 14:24:07 GMT" pgfnum="1277"/>
							<outline text="}" created="Mon, 08 Apr 2013 14:23:17 GMT" pgfnum="1275"/>
							</outline>
						<outline text="css += '&lt;/style&gt;\n';"/>
						<outline text="this.root.before(css);"/>
						<outline text="if(newprefs.css){" created="Mon, 08 Apr 2013 17:48:00 GMT" pgfnum="1324">
							<outline text="this.op.setStyle(newprefs.css);" created="Mon, 08 Apr 2013 17:48:11 GMT" pgfnum="1325"/>
							<outline text="}" created="Mon, 08 Apr 2013 17:48:11 GMT" pgfnum="1326"/>
							</outline>
						<outline text="}" collapse="true"/>
						</outline>
					<outline text="return prefs;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.afterInit = function() {" collapse="true">
					<outline text="this.editor = new ConcordEditor(this.root, this);"/>
					<outline text="this.op = new ConcordOp(this.root, this);"/>
					<outline text="this.script = new ConcordScript(this.root, this);" created="Fri, 01 Feb 2013 16:48:28 GMT" pgfnum="732"/>
					<outline text="if(options) {" collapse="true">
						<outline text="if(options.prefs) {" collapse="true">
							<outline text="this.prefs(options.prefs);"/>
							<outline text="}"/>
							</outline>
						<outline text="if(options.open) {" collapse="true">
							<outline text="this.root.data(&quot;open&quot;, options.open);"/>
							<outline text="}"/>
							</outline>
						<outline text="if(options.save) {" collapse="true">
							<outline text="this.root.data(&quot;save&quot;, options.save);"/>
							<outline text="}"/>
							</outline>
						<outline text="if(options.callbacks) {" collapse="true">
							<outline text="this.callbacks(options.callbacks);"/>
							<outline text="}"/>
							</outline>
						<outline text="if(options.id) {" collapse="true">
							<outline text="this.root.data(&quot;id&quot;, options.id);"/>
							<outline text="this.open();"/>
							<outline text="}" created="Sun, 03 Feb 2013 16:25:44 GMT" pgfnum="935"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.init = function() {" collapse="true">
					<outline text="if($(container).find(&quot;.concord-root:first&quot;).length &gt; 0) {" collapse="true">
						<outline text="this.root = $(container).find(&quot;.concord-root:first&quot;);"/>
						<outline text="this.pasteBin = $(container).find(&quot;.pasteBin:first&quot;);" created="Fri, 08 Feb 2013 23:03:10 GMT" pgfnum="251"/>
						<outline text="this.afterInit();"/>
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var root = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);"/>
					<outline text="root.addClass(&quot;concord concord-root&quot;);"/>
					<outline text="root.appendTo(container);"/>
					<outline text="this.root = root;"/>
					<outline text="var pasteBin = $('&lt;div class=&quot;pasteBin&quot; contenteditable=&quot;true&quot; style=&quot;position: absolute; height: 1px; width:1px; outline:none; overflow:hidden;&quot;&gt;&lt;/div&gt;');" created="Fri, 08 Feb 2013 20:48:04 GMT" pgfnum="234"/>
					<outline text="pasteBin.appendTo(container);" created="Fri, 08 Feb 2013 20:48:24 GMT" pgfnum="235"/>
					<outline text="this.pasteBin = pasteBin;" created="Fri, 08 Feb 2013 20:49:35 GMT" pgfnum="237"/>
					<outline text="this.afterInit();"/>
					<outline text="this.events = new ConcordEvents(this.root, this.editor, this.op, this);"/>
					<outline text="};"/>
					</outline>
				<outline text="this[&quot;new&quot;] = function() {" collapse="true">
					<outline text="this.op.wipe();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.open = function(cb) {" collapse="true">
					<outline text="var opmlId = this.root.data(&quot;id&quot;);"/>
					<outline text="if(!opmlId) {" collapse="true">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var root = this.root;"/>
					<outline text="var editor = this.editor;"/>
					<outline text="var op = this.op;"/>
					<outline text="var openUrl = &quot;http://concord.smallpicture.com/open&quot;;"/>
					<outline text="if(root.data(&quot;open&quot;)) {" collapse="true">
						<outline text="openUrl = root.data(&quot;open&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="params = {}"/>
					<outline text="if(opmlId.match(/^http.+$/)) {" collapse="true">
						<outline text="params[&quot;url&quot;] = opmlId"/>
						<outline text="} else {" collapse="true">
							<outline text="params[&quot;id&quot;] = opmlId"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="$.ajax({" collapse="true">
						<outline text="type: 'POST',"/>
						<outline text="url: openUrl,"/>
						<outline text="data: params,"/>
						<outline text="dataType: &quot;xml&quot;,"/>
						<outline text="success: function(opml) {" collapse="true">
							<outline text="if(opml) {" collapse="true">
								<outline text="op.xmlToOutline(opml);"/>
								<outline text="if(cb) {" collapse="true">
									<outline text="cb();"/>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="},"/>
							</outline>
						<outline text="error: function() {" collapse="true">
							<outline text="if(root.find(&quot;.concord-node&quot;).length == 0) {" collapse="true">
								<outline text="op.wipe();"/>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.save = function(cb) {" collapse="true">
					<outline text="var opmlId = this.root.data(&quot;id&quot;);"/>
					<outline text="if(opmlId &amp;&amp; this.op.changed()) {" collapse="true">
						<outline text="var saveUrl = &quot;http://concord.smallpicture.com/save&quot;;"/>
						<outline text="if(this.root.data(&quot;save&quot;)) {" collapse="true">
							<outline text="saveUrl = this.root.data(&quot;save&quot;);"/>
							<outline text="}"/>
							</outline>
						<outline text="var concordInstance = this;"/>
						<outline text="var opml = this.op.outlineToXml();"/>
						<outline text="$.ajax({" collapse="true">
							<outline text="type: 'POST',"/>
							<outline text="url: saveUrl,"/>
							<outline text="data: {" collapse="true">
								<outline text="&quot;opml&quot;: opml,"/>
								<outline text="&quot;id&quot;: opmlId"/>
								<outline text="},"/>
								</outline>
							<outline text="dataType: &quot;json&quot;,"/>
							<outline text="success: function(json) {" collapse="true">
								<outline text="concordInstance.op.clearChanged();"/>
								<outline text="if(cb) {" collapse="true">
									<outline text="cb(json);"/>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="});"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this[&quot;import&quot;] = function(opmlId, cb) {" collapse="true">
					<outline text="var openUrl = &quot;http://concordold.smallpicture.com/open&quot;;"/>
					<outline text="var root = this.root;"/>
					<outline text="var concordInstance = this;"/>
					<outline text="if(root.data(&quot;open&quot;)) {" collapse="true">
						<outline text="openUrl = root.data(&quot;open&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="params = {}"/>
					<outline text="if(opmlId.match(/^http.+$/)) {" collapse="true">
						<outline text="params[&quot;url&quot;] = opmlId;"/>
						<outline text="} else {" collapse="true">
							<outline text="params[&quot;id&quot;] = opmlId;"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="$.ajax({" collapse="true">
						<outline text="type: 'POST',"/>
						<outline text="url: openUrl,"/>
						<outline text="data: params,"/>
						<outline text="dataType: &quot;xml&quot;,"/>
						<outline text="success: function(opml) {" collapse="true">
							<outline text="if(opml) {" collapse="true">
								<outline text="var cursor = root.find(&quot;.concord-cursor:first&quot;);"/>
								<outline text="$(opml).find(&quot;body&quot;).children(&quot;outline&quot;).each(function() {" collapse="true">
									<outline text="var node = concordInstance.editor.build($(this));"/>
									<outline text="cursor.after(node);"/>
									<outline text="cursor = node;"/>
									<outline text="});"/>
									</outline>
								<outline text="concordInstance.op.markChanged();"/>
								<outline text="if(cb) {" collapse="true">
									<outline text="cb();"/>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="},"/>
							</outline>
						<outline text="error: function() {" collapse="true">
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this[&quot;export&quot;] = function() {" collapse="true">
					<outline text="var context = this.root.find(&quot;.concord-cursor:first&quot;);"/>
					<outline text="if(context.length == 0) {" collapse="true">
						<outline text="context = this.root.find(&quot;.concord-root:first&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="return this.editor.opml(context);"/>
					<outline text="};"/>
					</outline>
				<outline text="this.init();"/>
				<outline text="}"/>
				</outline>
			<outline text="function ConcordEditor(root, concordInstance) {">
				<outline text="this.makeNode = function(){" created="Sun, 10 Feb 2013 03:35:08 GMT" pgfnum="377">
					<outline text="var node = $(&quot;&lt;li&gt;&lt;/li&gt;&quot;);"/>
					<outline text="node.addClass(&quot;concord-node&quot;);"/>
					<outline text="var wrapper = $(&quot;&lt;div class='concord-wrapper'&gt;&lt;/div&gt;&quot;);"/>
					<outline text="var iconName=&quot;caret-right&quot;;"/>
					<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-&quot;+ iconName +&quot;\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
					<outline text="wrapper.append(icon);" created="Fri, 29 Mar 2013 03:41:13 GMT" pgfnum="1123"/>
					<outline text="wrapper.addClass(&quot;type-icon&quot;);" created="Fri, 25 Jan 2013 04:38:50 GMT" pgfnum="357"/>
					<outline text="var text = $(&quot;&lt;div class='concord-text' contenteditable='true'&gt;&lt;/div&gt;&quot;);"/>
					<outline text="var outline = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);"/>
					<outline text="text.appendTo(wrapper);"/>
					<outline text="wrapper.appendTo(node);"/>
					<outline text="outline.appendTo(node);"/>
					<outline text="return node;" created="Sun, 10 Feb 2013 03:35:39 GMT" pgfnum="379"/>
					<outline text="};" created="Sun, 10 Feb 2013 03:35:41 GMT" pgfnum="380"/>
					</outline>
				<outline text="this.dragMode = function() {" collapse="true">
					<outline text="root.data(&quot;draggingChange&quot;, root.children().clone(true, true));"/>
					<outline text="root.addClass(&quot;dragging&quot;);"/>
					<outline text="root.data(&quot;dragging&quot;, true);"/>
					<outline text="};"/>
					</outline>
				<outline text="this.dragModeExit = function() {" collapse="true">
					<outline text="if(root.data(&quot;dragging&quot;)) {" collapse="true">
						<outline text="concordInstance.op.markChanged();"/>
						<outline text="root.data(&quot;change&quot;, root.data(&quot;draggingChange&quot;));"/>
						<outline text="root.data(&quot;changeTextMode&quot;, false);"/>
						<outline text="root.data(&quot;changeRange&quot;, undefined);" created="Wed, 20 Mar 2013 15:46:32 GMT" pgfnum="663"/>
						<outline text="}"/>
						</outline>
					<outline text="root.find(&quot;.draggable&quot;).removeClass(&quot;draggable&quot;);"/>
					<outline text="root.find(&quot;.drop-sibling&quot;).removeClass(&quot;drop-sibling&quot;);"/>
					<outline text="root.find(&quot;.drop-child&quot;).removeClass(&quot;drop-child&quot;);"/>
					<outline text="root.removeClass(&quot;dragging&quot;);"/>
					<outline text="root.data(&quot;dragging&quot;, false);"/>
					<outline text="root.data(&quot;mousedown&quot;, false);"/>
					<outline text="};"/>
					</outline>
				<outline text="this.edit = function(node, empty) {" collapse="true">
					<outline text="var text = node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;);"/>
					<outline text="if(empty) {" collapse="true">
						<outline text="text.html(&quot;&quot;);"/>
						<outline text="}" created="Thu, 24 Jan 2013 05:06:24 GMT" pgfnum="278"/>
						</outline>
					<outline text="text.focus();"/>
					<outline text="var el = text.get(0);" created="Sat, 09 Feb 2013 19:38:37 GMT" pgfnum="312"/>
					<outline text="if(el &amp;&amp; el.childNodes &amp;&amp; el.childNodes[0]){" created="Fri, 08 Mar 2013 18:31:18 GMT" pgfnum="317">
						<outline text="if (typeof window.getSelection != &quot;undefined&quot; &amp;&amp; typeof document.createRange != &quot;undefined&quot;) {" created="Sat, 09 Feb 2013 19:37:19 GMT" pgfnum="298">
							<outline text="        var range = document.createRange();" created="Sat, 09 Feb 2013 19:37:19 GMT" pgfnum="300"/>
							<outline text="        range.selectNodeContents(el);" created="Sat, 09 Feb 2013 19:37:19 GMT" pgfnum="301"/>
							<outline text="        range.collapse(false);" created="Sat, 09 Feb 2013 19:37:19 GMT" pgfnum="302"/>
							<outline text="        var sel = window.getSelection();" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="303"/>
							<outline text="        sel.removeAllRanges();" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="304"/>
							<outline text="        sel.addRange(range);" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="305"/>
							<outline text="    } else if (typeof document.body.createTextRange != &quot;undefined&quot;) {" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="306">
								<outline text="var textRange = document.body.createTextRange();" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="307"/>
								<outline text="textRange.moveToElementText(el);" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="308"/>
								<outline text="textRange.collapse(false);" created="Sat, 09 Feb 2013 19:37:20 GMT" pgfnum="309"/>
								<outline text="        textRange.select();" created="Sat, 09 Feb 2013 19:37:21 GMT" pgfnum="310"/>
								</outline>
							<outline text="    }" created="Sat, 09 Feb 2013 19:37:21 GMT" pgfnum="311"/>
							</outline>
						<outline text="}" created="Fri, 08 Mar 2013 18:32:27 GMT" pgfnum="318"/>
						</outline>
					<outline text="text.addClass(&quot;editing&quot;);"/>
					<outline text="if(!empty){" collapse="true" created="Thu, 24 Jan 2013 05:13:14 GMT" pgfnum="279">
						<outline text="if(root.find(&quot;.concord-node.dirty&quot;).length&gt;0){" collapse="true" created="Wed, 23 Jan 2013 03:19:53 GMT" pgfnum="99">
							<outline text="concordInstance.op.markChanged();" created="Wed, 23 Jan 2013 03:19:56 GMT" pgfnum="100"/>
							<outline text="}" created="Wed, 23 Jan 2013 03:20:03 GMT" pgfnum="101"/>
							</outline>
						<outline text="}" created="Thu, 24 Jan 2013 05:13:25 GMT" pgfnum="280"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.editable = function(target) {" collapse="true">
					<outline text="var editable = false;"/>
					<outline text="if(!target.hasClass(&quot;concord-text&quot;)) {" collapse="true">
						<outline text="target = target.parents(&quot;.concord-text:first&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="if(target.length == 1) {" collapse="true">
						<outline text="editable = target.hasClass(&quot;concord-text&quot;) &amp;&amp; target.hasClass(&quot;editing&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="return editable;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.editorMode = function() {" collapse="true">
					<outline text="root.find(&quot;.selected&quot;).removeClass(&quot;selected&quot;);"/>
					<outline text="root.find(&quot;.editing&quot;).each(function() {" collapse="true">
						<outline text="//$(this).blur();"/>
						<outline text="$(this).removeClass(&quot;editing&quot;);"/>
						<outline text="});"/>
						</outline>
					<outline text="root.find(&quot;.selection-toolbar&quot;).remove();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.opml = function(_root, flsubsonly) {" collapse="true">
					<outline text="" created="Mon, 05 Aug 2013 21:06:47 GMT" pgfnum="28817"/>
					<outline text="if (flsubsonly == undefined) { //8/5/13 by DW" created="Mon, 05 Aug 2013 21:06:47 GMT" pgfnum="28818">
						<outline text="flsubsonly = false;" created="Mon, 05 Aug 2013 21:07:03 GMT" pgfnum="28823"/>
						<outline text="}" created="Mon, 05 Aug 2013 21:06:59 GMT" pgfnum="28822"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:06:48 GMT" pgfnum="28821"/>
					<outline text="if(_root) {" collapse="true">
						<outline text="root = _root;"/>
						<outline text="}"/>
						</outline>
					<outline text="var title = root.data(&quot;title&quot;);"/>
					<outline text="if(!title) {" collapse="true">
						<outline text="if(root.hasClass(&quot;concord-node&quot;)) {" collapse="true">
							<outline text="title = root.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;).text();" collapse="true"/>
							<outline text="}" created="Tue, 21 May 2013 14:22:19 GMT" pgfnum="2893"/>
							</outline>
						<outline text="else {" collapse="true">
							<outline text="title = &quot;&quot;;"/>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="var opml = '&lt;?xml version=&quot;1.0&quot;?&gt;\n';"/>
					<outline text="opml += '&lt;opml version=&quot;2.0&quot;&gt;\n';"/>
					<outline text="opml += '&lt;head&gt;\n';"/>
					<outline text="opml += '&lt;title&gt;' + ConcordUtil.escapeXml(title) + '&lt;/title&gt;\n';"/>
					<outline text="opml += '&lt;/head&gt;\n';"/>
					<outline text="opml += '&lt;body&gt;\n';"/>
					<outline text="if(root.hasClass(&quot;concord-cursor&quot;)) {" collapse="true">
						<outline text="opml += this.opmlLine(root, 0, flsubsonly);"/>
						<outline text="} else {" collapse="true">
							<outline text="var editor = this;"/>
							<outline text="root.children(&quot;.concord-node&quot;).each(function() {" collapse="true">
								<outline text="opml += editor.opmlLine($(this));"/>
								<outline text="});"/>
								</outline>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="opml += '&lt;/body&gt;\n';"/>
					<outline text="opml += '&lt;/opml&gt;\n';"/>
					<outline text="return opml;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.opmlLine = function(node, indent, flsubsonly) {" collapse="true">
					<outline text="if(indent==undefined){" created="Mon, 11 Mar 2013 18:52:46 GMT" pgfnum="346">
						<outline text="indent=0;" created="Mon, 11 Mar 2013 18:52:53 GMT" pgfnum="347"/>
						<outline text="}" created="Mon, 11 Mar 2013 18:52:57 GMT" pgfnum="348"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:08:28 GMT" pgfnum="28824"/>
					<outline text="if (flsubsonly == undefined) { //8/5/13 by DW" created="Mon, 05 Aug 2013 21:08:29 GMT" pgfnum="28825">
						<outline text="flsubsonly = false;" created="Mon, 05 Aug 2013 21:08:38 GMT" pgfnum="28829"/>
						<outline text="}" created="Mon, 05 Aug 2013 21:08:41 GMT" pgfnum="28830"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:08:29 GMT" pgfnum="28828"/>
					<outline text="var text = this.unescape(node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;).html());"/>
					<outline text="var textMatches = text.match(/^(.+)&lt;br&gt;\s*$/);" created="Fri, 22 Mar 2013 23:36:29 GMT" pgfnum="779"/>
					<outline text="if(textMatches){" created="Fri, 22 Mar 2013 23:35:19 GMT" pgfnum="775">
						<outline text="text = textMatches[1];" created="Fri, 22 Mar 2013 23:35:54 GMT" pgfnum="776"/>
						<outline text="}" created="Fri, 22 Mar 2013 23:36:15 GMT" pgfnum="777"/>
						</outline>
					<outline text="var opml = '';" created="Mon, 11 Mar 2013 19:00:45 GMT" pgfnum="350"/>
					<outline text="for(var i=0; i &lt; indent;i++){">
						<outline text="opml += '\t';"/>
						<outline text="}"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:11:43 GMT" pgfnum="28831"/>
					<outline text="var subheads; " created="Mon, 05 Aug 2013 21:28:04 GMT" pgfnum="28846"/>
					<outline text="if (!flsubsonly) { //8/5/13 by DW" created="Mon, 05 Aug 2013 21:11:44 GMT" pgfnum="28833">
						<outline text="opml += '&lt;outline text=&quot;' + ConcordUtil.escapeXml(text) + '&quot;';"/>
						<outline text="var attributes = node.data(&quot;attributes&quot;);" created="Fri, 12 Apr 2013 22:48:55 GMT" pgfnum="1643"/>
						<outline text="if(attributes===undefined){" created="Fri, 12 Apr 2013 22:49:08 GMT" pgfnum="1644">
							<outline text="attributes={};" created="Fri, 12 Apr 2013 22:49:13 GMT" pgfnum="1645"/>
							<outline text="}" created="Fri, 12 Apr 2013 22:49:15 GMT" pgfnum="1646"/>
							</outline>
						<outline text="for(var name in attributes){" created="Fri, 12 Apr 2013 22:49:20 GMT" pgfnum="1647">
							<outline text="if((name!==undefined) &amp;&amp; (name!=&quot;&quot;) &amp;&amp; (name != &quot;text&quot;)) {" collapse="true">
								<outline text="if(attributes[name]!==undefined){" created="Tue, 21 May 2013 14:24:14 GMT" pgfnum="2894">
									<outline text="opml += ' ' + name + '=&quot;' + ConcordUtil.escapeXml(attributes[name]) + '&quot;';"/>
									<outline text="}" created="Tue, 21 May 2013 14:24:27 GMT" pgfnum="2895"/>
									</outline>
								<outline text="}" created="Fri, 12 Apr 2013 22:49:35 GMT" pgfnum="1650"/>
								</outline>
							<outline text="}" created="Fri, 12 Apr 2013 22:49:25 GMT" pgfnum="1649"/>
							</outline>
						<outline text="subheads = node.children(&quot;ol&quot;).children(&quot;.concord-node&quot;);" created="Mon, 11 Mar 2013 19:06:19 GMT" pgfnum="352"/>
						<outline text="if(subheads.length==0){" created="Mon, 11 Mar 2013 19:06:23 GMT" pgfnum="353">
							<outline text="opml+=&quot;/&gt;\n&quot;;" created="Mon, 11 Mar 2013 19:06:32 GMT" pgfnum="354"/>
							<outline text="return opml;" created="Mon, 11 Mar 2013 19:06:46 GMT" pgfnum="355"/>
							<outline text="}" created="Mon, 11 Mar 2013 19:06:49 GMT" pgfnum="356"/>
							</outline>
						<outline text="opml += &quot;&gt;\n&quot;;"/>
						<outline text="}" created="Mon, 05 Aug 2013 21:14:18 GMT" pgfnum="28837"/>
						</outline>
					<outline text="else {" created="Mon, 05 Aug 2013 21:27:40 GMT" pgfnum="28844">
						<outline text="subheads = node.children(&quot;ol&quot;).children(&quot;.concord-node&quot;);" created="Mon, 11 Mar 2013 19:06:19 GMT" pgfnum="352"/>
						<outline text="}" created="Mon, 05 Aug 2013 21:27:43 GMT" pgfnum="28845"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:11:44 GMT" pgfnum="28836"/>
					<outline text="var editor = this;"/>
					<outline text="indent++;" created="Mon, 11 Mar 2013 19:03:51 GMT" pgfnum="351"/>
					<outline text="subheads.each(function() {" collapse="true">
						<outline text="opml += editor.opmlLine($(this), indent);"/>
						<outline text="});"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:15:17 GMT" pgfnum="28838"/>
					<outline text="if (!flsubsonly) { //8/5/13 by DW" created="Mon, 05 Aug 2013 21:15:18 GMT" pgfnum="28839">
						<outline text="for(var i=0; i &lt; indent;i++){">
							<outline text="opml += '\t';"/>
							<outline text="}"/>
							</outline>
						<outline text="opml += '&lt;/outline&gt;\n';"/>
						<outline text="}" created="Mon, 05 Aug 2013 21:15:32 GMT" pgfnum="28840"/>
						</outline>
					<outline text="" created="Mon, 05 Aug 2013 21:15:34 GMT" pgfnum="28841"/>
					<outline text="return opml;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.textLine = function(node, indent){" created="Mon, 11 Feb 2013 16:43:59 GMT" pgfnum="6">
					<outline text="if(!indent){" created="Mon, 11 Feb 2013 16:52:09 GMT" pgfnum="13">
						<outline text="indent = 0;" created="Mon, 11 Feb 2013 16:52:12 GMT" pgfnum="14"/>
						<outline text="}" created="Mon, 11 Feb 2013 16:52:15 GMT" pgfnum="15"/>
						</outline>
					<outline text="var text = &quot;&quot;;" created="Mon, 11 Feb 2013 16:44:13 GMT" pgfnum="7"/>
					<outline text="for(var i=0; i &lt; indent;i++){" created="Mon, 11 Feb 2013 16:51:37 GMT" pgfnum="10">
						<outline text="text += &quot;\t&quot;;" created="Mon, 11 Feb 2013 16:51:56 GMT" pgfnum="11"/>
						<outline text="}" created="Mon, 11 Feb 2013 16:52:03 GMT" pgfnum="12"/>
						</outline>
					<outline text="text += this.unescape(node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;).html());" created="Mon, 11 Feb 2013 16:52:22 GMT" pgfnum="16"/>
					<outline text="text += &quot;\n&quot;;" created="Mon, 11 Feb 2013 16:52:46 GMT" pgfnum="17"/>
					<outline text="var editor = this;" created="Mon, 11 Feb 2013 16:54:00 GMT" pgfnum="22"/>
					<outline text="node.children(&quot;ol&quot;).children(&quot;.concord-node&quot;).each(function() {" collapse="true">
						<outline text="text += editor.textLine($(this), indent+1);"/>
						<outline text="});" created="Mon, 11 Feb 2013 16:53:44 GMT" pgfnum="21"/>
						</outline>
					<outline text="return text;" created="Mon, 11 Feb 2013 16:52:56 GMT" pgfnum="18"/>
					<outline text="};" created="Mon, 11 Feb 2013 16:44:14 GMT" pgfnum="8"/>
					</outline>
				<outline text="this.select = function(node, multiple, multipleRange) {" collapse="true">
					<outline text="if(multiple == undefined) {" collapse="true">
						<outline text="multiple = false;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(multipleRange == undefined) {" collapse="true">
						<outline text="multipleRange = false;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="this.selectionMode(multiple);"/>
						<outline text="if(multiple){" created="Mon, 29 Apr 2013 16:18:14 GMT" pgfnum="2382">
							<outline text="node.parents(&quot;.concord-node.selected&quot;).removeClass(&quot;selected&quot;);" created="Mon, 29 Apr 2013 16:18:22 GMT" pgfnum="2383"/>
							<outline text="node.find(&quot;.concord-node.selected&quot;).removeClass(&quot;selected&quot;);" created="Mon, 29 Apr 2013 16:18:57 GMT" pgfnum="2385"/>
							<outline text="}" created="Mon, 29 Apr 2013 16:18:23 GMT" pgfnum="2384"/>
							</outline>
						<outline text="if(multiple &amp;&amp; multipleRange) {" collapse="true">
							<outline text="var prevNodes = node.prevAll(&quot;.selected&quot;);"/>
							<outline text="if(prevNodes.length &gt; 0) {" collapse="true">
								<outline text="var stamp = false;"/>
								<outline text="node.prevAll().reverse().each(function() {" collapse="true">
									<outline text="if($(this).hasClass(&quot;selected&quot;)) {" collapse="true">
										<outline text="stamp = true;"/>
										<outline text="} else if(stamp) {" collapse="true">
											<outline text="$(this).addClass(&quot;selected&quot;);"/>
											<outline text="}"/>
											</outline>
										</outline>
									<outline text="});"/>
									</outline>
								<outline text="} else {" collapse="true">
									<outline text="var nextNodes = node.nextAll(&quot;.selected&quot;);"/>
									<outline text="if(nextNodes.length &gt; 0) {" collapse="true">
										<outline text="var stamp = true;"/>
										<outline text="node.nextAll().each(function() {" collapse="true">
											<outline text="if($(this).hasClass(&quot;selected&quot;)) {" collapse="true">
												<outline text="stamp = false;"/>
												<outline text="} else if(stamp) {" collapse="true">
													<outline text="$(this).addClass(&quot;selected&quot;);"/>
													<outline text="}"/>
													</outline>
												</outline>
											<outline text="});"/>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="var text = node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;);"/>
						<outline text="if(text.hasClass(&quot;editing&quot;)) {" collapse="true">
							<outline text="text.removeClass(&quot;editing&quot;);"/>
							<outline text="}"/>
							</outline>
						<outline text="//text.blur();" created="Mon, 04 Feb 2013 15:54:21 GMT" pgfnum="983"/>
						<outline text="node.addClass(&quot;selected&quot;);"/>
						<outline text="if(text.text().length&gt;0){" collapse="true" created="Thu, 24 Jan 2013 13:45:06 GMT" pgfnum="283">
							<outline text="//root.data(&quot;currentChange&quot;, root.children().clone());" created="Wed, 23 Jan 2013 18:47:23 GMT" pgfnum="203"/>
							<outline text="}" created="Thu, 24 Jan 2013 13:45:28 GMT" pgfnum="284"/>
							</outline>
						<outline text="this.dragModeExit();"/>
						<outline text="}" created="Mon, 28 Jan 2013 15:21:49 GMT" pgfnum="492"/>
						</outline>
					<outline text="if(root.find(&quot;.concord-node.dirty&quot;).length&gt;0){" collapse="true" created="Wed, 23 Jan 2013 03:25:55 GMT" pgfnum="115">
						<outline text="concordInstance.op.markChanged();" created="Wed, 23 Jan 2013 03:26:16 GMT" pgfnum="117"/>
						<outline text="}" created="Wed, 23 Jan 2013 03:26:21 GMT" pgfnum="118"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.selectionMode = function(multiple) {" collapse="true">
					<outline text="if(multiple == undefined) {" collapse="true">
						<outline text="multiple = false;"/>
						<outline text="}"/>
						</outline>
					<outline text="var node = root.find(&quot;.concord-cursor&quot;);"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="var text = node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;);"/>
						<outline text="if(text.length == 1) {" collapse="true">
							<outline text="//text.blur();"/>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="if(!multiple) {" collapse="true">
						<outline text="root.find(&quot;.selected&quot;).removeClass(&quot;selected&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="root.find(&quot;.selection-toolbar&quot;).remove();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.build = function(outline,collapsed, level) {">
					<outline text="if(!level){" created="Mon, 18 Feb 2013 03:55:05 GMT" pgfnum="164">
						<outline text="level = 1;" created="Mon, 18 Feb 2013 03:55:14 GMT" pgfnum="165"/>
						<outline text="}" created="Mon, 18 Feb 2013 03:55:16 GMT" pgfnum="166"/>
						</outline>
					<outline text="var node = $(&quot;&lt;li&gt;&lt;/li&gt;&quot;);"/>
					<outline text="node.addClass(&quot;concord-node&quot;);"/>
					<outline text="node.addClass(&quot;concord-level-&quot;+level);" created="Mon, 18 Feb 2013 03:56:36 GMT" pgfnum="167"/>
					<outline text="var attributes = {};" created="Fri, 12 Apr 2013 22:40:44 GMT" pgfnum="1638"/>
					<outline text="$(outline[0].attributes).each(function() {" collapse="true">
						<outline text="if(this.name != 'text') {" collapse="true">
							<outline text="attributes[this.name] = this.value;" created="Fri, 12 Apr 2013 22:41:02 GMT" pgfnum="1639"/>
							<outline text="if(this.name==&quot;type&quot;){" created="Fri, 12 Apr 2013 22:41:17 GMT" pgfnum="1640">
								<outline text="node.attr(&quot;opml-&quot; + this.name, this.value);"/>
								<outline text="}" created="Fri, 12 Apr 2013 22:41:24 GMT" pgfnum="1641"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="node.data(&quot;attributes&quot;, attributes);" created="Fri, 12 Apr 2013 22:41:28 GMT" pgfnum="1642"/>
					<outline text="var wrapper = $(&quot;&lt;div class='concord-wrapper'&gt;&lt;/div&gt;&quot;);"/>
					<outline text="var nodeIcon = attributes[&quot;icon&quot;];" created="Sun, 17 Feb 2013 22:18:21 GMT" pgfnum="125"/>
					<outline text="if(!nodeIcon){" created="Sun, 17 Feb 2013 22:18:48 GMT" pgfnum="126">
						<outline text="nodeIcon = attributes[&quot;type&quot;];" created="Sun, 17 Feb 2013 22:18:53 GMT" pgfnum="127"/>
						<outline text="}" created="Sun, 17 Feb 2013 22:18:59 GMT" pgfnum="128"/>
						</outline>
					<outline text="var iconName=&quot;caret-right&quot;;"/>
					<outline text="if(nodeIcon){" collapse="true" created="Fri, 25 Jan 2013 04:34:36 GMT" pgfnum="352">
						<outline text="if((nodeIcon==node.attr(&quot;opml-type&quot;)) &amp;&amp; concordInstance.prefs() &amp;&amp; concordInstance.prefs().typeIcons &amp;&amp; concordInstance.prefs().typeIcons[nodeIcon]){" created="Sun, 17 Feb 2013 22:41:21 GMT" pgfnum="137">
							<outline text="iconName = concordInstance.prefs().typeIcons[nodeIcon];" created="Sun, 17 Feb 2013 22:43:57 GMT" pgfnum="138"/>
							<outline text="}else if (nodeIcon==attributes[&quot;icon&quot;]){" created="Sun, 17 Feb 2013 22:44:50 GMT" pgfnum="140">
								<outline text="iconName = nodeIcon;" created="Sun, 17 Feb 2013 22:45:12 GMT" pgfnum="141"/>
								<outline text="}" created="Sun, 17 Feb 2013 22:45:17 GMT" pgfnum="142"/>
								</outline>
							</outline>
						<outline text="}" created="Fri, 25 Jan 2013 04:34:56 GMT" pgfnum="353"/>
						</outline>
					<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-&quot;+ iconName +&quot;\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
					<outline text="wrapper.append(icon);" created="Fri, 29 Mar 2013 03:41:13 GMT" pgfnum="1123"/>
					<outline text="wrapper.addClass(&quot;type-icon&quot;);" created="Fri, 25 Jan 2013 04:38:50 GMT" pgfnum="357"/>
					<outline text="if(attributes[&quot;isComment&quot;]==&quot;true&quot;){" collapse="true" created="Fri, 01 Feb 2013 16:52:00 GMT" pgfnum="735">
						<outline text="node.addClass(&quot;concord-comment&quot;);" created="Fri, 01 Feb 2013 16:52:10 GMT" pgfnum="736"/>
						<outline text="}" created="Fri, 01 Feb 2013 16:52:21 GMT" pgfnum="737"/>
						</outline>
					<outline text="var text = $(&quot;&lt;div class='concord-text' contenteditable='true'&gt;&lt;/div&gt;&quot;);"/>
					<outline text="text.addClass(&quot;concord-level-&quot;+level+&quot;-text&quot;);" created="Mon, 18 Feb 2013 15:45:02 GMT" pgfnum="192"/>
					<outline text="text.html(this.escape(outline.attr('text')));"/>
					<outline text="if(attributes[&quot;cssTextClass&quot;]!==undefined){" created="Wed, 22 May 2013 22:51:39 GMT" pgfnum="3095">
						<outline text="var cssClasses = attributes[&quot;cssTextClass&quot;].split(/\s+/);" created="Wed, 22 May 2013 22:30:40 GMT" pgfnum="3076"/>
						<outline text="for(var c in cssClasses){" created="Wed, 22 May 2013 22:31:18 GMT" pgfnum="3080">
							<outline text="var newClass = cssClasses[c];" created="Wed, 22 May 2013 22:31:27 GMT" pgfnum="3081"/>
							<outline text="text.addClass(newClass);" created="Wed, 22 May 2013 22:31:39 GMT" pgfnum="3083"/>
							<outline text="}" created="Wed, 22 May 2013 22:31:27 GMT" pgfnum="3082"/>
							</outline>
						<outline text="}" created="Wed, 22 May 2013 22:51:54 GMT" pgfnum="3097"/>
						</outline>
					<outline text="var children = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);"/>
					<outline text="var editor = this;"/>
					<outline text="outline.children(&quot;outline&quot;).each(function() {">
						<outline text="var child = editor.build($(this), collapsed, level+1);"/>
						<outline text="child.appendTo(children);"/>
						<outline text="});"/>
						</outline>
					<outline text="if(collapsed){" created="Sat, 02 Feb 2013 04:16:16 GMT" pgfnum="838">
						<outline text="if(outline.children(&quot;outline&quot;).size()&gt;0){" created="Sat, 02 Feb 2013 04:15:45 GMT" pgfnum="835">
							<outline text="node.addClass(&quot;collapsed&quot;);" created="Sat, 02 Feb 2013 04:16:03 GMT" pgfnum="836"/>
							<outline text="}" created="Sat, 02 Feb 2013 04:16:04 GMT" pgfnum="837"/>
							</outline>
						<outline text="}" created="Sat, 02 Feb 2013 04:16:26 GMT" pgfnum="839"/>
						</outline>
					<outline text="text.appendTo(wrapper);"/>
					<outline text="wrapper.appendTo(node);"/>
					<outline text="children.appendTo(node);"/>
					<outline text="return node;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.hideContextMenu = function(){" collapse="true" created="Tue, 29 Jan 2013 14:40:09 GMT" pgfnum="534">
					<outline text="if(root.data(&quot;dropdown&quot;)){" collapse="true" created="Tue, 29 Jan 2013 14:40:15 GMT" pgfnum="535">
						<outline text="root.data(&quot;dropdown&quot;).hide();" created="Tue, 29 Jan 2013 14:40:22 GMT" pgfnum="536"/>
						<outline text="root.data(&quot;dropdown&quot;).remove();" created="Tue, 29 Jan 2013 15:03:45 GMT" pgfnum="543"/>
						<outline text="root.removeData(&quot;dropdown&quot;);" created="Tue, 29 Jan 2013 15:04:07 GMT" pgfnum="544"/>
						<outline text="}" created="Tue, 29 Jan 2013 14:40:26 GMT" pgfnum="537"/>
						</outline>
					<outline text="};" created="Tue, 29 Jan 2013 14:40:27 GMT" pgfnum="538"/>
					</outline>
				<outline text="this.showContextMenu = function(x,y){" collapse="true" created="Tue, 29 Jan 2013 14:38:15 GMT" pgfnum="529">
					<outline text="if(concordInstance.prefs().contextMenu){" collapse="true" created="Tue, 29 Jan 2013 15:04:21 GMT" pgfnum="545">
						<outline text="this.hideContextMenu();" created="Wed, 30 Jan 2013 04:39:09 GMT" pgfnum="615"/>
						<outline text="root.data(&quot;dropdown&quot;, $(concordInstance.prefs().contextMenu).clone().appendTo(concordInstance.container));" created="Tue, 29 Jan 2013 15:04:26 GMT" pgfnum="546"/>
						<outline text="var editor = this;" created="Wed, 30 Jan 2013 04:41:48 GMT" pgfnum="619"/>
						<outline text="root.data(&quot;dropdown&quot;).on(&quot;click&quot;, &quot;a&quot;, function(event){" collapse="true" created="Wed, 30 Jan 2013 04:39:58 GMT" pgfnum="616">
							<outline text="editor.hideContextMenu();" created="Wed, 30 Jan 2013 04:40:10 GMT" pgfnum="617"/>
							<outline text="});" created="Wed, 30 Jan 2013 04:40:16 GMT" pgfnum="618"/>
							</outline>
						<outline text="root.data(&quot;dropdown&quot;).css({&quot;position&quot; : &quot;absolute&quot;, &quot;top&quot; : y +&quot;px&quot;, &quot;left&quot; : x + &quot;px&quot;, &quot;cursor&quot; : &quot;default&quot;});" created="Tue, 29 Jan 2013 14:39:25 GMT" pgfnum="532"/>
						<outline text="root.data(&quot;dropdown&quot;).show();" created="Tue, 29 Jan 2013 14:39:57 GMT" pgfnum="533"/>
						<outline text="}" created="Tue, 29 Jan 2013 15:05:06 GMT" pgfnum="547"/>
						</outline>
					<outline text="};" created="Tue, 29 Jan 2013 15:13:57 GMT" pgfnum="551"/>
					</outline>
				<outline text="this.sanitize = function(){" created="Mon, 04 Feb 2013 21:25:51 GMT" pgfnum="1032">
					<outline text="var editor = this;" created="Tue, 05 Feb 2013 21:53:55 GMT" pgfnum="1092"/>
					<outline text="root.find(&quot;.concord-text.paste&quot;).each(function(){" created="Mon, 04 Feb 2013 21:26:06 GMT" pgfnum="1033">
						<outline text="var concordText = $(this);" created="Mon, 04 Feb 2013 21:27:24 GMT" pgfnum="1035"/>
						<outline text="if(concordInstance.pasteBin.text()==&quot;...&quot;){" created="Tue, 19 Mar 2013 17:48:10 GMT" pgfnum="576">
							<outline text="return;" created="Tue, 19 Mar 2013 17:48:19 GMT" pgfnum="577"/>
							<outline text="}" created="Tue, 19 Mar 2013 17:48:20 GMT" pgfnum="578"/>
							</outline>
						<outline text="var h = concordInstance.pasteBin.html();" created="Tue, 05 Feb 2013 22:21:27 GMT" pgfnum="1100"/>
						<outline text="h = h.replace(new RegExp(&quot;&lt;(div|p|blockquote|pre|li|br|dd|dt|code|h\\d)[^&gt;]*(/)?&gt;&quot;,&quot;gi&quot;),&quot;\n&quot;);" created="Fri, 08 Feb 2013 18:30:42 GMT" pgfnum="229"/>
						<outline text="h = $(&quot;&lt;div/&gt;&quot;).html(h).text();" created="Thu, 07 Feb 2013 22:04:28 GMT" pgfnum="186"/>
						<outline text="var clipboardMatch = false;" created="Thu, 16 May 2013 01:31:58 GMT" pgfnum="2489"/>
						<outline text="if(concordClipboard !== undefined){" created="Thu, 16 May 2013 01:20:42 GMT" pgfnum="2479">
							<outline text="var trimmedClipboardText = concordClipboard.text.replace(/^[\s\r\n]+|[\s\r\n]+$/g,'');" created="Thu, 16 May 2013 01:32:46 GMT" pgfnum="2492"/>
							<outline text="var trimmedPasteText = h.replace(/^[\s\r\n]+|[\s\r\n]+$/g,'');" created="Thu, 16 May 2013 01:32:46 GMT" pgfnum="2492"/>
							<outline text="if(trimmedClipboardText==trimmedPasteText){" created="Thu, 16 May 2013 01:33:20 GMT" pgfnum="2493">
								<outline text="var clipboardNodes = concordClipboard.data;" created="Thu, 16 May 2013 17:31:47 GMT" pgfnum="2503"/>
								<outline text="if(clipboardNodes){" created="Thu, 16 May 2013 17:31:59 GMT" pgfnum="2504">
									<outline text="var collapseNode = function(node){" created="Thu, 16 May 2013 17:44:15 GMT" pgfnum="2514">
										<outline text="node.find(&quot;ol&quot;).each(function() {" collapse="true">
											<outline text="if($(this).children().length &gt; 0) {" collapse="true">
												<outline text="$(this).parent().addClass(&quot;collapsed&quot;);"/>
												<outline text="}"/>
												</outline>
											<outline text="});"/>
											</outline>
										<outline text="};" created="Thu, 16 May 2013 17:44:22 GMT" pgfnum="2516"/>
										</outline>
									<outline text="clipboardNodes.each(function(){" created="Thu, 16 May 2013 17:43:23 GMT" pgfnum="2511">
										<outline text="collapseNode($(this));" created="Thu, 16 May 2013 17:44:53 GMT" pgfnum="2517"/>
										<outline text="});" created="Thu, 16 May 2013 17:43:43 GMT" pgfnum="2513"/>
										</outline>
									<outline text="root.data(&quot;clipboard&quot;, clipboardNodes);" created="Thu, 16 May 2013 01:38:02 GMT" pgfnum="2500"/>
									<outline text="concordInstance.op.setTextMode(false);" created="Thu, 16 May 2013 01:37:53 GMT" pgfnum="2499"/>
									<outline text="concordInstance.op.paste();" created="Thu, 16 May 2013 01:37:53 GMT" pgfnum="2499"/>
									<outline text="clipboardMatch = true;" created="Thu, 16 May 2013 01:33:40 GMT" pgfnum="2494"/>
									<outline text="}" created="Thu, 16 May 2013 17:32:08 GMT" pgfnum="2505"/>
									</outline>
								<outline text="}" created="Thu, 16 May 2013 01:33:40 GMT" pgfnum="2495"/>
								</outline>
							<outline text="}" created="Thu, 16 May 2013 01:21:11 GMT" pgfnum="2481"/>
							</outline>
						<outline text="if(!clipboardMatch){" created="Thu, 16 May 2013 01:32:17 GMT" pgfnum="2490">
							<outline text="concordClipboard = undefined;" created="Thu, 16 May 2013 01:46:43 GMT" pgfnum="2501"/>
							<outline text="var numberoflines = 0;" created="Wed, 10 Apr 2013 16:03:47 GMT" pgfnum="1430"/>
							<outline text="var lines = h.split(&quot;\n&quot;);" created="Thu, 07 Feb 2013 21:55:56 GMT" pgfnum="172"/>
							<outline text="for(var i = 0; i &lt; lines.length; i++){" created="Wed, 10 Apr 2013 15:25:08 GMT" pgfnum="1415">
								<outline text="var line = lines[i];" created="Thu, 07 Feb 2013 21:58:00 GMT" pgfnum="179"/>
								<outline text="if((line!=&quot;&quot;) &amp;&amp; !line.match(/^\s+$/)){" created="Wed, 10 Apr 2013 15:25:36 GMT" pgfnum="1416">
									<outline text="numberoflines++;"/>
									<outline text="}" created="Wed, 10 Apr 2013 15:26:06 GMT" pgfnum="1419"/>
									</outline>
								<outline text="}" created="Wed, 10 Apr 2013 15:25:36 GMT" pgfnum="1417"/>
								</outline>
							<outline text="if(!concordInstance.op.inTextMode() || (numberoflines &gt; 1)){" created="Thu, 07 Feb 2013 21:56:44 GMT" pgfnum="173">
								<outline text="concordInstance.op.insertText(h);" created="Wed, 10 Apr 2013 15:44:36 GMT" pgfnum="1428"/>
								<outline text="}else{" created="Thu, 07 Feb 2013 21:57:27 GMT" pgfnum="178">
									<outline text="concordInstance.op.saveState();"/>
									<outline text="concordText.focus();" created="Sat, 09 Feb 2013 22:55:49 GMT" pgfnum="314"/>
									<outline text="var range = concordText.parents(&quot;.concord-node:first&quot;).data(&quot;range&quot;);" created="Sat, 09 Feb 2013 23:52:46 GMT" pgfnum="344"/>
									<outline text="if(range){" created="Sat, 09 Feb 2013 23:53:13 GMT" pgfnum="345">
										<outline text="try{" created="Mon, 08 Apr 2013 16:02:59 GMT" pgfnum="1298">
											<outline text="var sel = window.getSelection();" created="Sat, 09 Feb 2013 23:55:08 GMT" pgfnum="351"/>
											<outline text="sel.removeAllRanges();" created="Sat, 09 Feb 2013 23:55:14 GMT" pgfnum="352"/>
											<outline text="sel.addRange(range);" created="Sat, 09 Feb 2013 23:55:17 GMT" pgfnum="353"/>
											<outline text="}" created="Mon, 08 Apr 2013 16:03:10 GMT" pgfnum="1299"/>
											</outline>
										<outline text="catch(e){" created="Mon, 08 Apr 2013 16:03:11 GMT" pgfnum="1300">
											<outline text="console.log(e);" created="Mon, 08 Apr 2013 16:03:46 GMT" pgfnum="1305"/>
											<outline text="}" created="Mon, 08 Apr 2013 16:03:17 GMT" pgfnum="1301"/>
											</outline>
										<outline text="finally {" created="Mon, 08 Apr 2013 16:03:18 GMT" pgfnum="1302">
											<outline text="concordText.parents(&quot;.concord-node:first&quot;).removeData(&quot;range&quot;);"/>
											<outline text="}" created="Mon, 08 Apr 2013 16:03:24 GMT" pgfnum="1304"/>
											</outline>
										<outline text="}" created="Sat, 09 Feb 2013 23:55:22 GMT" pgfnum="354"/>
										</outline>
									<outline text="document.execCommand(&quot;insertText&quot;,null,h);" created="Fri, 08 Feb 2013 21:07:54 GMT" pgfnum="243"/>
									<outline text="concordInstance.root.removeData(&quot;clipboard&quot;);" created="Sun, 10 Feb 2013 18:09:38 GMT" pgfnum="424"/>
									<outline text="concordInstance.op.markChanged();"/>
									<outline text="}" created="Fri, 08 Feb 2013 21:08:32 GMT" pgfnum="244"/>
									</outline>
								</outline>
							<outline text="}" created="Thu, 16 May 2013 01:32:26 GMT" pgfnum="2491"/>
							</outline>
						<outline text="concordText.removeClass(&quot;paste&quot;);" created="Mon, 04 Feb 2013 21:27:48 GMT" pgfnum="1037"/>
						<outline text="});" created="Mon, 04 Feb 2013 21:29:34 GMT" pgfnum="1038"/>
						</outline>
					<outline text="};" created="Mon, 04 Feb 2013 21:26:08 GMT" pgfnum="1034"/>
					</outline>
				<outline text="this.escape = function(s){" created="Tue, 05 Feb 2013 17:17:40 GMT" pgfnum="1049">
					<outline text="var h = $(&quot;&lt;div/&gt;&quot;).text(s).html();" created="Tue, 05 Feb 2013 17:25:01 GMT" pgfnum="1050"/>
					<outline text="h = h.replace(/\u00A0/g, &quot; &quot;);" created="Fri, 12 Apr 2013 21:27:40 GMT" pgfnum="1632"/>
					<outline text="if(concordInstance.op.getRenderMode()){ // Render HTML if op.getRenderMode() returns true - 2/17/13 by KS" created="Sun, 17 Feb 2013 21:41:31 GMT" pgfnum="119">
						<outline text="var allowedTags = [&quot;b&quot;,&quot;strong&quot;,&quot;i&quot;,&quot;em&quot;,&quot;a&quot;,&quot;img&quot;,&quot;strike&quot;,&quot;del&quot;];" created="Tue, 05 Feb 2013 17:48:22 GMT" pgfnum="1060"/>
						<outline text="for(var tagIndex in allowedTags){" created="Tue, 05 Feb 2013 17:48:32 GMT" pgfnum="1061">
							<outline text="var tag = allowedTags[tagIndex];" created="Tue, 05 Feb 2013 17:48:57 GMT" pgfnum="1062"/>
							<outline text="if (tag == &quot;img&quot;){" created="Fri, 08 Feb 2013 16:05:22 GMT" pgfnum="210">
								<outline text="h = h.replace(new RegExp(&quot;&amp;lt;&quot;+tag+&quot;((?!&amp;gt;).+)(/)?&amp;gt;&quot;,&quot;gi&quot;),&quot;&lt;&quot;+tag+&quot;$1&quot;+&quot;/&gt;&quot;);" created="Wed, 06 Feb 2013 03:27:24 GMT" pgfnum="1136"/>
								<outline text="}" created="Mon, 08 Apr 2013 15:22:18 GMT" pgfnum="1284"/>
								</outline>
							<outline text="else if (tag==&quot;a&quot;){" created="Thu, 07 Feb 2013 03:13:30 GMT" pgfnum="119">
								<outline text="h = h.replace(new RegExp(&quot;&amp;lt;&quot;+tag+&quot;((?!&amp;gt;).*?)&amp;gt;((?!&amp;lt;/&quot;+tag+&quot;&amp;gt;).+?)&amp;lt;/&quot;+tag+&quot;&amp;gt;&quot;,&quot;gi&quot;),&quot;&lt;&quot;+tag+&quot;$1&quot;+&quot;&gt;$2&quot;+&quot;&lt;&quot;+&quot;/&quot;+tag+&quot;&gt;&quot;);" created="Wed, 06 Feb 2013 03:27:24 GMT" pgfnum="1136"/>
								<outline text="}" created="Tue, 05 Feb 2013 18:11:24 GMT" pgfnum="1068"/>
								</outline>
							<outline text="else {" created="Mon, 08 Apr 2013 15:43:55 GMT" pgfnum="1289">
								<outline text="h = h.replace(new RegExp(&quot;&amp;lt;&quot;+tag+&quot;&amp;gt;((?!&amp;lt;/&quot;+tag+&quot;&amp;gt;).+?)&amp;lt;/&quot;+tag+&quot;&amp;gt;&quot;,&quot;gi&quot;),&quot;&lt;&quot;+tag+&quot;&gt;$1&quot;+&quot;&lt;&quot;+&quot;/&quot;+tag+&quot;&gt;&quot;);" created="Wed, 06 Feb 2013 03:27:24 GMT" pgfnum="1136"/>
								<outline text="}" created="Mon, 08 Apr 2013 15:43:58 GMT" pgfnum="1291"/>
								</outline>
							<outline text="}" created="Tue, 05 Feb 2013 17:49:05 GMT" pgfnum="1063"/>
							</outline>
						<outline text="}" created="Sun, 17 Feb 2013 21:41:54 GMT" pgfnum="120"/>
						</outline>
					<outline text="return h;" created="Tue, 05 Feb 2013 17:26:21 GMT" pgfnum="1053"/>
					<outline text="};" created="Tue, 05 Feb 2013 17:25:20 GMT" pgfnum="1051"/>
					</outline>
				<outline text="this.unescape = function(s){" created="Tue, 05 Feb 2013 17:29:38 GMT" pgfnum="1054">
					<outline text="var h = s.replace(/&lt;/g,&quot;&amp;lt;&quot;).replace(/&gt;/g,&quot;&amp;gt;&quot;);" created="Tue, 05 Feb 2013 17:30:30 GMT" pgfnum="1058"/>
					<outline text="h = $(&quot;&lt;div/&gt;&quot;).html(h).text();" created="Tue, 05 Feb 2013 17:29:46 GMT" pgfnum="1055"/>
					<outline text="return h;" created="Tue, 05 Feb 2013 17:30:26 GMT" pgfnum="1057"/>
					<outline text="};" created="Tue, 05 Feb 2013 17:29:48 GMT" pgfnum="1056"/>
					</outline>
				<outline text="this.getSelection = function(){" created="Wed, 06 Feb 2013 19:01:42 GMT" pgfnum="1">
					<outline text="var range = undefined;" created="Wed, 06 Feb 2013 19:07:16 GMT" pgfnum="24"/>
					<outline text="if(window.getSelection){" created="Wed, 06 Feb 2013 19:02:06 GMT" pgfnum="3">
						<outline text="sel = window.getSelection();" created="Wed, 06 Feb 2013 19:02:41 GMT" pgfnum="7"/>
						<outline text="if(sel.getRangeAt &amp;&amp; sel.rangeCount){" created="Wed, 06 Feb 2013 19:02:47 GMT" pgfnum="8">
							<outline text="range = sel.getRangeAt(0);" created="Wed, 06 Feb 2013 19:03:03 GMT" pgfnum="9"/>
							<outline text="if($(range.startContainer).parents(&quot;.concord-node:first&quot;).length==0){" created="Sat, 23 Mar 2013 17:26:09 GMT" pgfnum="794">
								<outline text="range = undefined;" created="Sat, 23 Mar 2013 17:26:25 GMT" pgfnum="795"/>
								<outline text="}" created="Mon, 08 Apr 2013 16:56:14 GMT" pgfnum="1322"/>
								</outline>
							<outline text="}" created="Wed, 06 Feb 2013 19:04:23 GMT" pgfnum="15"/>
							</outline>
						<outline text="}" created="Wed, 06 Feb 2013 19:03:08 GMT" pgfnum="10"/>
						</outline>
					<outline text="return range;" created="Wed, 06 Feb 2013 19:03:51 GMT" pgfnum="13"/>
					<outline text="};" created="Wed, 06 Feb 2013 19:01:55 GMT" pgfnum="2"/>
					</outline>
				<outline text="this.saveSelection = function(){" created="Wed, 06 Feb 2013 19:01:42 GMT" pgfnum="1">
					<outline text="var range = this.getSelection();" created="Wed, 06 Feb 2013 19:07:16 GMT" pgfnum="24"/>
					<outline text="if(range !== undefined){" created="Wed, 06 Feb 2013 19:07:56 GMT" pgfnum="26">
						<outline text="concordInstance.op.getCursor().data(&quot;range&quot;, range.cloneRange());" created="Wed, 06 Feb 2013 19:07:58 GMT" pgfnum="27"/>
						<outline text="}" created="Wed, 06 Feb 2013 19:19:05 GMT" pgfnum="38"/>
						</outline>
					<outline text="return range;" created="Wed, 06 Feb 2013 19:03:51 GMT" pgfnum="13"/>
					<outline text="};" created="Wed, 06 Feb 2013 19:01:55 GMT" pgfnum="2"/>
					</outline>
				<outline text="this.restoreSelection = function(range){" created="Wed, 06 Feb 2013 19:02:13 GMT" pgfnum="4">
					<outline text="var cursor = concordInstance.op.getCursor();" created="Mon, 08 Apr 2013 16:07:39 GMT" pgfnum="1321"/>
					<outline text="if(range===undefined){" created="Tue, 19 Feb 2013 16:16:19 GMT" pgfnum="220">
						<outline text="range = cursor.data(&quot;range&quot;);" created="Wed, 06 Feb 2013 19:06:47 GMT" pgfnum="23"/>
						<outline text="}" created="Tue, 19 Feb 2013 16:16:25 GMT" pgfnum="221"/>
						</outline>
					<outline text="if(range !== undefined){" created="Wed, 06 Feb 2013 19:02:20 GMT" pgfnum="5">
						<outline text="if(window.getSelection){">
							<outline text="var concordText = cursor.children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;);"/>
							<outline text="try{" created="Mon, 08 Apr 2013 16:06:29 GMT" pgfnum="1313">
								<outline text="var cloneRanger = range.cloneRange();" created="Thu, 11 Apr 2013 03:24:34 GMT" pgfnum="1472"/>
								<outline text="var sel = window.getSelection();"/>
								<outline text="sel.removeAllRanges();"/>
								<outline text="sel.addRange(cloneRanger);"/>
								<outline text="}" created="Mon, 08 Apr 2013 16:06:35 GMT" pgfnum="1314"/>
								</outline>
							<outline text="catch(e){" created="Mon, 08 Apr 2013 16:06:37 GMT" pgfnum="1315">
								<outline text="console.log(e);" created="Mon, 08 Apr 2013 16:07:08 GMT" pgfnum="1320"/>
								<outline text="}" created="Mon, 08 Apr 2013 16:06:40 GMT" pgfnum="1316"/>
								</outline>
							<outline text="finally {" created="Mon, 08 Apr 2013 16:06:41 GMT" pgfnum="1317">
								<outline text="cursor.removeData(&quot;range&quot;);"/>
								<outline text="}" created="Mon, 08 Apr 2013 16:06:44 GMT" pgfnum="1319"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="}" created="Wed, 06 Feb 2013 19:05:34 GMT" pgfnum="22"/>
						</outline>
					<outline text="return range;" created="Mon, 15 Apr 2013 14:28:48 GMT" pgfnum="1709"/>
					<outline text="};" created="Wed, 06 Feb 2013 19:02:20 GMT" pgfnum="6"/>
					</outline>
				<outline text="this.recalculateLevels = function(context){" created="Mon, 18 Feb 2013 17:37:04 GMT" pgfnum="194">
					<outline text="if(!context){" created="Mon, 18 Feb 2013 17:38:43 GMT" pgfnum="197">
						<outline text="context = root.find(&quot;.concord-node&quot;);" created="Mon, 18 Feb 2013 17:38:54 GMT" pgfnum="198"/>
						<outline text="}" created="Mon, 18 Feb 2013 17:39:02 GMT" pgfnum="199"/>
						</outline>
					<outline text="context.each(function(){">
						<outline text="var text = $(this).children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;);"/>
						<outline text="var levelMatch = $(this).attr(&quot;class&quot;).match(/.*concord-level-(\d+).*/);"/>
						<outline text="if(levelMatch){">
							<outline text="$(this).removeClass(&quot;concord-level-&quot;+levelMatch[1]);"/>
							<outline text="text.removeClass(&quot;concord-level-&quot;+levelMatch[1]+&quot;-text&quot;);"/>
							<outline text="}"/>
							</outline>
						<outline text="var level = $(this).parents(&quot;.concord-node&quot;).length+1;"/>
						<outline text="$(this).addClass(&quot;concord-level-&quot;+level);"/>
						<outline text="text.addClass(&quot;concord-level-&quot;+level+&quot;-text&quot;);"/>
						<outline text="});"/>
						</outline>
					<outline text="};" created="Mon, 18 Feb 2013 17:38:08 GMT" pgfnum="196"/>
					</outline>
				<outline text="}"/>
				</outline>
			<outline text="function ConcordEvents(root, editor, op, concordInstance) {" collapse="true">
				<outline text="var instance = this;" created="Sat, 13 Apr 2013 23:20:20 GMT" pgfnum="1678"/>
				<outline text="this.wrapperDoubleClick = function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(root.data(&quot;dropdown&quot;)){" collapse="true" created="Fri, 01 Feb 2013 03:26:14 GMT" pgfnum="685">
						<outline text="editor.hideContextMenu();" created="Fri, 01 Feb 2013 03:28:00 GMT" pgfnum="690"/>
						<outline text="return;" created="Fri, 01 Feb 2013 03:30:09 GMT" pgfnum="691"/>
						<outline text="}" created="Fri, 01 Feb 2013 03:26:31 GMT" pgfnum="688"/>
						</outline>
					<outline text="if(!editor.editable($(event.target))) {" collapse="true">
						<outline text="var wrapper = $(event.target);"/>
						<outline text="if(wrapper.hasClass(&quot;node-icon&quot;)){" collapse="true" created="Fri, 25 Jan 2013 05:05:45 GMT" pgfnum="371">
							<outline text="wrapper = wrapper.parent();" created="Fri, 25 Jan 2013 05:05:54 GMT" pgfnum="372"/>
							<outline text="}" created="Fri, 25 Jan 2013 05:05:58 GMT" pgfnum="373"/>
							</outline>
						<outline text="if(wrapper.hasClass(&quot;concord-wrapper&quot;)) {" collapse="true">
							<outline text="event.stopPropagation();" created="Thu, 28 Mar 2013 20:40:53 GMT" pgfnum="1110"/>
							<outline text="var node = wrapper.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="op.setTextMode(false);" created="Mon, 28 Jan 2013 15:02:12 GMT" pgfnum="487"/>
							<outline text="if(op.subsExpanded()) {" collapse="true">
								<outline text="op.collapse();"/>
								<outline text="} else {" collapse="true">
									<outline text="op.expand();"/>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.clickSelect = function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(root.data(&quot;dropdown&quot;)){" collapse="true" created="Fri, 01 Feb 2013 03:26:14 GMT" pgfnum="685">
						<outline text="event.stopPropagation();" created="Fri, 01 Feb 2013 04:07:20 GMT" pgfnum="705"/>
						<outline text="editor.hideContextMenu();" created="Fri, 01 Feb 2013 03:28:00 GMT" pgfnum="690"/>
						<outline text="return;" created="Fri, 01 Feb 2013 03:30:09 GMT" pgfnum="691"/>
						<outline text="}" created="Fri, 01 Feb 2013 03:26:31 GMT" pgfnum="688"/>
						</outline>
					<outline text="if(concord.mobile){" created="Sat, 13 Apr 2013 23:19:38 GMT" pgfnum="1674">
						<outline text="var node = $(event.target);" created="Tue, 09 Apr 2013 19:43:42 GMT" pgfnum="1383"/>
						<outline text="if(concordInstance.op.getCursor()[0]===node[0]){" created="Tue, 09 Apr 2013 19:44:09 GMT" pgfnum="1386">
							<outline text="instance.doubleClick(event);" created="Tue, 09 Apr 2013 19:45:42 GMT" pgfnum="1393"/>
							<outline text="return;" created="Sat, 13 Apr 2013 23:20:41 GMT" pgfnum="1679"/>
							<outline text="}" created="Sat, 13 Apr 2013 23:20:55 GMT" pgfnum="1680"/>
							</outline>
						<outline text="}" created="Sat, 13 Apr 2013 23:19:46 GMT" pgfnum="1676"/>
						</outline>
					<outline text="if((event.which==1) &amp;&amp; !editor.editable($(event.target))) {" collapse="true">
						<outline text="var node = $(event.target);"/>
						<outline text="if(!node.hasClass(&quot;concord-node&quot;)){" collapse="true" created="Wed, 30 Jan 2013 14:44:29 GMT" pgfnum="625">
							<outline text="return;" created="Fri, 01 Feb 2013 03:21:08 GMT" pgfnum="679"/>
							<outline text="}" created="Wed, 30 Jan 2013 14:44:48 GMT" pgfnum="627"/>
							</outline>
						<outline text="if(node.length==1) {" collapse="true">
							<outline text="event.stopPropagation();" created="Sat, 26 Jan 2013 21:17:49 GMT" pgfnum="419"/>
							<outline text="if(event.shiftKey &amp;&amp; (node.parents(&quot;.concord-node.selected&quot;).length&gt;0)){" created="Mon, 29 Apr 2013 16:03:47 GMT" pgfnum="2377">
								<outline text="return;" created="Mon, 29 Apr 2013 16:08:08 GMT" pgfnum="2380"/>
								<outline text="}" created="Mon, 29 Apr 2013 16:08:10 GMT" pgfnum="2381"/>
								</outline>
							<outline text="op.setTextMode(false);" created="Mon, 28 Jan 2013 15:00:06 GMT" pgfnum="484"/>
							<outline text="op.setCursor(node, event.shiftKey || event.metaKey, event.shiftKey);" created="Mon, 28 Jan 2013 15:23:12 GMT" pgfnum="493"/>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.doubleClick = function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(root.data(&quot;dropdown&quot;)){" collapse="true" created="Fri, 01 Feb 2013 03:26:14 GMT" pgfnum="685">
						<outline text="editor.hideContextMenu();" created="Fri, 01 Feb 2013 03:28:00 GMT" pgfnum="690"/>
						<outline text="return;" created="Fri, 01 Feb 2013 03:30:09 GMT" pgfnum="691"/>
						<outline text="}" created="Fri, 01 Feb 2013 03:26:31 GMT" pgfnum="688"/>
						</outline>
					<outline text="if(!editor.editable($(event.target))) {" collapse="true">
						<outline text="var node = $(event.target);"/>
						<outline text="if(node.hasClass(&quot;concord-node&quot;) &amp;&amp; node.hasClass(&quot;concord-cursor&quot;)) {" collapse="true">
							<outline text="event.stopPropagation();" created="Sat, 26 Jan 2013 21:17:49 GMT" pgfnum="419"/>
							<outline text="op.setTextMode(false);" created="Mon, 28 Jan 2013 15:24:08 GMT" pgfnum="495"/>
							<outline text="op.setCursor(node);" created="Mon, 28 Jan 2013 15:23:54 GMT" pgfnum="494"/>
							<outline text="if(op.subsExpanded()) {" collapse="true">
								<outline text="op.collapse();"/>
								<outline text="} else {" collapse="true">
									<outline text="op.expand();"/>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.wrapperClickSelect = function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(root.data(&quot;dropdown&quot;)){" collapse="true" created="Fri, 01 Feb 2013 03:26:14 GMT" pgfnum="685">
						<outline text="editor.hideContextMenu();" created="Fri, 01 Feb 2013 03:28:00 GMT" pgfnum="690"/>
						<outline text="return;" created="Fri, 01 Feb 2013 03:30:09 GMT" pgfnum="691"/>
						<outline text="}" created="Fri, 01 Feb 2013 03:26:31 GMT" pgfnum="688"/>
						</outline>
					<outline text="if(concord.mobile){" created="Sat, 13 Apr 2013 23:19:38 GMT" pgfnum="1674">
						<outline text="var target = $(event.target);" created="Tue, 09 Apr 2013 19:43:42 GMT" pgfnum="1383"/>
						<outline text="var node = target.parents(&quot;.concord-node:first&quot;);" created="Tue, 09 Apr 2013 19:48:42 GMT" pgfnum="1397"/>
						<outline text="if(concordInstance.op.getCursor()[0]===node[0]){" created="Tue, 09 Apr 2013 19:44:09 GMT" pgfnum="1386">
							<outline text="instance.wrapperDoubleClick(event);" created="Tue, 09 Apr 2013 19:45:42 GMT" pgfnum="1393"/>
							<outline text="return;" created="Sat, 13 Apr 2013 23:20:41 GMT" pgfnum="1679"/>
							<outline text="}" created="Sat, 13 Apr 2013 23:20:55 GMT" pgfnum="1680"/>
							</outline>
						<outline text="}" created="Sat, 13 Apr 2013 23:19:46 GMT" pgfnum="1676"/>
						</outline>
					<outline text="if((event.which==1) &amp;&amp; !editor.editable($(event.target))) {" collapse="true">
						<outline text="var wrapper = $(event.target);"/>
						<outline text="if(wrapper.hasClass(&quot;node-icon&quot;)){" collapse="true" created="Fri, 25 Jan 2013 05:05:45 GMT" pgfnum="371">
							<outline text="wrapper = wrapper.parent();" created="Fri, 25 Jan 2013 05:05:54 GMT" pgfnum="372"/>
							<outline text="}" created="Fri, 25 Jan 2013 05:05:58 GMT" pgfnum="373"/>
							</outline>
						<outline text="if(wrapper.hasClass(&quot;concord-wrapper&quot;)) {" collapse="true">
							<outline text="var node = wrapper.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="if(event.shiftKey &amp;&amp; (node.parents(&quot;.concord-node.selected&quot;).length&gt;0)){" created="Mon, 29 Apr 2013 16:03:47 GMT" pgfnum="2377">
								<outline text="return;" created="Mon, 29 Apr 2013 16:08:08 GMT" pgfnum="2380"/>
								<outline text="}" created="Mon, 29 Apr 2013 16:08:10 GMT" pgfnum="2381"/>
								</outline>
							<outline text="op.setTextMode(false);" created="Mon, 28 Jan 2013 15:02:12 GMT" pgfnum="487"/>
							<outline text="op.setCursor(node, event.shiftKey || event.metaKey, event.shiftKey);" created="Mon, 28 Jan 2013 15:24:26 GMT" pgfnum="496"/>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.contextmenu = function(event){" collapse="true" created="Tue, 29 Jan 2013 15:54:33 GMT" pgfnum="564">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="event.preventDefault();" created="Mon, 28 Jan 2013 21:40:09 GMT" pgfnum="522"/>
					<outline text="event.stopPropagation();" created="Sat, 26 Jan 2013 21:17:49 GMT" pgfnum="419"/>
					<outline text="var node = $(event.target);"/>
					<outline text="if(node.hasClass(&quot;concord-wrapper&quot;) || node.hasClass(&quot;node-icon&quot;)){" collapse="true" created="Wed, 30 Jan 2013 03:35:55 GMT" pgfnum="583">
						<outline text="op.setTextMode(false);" created="Wed, 30 Jan 2013 03:43:44 GMT" pgfnum="592"/>
						<outline text="}" created="Wed, 30 Jan 2013 03:36:22 GMT" pgfnum="585"/>
						</outline>
					<outline text="if(!node.hasClass(&quot;concord-node&quot;)){" collapse="true" created="Tue, 29 Jan 2013 15:56:46 GMT" pgfnum="567">
						<outline text="node = node.parents(&quot;.concord-node:first&quot;);" created="Tue, 29 Jan 2013 15:56:54 GMT" pgfnum="568"/>
						<outline text="}" created="Tue, 29 Jan 2013 15:57:11 GMT" pgfnum="569"/>
						</outline>
					<outline text="concordInstance.fireCallback(&quot;opContextMenu&quot;, op.setCursorContext(node));" created="Wed, 30 Jan 2013 16:36:17 GMT" pgfnum="640"/>
					<outline text="op.setCursor(node);" created="Mon, 28 Jan 2013 15:23:12 GMT" pgfnum="493"/>
					<outline text="editor.showContextMenu(event.pageX, event.pageY);" created="Tue, 29 Jan 2013 14:36:49 GMT" pgfnum="528"/>
					<outline text="};" created="Tue, 29 Jan 2013 16:14:02 GMT" pgfnum="571"/>
					</outline>
				<outline text="root.on(&quot;dblclick&quot;, &quot;.concord-wrapper&quot;, this.wrapperDoubleClick);"/>
				<outline text="root.on(&quot;dblclick&quot;, &quot;.concord-node&quot;, this.doubleClick);"/>
				<outline text="root.on(&quot;dblclick&quot;, &quot;.concord-text&quot;, function(event){" created="Thu, 28 Feb 2013 02:47:30 GMT" pgfnum="308">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="event.preventDefault();" created="Thu, 28 Feb 2013 02:48:15 GMT" pgfnum="311"/>
						<outline text="event.stopPropagation();"/>
						<outline text="var node = $(event.target).parents(&quot;.concord-node:first&quot;);"/>
						<outline text="op.setCursor(node);"/>
						<outline text="if(op.subsExpanded()) {">
							<outline text="op.collapse();"/>
							<outline text="} else {">
								<outline text="op.expand();"/>
								<outline text="}"/>
								</outline>
							</outline>
						<outline text="}" created="Thu, 28 Feb 2013 02:48:20 GMT" pgfnum="312"/>
						</outline>
					<outline text="});" created="Thu, 28 Feb 2013 02:47:48 GMT" pgfnum="310"/>
					</outline>
				<outline text="root.on(&quot;click&quot;, &quot;.concord-wrapper&quot;, this.wrapperClickSelect);"/>
				<outline text="root.on(&quot;click&quot;, &quot;.concord-node&quot;, this.clickSelect);"/>
				<outline text="root.on(&quot;mouseover&quot;, &quot;.concord-wrapper&quot;, function(event){" created="Sun, 17 Feb 2013 21:30:19 GMT" pgfnum="109">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var node = $(event.target).parents(&quot;.concord-node:first&quot;);" created="Mon, 18 Feb 2013 00:08:14 GMT" pgfnum="153"/>
					<outline text="concordInstance.fireCallback(&quot;opHover&quot;, op.setCursorContext(node));" created="Sun, 17 Feb 2013 21:30:35 GMT" pgfnum="110"/>
					<outline text="});" created="Sun, 17 Feb 2013 21:30:45 GMT" pgfnum="111"/>
					</outline>
				<outline text="if(concordInstance.prefs.contextMenu){" created="Fri, 15 Feb 2013 00:06:17 GMT" pgfnum="92">
					<outline text="root.on(&quot;contextmenu&quot;, &quot;.concord-text&quot;, this.contextmenu);" created="Tue, 29 Jan 2013 15:50:19 GMT" pgfnum="560"/>
					<outline text="root.on(&quot;contextmenu&quot;, &quot;.concord-node&quot;, this.contextmenu);" created="Mon, 28 Jan 2013 21:31:47 GMT" pgfnum="515"/>
					<outline text="root.on(&quot;contextmenu&quot;, &quot;.concord-wrapper&quot;, this.contextmenu);" created="Wed, 30 Jan 2013 03:35:05 GMT" pgfnum="582"/>
					<outline text="}" created="Fri, 15 Feb 2013 00:06:43 GMT" pgfnum="93"/>
					</outline>
				<outline text="root.on(&quot;blur&quot;, &quot;.concord-text&quot;, function(event){" created="Wed, 06 Feb 2013 20:10:40 GMT" pgfnum="63">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){" created="Wed, 27 Feb 2013 19:15:06 GMT" pgfnum="291">
						<outline text="return;" created="Wed, 27 Feb 2013 19:15:27 GMT" pgfnum="292"/>
						<outline text="}" created="Wed, 27 Feb 2013 19:15:28 GMT" pgfnum="293"/>
						</outline>
					<outline text="if($(this).html().match(/^\s*&lt;br&gt;\s*$/)){" created="Fri, 22 Mar 2013 23:23:12 GMT" pgfnum="771">
						<outline text="$(this).html(&quot;&quot;);" created="Fri, 22 Mar 2013 23:23:44 GMT" pgfnum="772"/>
						<outline text="}" created="Fri, 22 Mar 2013 23:23:49 GMT" pgfnum="773"/>
						</outline>
					<outline text="var concordText = $(this);" created="Tue, 09 Apr 2013 16:19:06 GMT" pgfnum="1349"/>
					<outline text="var node = $(this).parents(&quot;.concord-node:first&quot;);" created="Fri, 22 Mar 2013 15:19:03 GMT" pgfnum="727"/>
					<outline text="if(concordInstance.op.inTextMode()){" created="Mon, 25 Mar 2013 12:16:21 GMT" pgfnum="850">
						<outline text="editor.saveSelection();" created="Wed, 06 Feb 2013 19:50:02 GMT" pgfnum="45"/>
						<outline text="}" created="Mon, 25 Mar 2013 12:16:31 GMT" pgfnum="851"/>
						</outline>
					<outline text="if(concordInstance.op.inTextMode() &amp;&amp; node.hasClass(&quot;dirty&quot;)){" created="Fri, 22 Mar 2013 15:19:14 GMT" pgfnum="728">
						<outline text="node.removeClass(&quot;dirty&quot;);" created="Fri, 22 Mar 2013 15:19:20 GMT" pgfnum="729"/>
						<outline text="}" created="Fri, 22 Mar 2013 15:19:32 GMT" pgfnum="731"/>
						</outline>
					<outline text="});" created="Wed, 06 Feb 2013 20:11:02 GMT" pgfnum="65"/>
					</outline>
				<outline text="root.on(&quot;paste&quot;, &quot;.concord-text&quot;, function(event){" created="Tue, 05 Feb 2013 21:50:04 GMT" pgfnum="1087">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="$(this).addClass(&quot;paste&quot;);" created="Tue, 05 Feb 2013 21:50:45 GMT" pgfnum="1090"/>
					<outline text="concordInstance.editor.saveSelection();" created="Sat, 09 Feb 2013 23:52:17 GMT" pgfnum="343"/>
					<outline text="concordInstance.pasteBin.html(&quot;&quot;);" created="Sat, 16 Mar 2013 00:23:09 GMT" pgfnum="568"/>
					<outline text="concordInstance.pasteBin.focus();" created="Sat, 16 Mar 2013 00:23:16 GMT" pgfnum="569"/>
					<outline text="setTimeout(editor.sanitize,10);" created="Tue, 05 Feb 2013 21:50:22 GMT" pgfnum="1088"/>
					<outline text="});" created="Tue, 05 Feb 2013 21:50:25 GMT" pgfnum="1089"/>
					</outline>
				<outline text="concordInstance.pasteBin.on(&quot;copy&quot;, function(){" created="Mon, 11 Feb 2013 19:26:47 GMT" pgfnum="41">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var copyText = &quot;&quot;;" created="Mon, 11 Feb 2013 19:12:16 GMT" pgfnum="32"/>
					<outline text="root.find(&quot;.selected&quot;).each(function(){" created="Mon, 11 Feb 2013 19:12:27 GMT" pgfnum="33">
						<outline text="copyText+= concordInstance.editor.textLine($(this));" created="Mon, 11 Feb 2013 19:12:42 GMT" pgfnum="34"/>
						<outline text="});" created="Mon, 11 Feb 2013 19:12:57 GMT" pgfnum="35"/>
						</outline>
					<outline text="if((copyText!=&quot;&quot;) &amp;&amp; (copyText!=&quot;\n&quot;)){" created="Mon, 11 Feb 2013 19:26:22 GMT" pgfnum="39">
						<outline text="concordClipboard = {text: copyText, data: root.find(&quot;.selected&quot;).clone(true, true)};" created="Thu, 16 May 2013 01:16:14 GMT" pgfnum="2477"/>
						<outline text="concordInstance.pasteBin.html(&quot;&lt;pre&gt;&quot;+$(&quot;&lt;div/&gt;&quot;).text(copyText).html()+&quot;&lt;/pre&gt;&quot;);" created="Mon, 11 Feb 2013 19:13:11 GMT" pgfnum="37"/>
						<outline text="concordInstance.pasteBin.focus();" created="Tue, 09 Apr 2013 02:35:29 GMT" pgfnum="1335"/>
						<outline text="document.execCommand(&quot;selectAll&quot;);" created="Mon, 11 Feb 2013 19:13:51 GMT" pgfnum="38"/>
						<outline text="}" created="Mon, 11 Feb 2013 19:26:30 GMT" pgfnum="40"/>
						</outline>
					<outline text="});" created="Mon, 11 Feb 2013 19:27:27 GMT" pgfnum="43"/>
					</outline>
				<outline text="concordInstance.pasteBin.on(&quot;paste&quot;, function(event){" created="Tue, 05 Feb 2013 21:50:04 GMT" pgfnum="1087">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var concordText = concordInstance.op.getCursor().children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;);" created="Sat, 09 Feb 2013 05:55:55 GMT" pgfnum="278"/>
					<outline text="concordText.addClass(&quot;paste&quot;);" created="Tue, 05 Feb 2013 21:50:45 GMT" pgfnum="1090"/>
					<outline text="concordInstance.pasteBin.html(&quot;&quot;);" created="Sat, 09 Feb 2013 06:10:55 GMT" pgfnum="280"/>
					<outline text="setTimeout(editor.sanitize,10);" created="Tue, 05 Feb 2013 21:50:22 GMT" pgfnum="1088"/>
					<outline text="});" created="Tue, 05 Feb 2013 21:50:25 GMT" pgfnum="1089"/>
					</outline>
				<outline text="concordInstance.pasteBin.on(&quot;cut&quot;, function(){" created="Mon, 11 Feb 2013 19:27:52 GMT" pgfnum="44">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var copyText = &quot;&quot;;" created="Mon, 11 Feb 2013 19:12:16 GMT" pgfnum="32"/>
					<outline text="root.find(&quot;.selected&quot;).each(function(){" created="Mon, 11 Feb 2013 19:12:27 GMT" pgfnum="33">
						<outline text="copyText+= concordInstance.editor.textLine($(this));" created="Mon, 11 Feb 2013 19:12:42 GMT" pgfnum="34"/>
						<outline text="});" created="Mon, 11 Feb 2013 19:12:57 GMT" pgfnum="35"/>
						</outline>
					<outline text="if((copyText!=&quot;&quot;) &amp;&amp; (copyText!=&quot;\n&quot;)){" created="Mon, 11 Feb 2013 20:29:35 GMT" pgfnum="56">
						<outline text="concordClipboard = {text: copyText, data: root.find(&quot;.selected&quot;).clone(true, true)};" created="Thu, 16 May 2013 01:16:14 GMT" pgfnum="2477"/>
						<outline text="concordInstance.pasteBin.html(&quot;&lt;pre&gt;&quot;+$(&quot;&lt;div/&gt;&quot;).text(copyText).html()+&quot;&lt;/pre&gt;&quot;);" created="Mon, 11 Feb 2013 19:13:11 GMT" pgfnum="37"/>
						<outline text="concordInstance.pasteBinFocus();" created="Fri, 15 Mar 2013 22:40:56 GMT" pgfnum="540"/>
						<outline text="}" created="Mon, 11 Feb 2013 20:29:46 GMT" pgfnum="57"/>
						</outline>
					<outline text="concordInstance.op.deleteLine();" created="Mon, 11 Feb 2013 19:29:54 GMT" pgfnum="47"/>
					<outline text="setTimeout(function(){concordInstance.pasteBinFocus()}, 200);" created="Fri, 15 Mar 2013 22:45:00 GMT" pgfnum="541"/>
					<outline text="});" created="Mon, 11 Feb 2013 19:28:49 GMT" pgfnum="46"/>
					</outline>
				<outline text="root.on(&quot;mousedown&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var target = $(event.target);"/>
					<outline text="if(target.is(&quot;a&quot;)){">
						<outline text="if(target.attr(&quot;href&quot;)){">
							<outline text="event.preventDefault();"/>
							<outline text="window.open(target.attr(&quot;href&quot;));"/>
							<outline text="}"/>
							</outline>
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="event.preventDefault();" created="Wed, 27 Feb 2013 19:20:43 GMT" pgfnum="302"/>
						<outline text="var target = $(event.target);"/>
						<outline text="if(target.parents(&quot;.concord-text:first&quot;).length==1){">
							<outline text="target = target.parents(&quot;.concord-text:first&quot;);"/>
							<outline text="}"/>
							</outline>
						<outline text="if(target.hasClass(&quot;concord-text&quot;)){">
							<outline text="var node = target.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="if(node.length==1){">
								<outline text="op.setCursor(node);" created="Thu, 28 Feb 2013 02:04:21 GMT" pgfnum="307"/>
								<outline text="}"/>
								</outline>
							<outline text="}" created="Thu, 28 Feb 2013 02:02:54 GMT" pgfnum="306"/>
							</outline>
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(event.which==1) {" collapse="true">
						<outline text="if(root.data(&quot;dropdown&quot;)){" collapse="true" created="Fri, 01 Feb 2013 03:26:14 GMT" pgfnum="685">
							<outline text="editor.hideContextMenu();" created="Fri, 01 Feb 2013 03:28:00 GMT" pgfnum="690"/>
							<outline text="return;" created="Fri, 01 Feb 2013 03:30:09 GMT" pgfnum="691"/>
							<outline text="}" created="Fri, 01 Feb 2013 03:26:31 GMT" pgfnum="688"/>
							</outline>
						<outline text="if(target.parents(&quot;.concord-text:first&quot;).length==1){" created="Tue, 05 Feb 2013 20:16:44 GMT" pgfnum="1070">
							<outline text="target = target.parents(&quot;.concord-text:first&quot;);" created="Tue, 05 Feb 2013 20:17:06 GMT" pgfnum="1071"/>
							<outline text="}" created="Tue, 05 Feb 2013 20:17:16 GMT" pgfnum="1072"/>
							</outline>
						<outline text="if(target.hasClass(&quot;concord-text&quot;)){" collapse="true" created="Fri, 01 Feb 2013 22:29:27 GMT" pgfnum="779">
							<outline text="var node = target.parents(&quot;.concord-node:first&quot;);" created="Fri, 01 Feb 2013 22:36:57 GMT" pgfnum="785"/>
							<outline text="if(node.length==1){" collapse="true" created="Fri, 01 Feb 2013 22:38:18 GMT" pgfnum="788">
								<outline text="if(!root.hasClass(&quot;textMode&quot;)){" created="Thu, 11 Apr 2013 20:07:38 GMT" pgfnum="1560">
									<outline text="root.find(&quot;.selected&quot;).removeClass(&quot;selected&quot;);" created="Fri, 01 Feb 2013 22:38:01 GMT" pgfnum="787"/>
									<outline text="root.addClass(&quot;textMode&quot;);" created="Fri, 01 Feb 2013 22:34:16 GMT" pgfnum="782"/>
									<outline text="}" created="Thu, 11 Apr 2013 20:08:07 GMT" pgfnum="1562"/>
									</outline>
								<outline text="if(node.children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).hasClass(&quot;editing&quot;)){" created="Thu, 11 Apr 2013 20:19:21 GMT" pgfnum="1567">
									<outline text="root.find(&quot;.editing&quot;).removeClass(&quot;editing&quot;);" created="Fri, 01 Feb 2013 22:48:38 GMT" pgfnum="794"/>
									<outline text="node.children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).addClass(&quot;editing&quot;);" created="Fri, 01 Feb 2013 22:47:54 GMT" pgfnum="793"/>
									<outline text="}" created="Thu, 11 Apr 2013 20:19:33 GMT" pgfnum="1568"/>
									</outline>
								<outline text="if(!node.hasClass(&quot;concord-cursor&quot;)){" created="Thu, 11 Apr 2013 20:08:15 GMT" pgfnum="1563">
									<outline text="root.find(&quot;.concord-cursor&quot;).removeClass(&quot;concord-cursor&quot;);" created="Fri, 01 Feb 2013 22:36:35 GMT" pgfnum="784"/>
									<outline text="node.addClass(&quot;concord-cursor&quot;);" created="Fri, 01 Feb 2013 22:37:34 GMT" pgfnum="786"/>
									<outline text="concordInstance.fireCallback(&quot;opCursorMoved&quot;, op.setCursorContext(node));"/>
									<outline text="}" created="Thu, 11 Apr 2013 20:08:26 GMT" pgfnum="1565"/>
									</outline>
								<outline text="}" created="Fri, 01 Feb 2013 22:38:25 GMT" pgfnum="789"/>
								</outline>
							<outline text="}else{" collapse="true" created="Fri, 01 Feb 2013 22:34:18 GMT" pgfnum="783">
								<outline text="event.preventDefault();"/>
								<outline text="root.data(&quot;mousedown&quot;, true);"/>
								<outline text="}" created="Fri, 01 Feb 2013 22:30:09 GMT" pgfnum="781"/>
								</outline>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="root.on(&quot;mousemove&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(!editor.editable($(event.target))) {" collapse="true">
						<outline text="event.preventDefault();"/>
						<outline text="if(root.data(&quot;mousedown&quot;) &amp;&amp; !root.data(&quot;dragging&quot;)) {" collapse="true">
							<outline text="var target = $(event.target);"/>
							<outline text="if(target.hasClass(&quot;node-icon&quot;)){" created="Mon, 08 Apr 2013 15:01:32 GMT" pgfnum="1280">
								<outline text="target = target.parent();" created="Mon, 08 Apr 2013 15:01:43 GMT" pgfnum="1281"/>
								<outline text="}" created="Mon, 08 Apr 2013 15:01:43 GMT" pgfnum="1282"/>
								</outline>
							<outline text="if(target.hasClass(&quot;concord-wrapper&quot;) &amp;&amp; target.parent().hasClass(&quot;selected&quot;)) {" collapse="true">
								<outline text="editor.dragMode();"/>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="root.on(&quot;mouseup&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="var target = $(event.target);"/>
					<outline text="if(target.hasClass(&quot;concord-node&quot;)) {" collapse="true">
						<outline text="target = target.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;);"/>
						<outline text="} else if(target.hasClass(&quot;concord-wrapper&quot;)) {" collapse="true">
							<outline text="target = target.children(&quot;.concord-text:first&quot;);"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="if(!editor.editable(target)) {" collapse="true">
						<outline text="root.data(&quot;mousedown&quot;, false);"/>
						<outline text="if(root.data(&quot;dragging&quot;)) {" collapse="true">
							<outline text="var target = $(event.target);"/>
							<outline text="var node = target.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="var draggable = root.find(&quot;.selected&quot;);"/>
							<outline text="if((node.length == 1) &amp;&amp; (draggable.length &gt;= 1)) {" collapse="true">
								<outline text="var isDraggableTarget = false;" created="Sat, 02 Feb 2013 21:12:21 GMT" pgfnum="874"/>
								<outline text="draggable.each(function(){" created="Sat, 02 Feb 2013 21:12:34 GMT" pgfnum="875">
									<outline text="if(this==node[0]){" created="Sat, 02 Feb 2013 21:12:40 GMT" pgfnum="876">
										<outline text="isDraggableTarget = true;" created="Sat, 02 Feb 2013 21:12:50 GMT" pgfnum="877"/>
										<outline text="}" created="Sat, 02 Feb 2013 21:12:56 GMT" pgfnum="878"/>
										</outline>
									<outline text="});" created="Sat, 02 Feb 2013 21:12:59 GMT" pgfnum="879"/>
									</outline>
								<outline text="if(!isDraggableTarget) {" collapse="true">
									<outline text="var draggableIsTargetParent = false;"/>
									<outline text="node.parents(&quot;.concord-node&quot;).each(function() {" collapse="true">
										<outline text="var nodeParent = $(this)[0];" created="Sat, 02 Feb 2013 20:48:08 GMT" pgfnum="864"/>
										<outline text="draggable.each(function(){" created="Sat, 02 Feb 2013 20:50:33 GMT" pgfnum="868">
											<outline text="if($(this)[0] == nodeParent) {" collapse="true">
												<outline text="draggableIsTargetParent = true;"/>
												<outline text="}"/>
												</outline>
											<outline text="});" created="Sat, 02 Feb 2013 20:50:39 GMT" pgfnum="869"/>
											</outline>
										<outline text="});"/>
										</outline>
									<outline text="if(!draggableIsTargetParent) {" collapse="true">
										<outline text="if(target.hasClass(&quot;concord-wrapper&quot;) || target.hasClass(&quot;node-icon&quot;)) {" collapse="true">
											<outline text="var clonedDraggable = draggable.clone(true, true);" created="Mon, 15 Apr 2013 12:43:04 GMT" pgfnum="1700"/>
											<outline text="clonedDraggable.insertAfter(node);" created="Sat, 02 Feb 2013 21:02:25 GMT" pgfnum="873"/>
											<outline text="draggable.remove();"/>
											<outline text="} else {" collapse="true">
												<outline text="var clonedDraggable = draggable.clone(true, true);" created="Mon, 15 Apr 2013 12:43:04 GMT" pgfnum="1700"/>
												<outline text="var outline = node.children(&quot;ol&quot;);"/>
												<outline text="clonedDraggable.prependTo(outline);"/>
												<outline text="node.removeClass(&quot;collapsed&quot;);"/>
												<outline text="draggable.remove();"/>
												<outline text="}"/>
												</outline>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="} else {" collapse="true">
										<outline text="var prev = node.prev();"/>
										<outline text="if(prev.length == 1) {" collapse="true">
											<outline text="if(prev.hasClass(&quot;drop-child&quot;)) {" collapse="true">
												<outline text="var clonedDraggable = draggable.clone(true, true);" created="Mon, 15 Apr 2013 12:43:04 GMT" pgfnum="1700"/>
												<outline text="var outline = prev.children(&quot;ol&quot;);"/>
												<outline text="clonedDraggable.appendTo(outline);"/>
												<outline text="prev.removeClass(&quot;collapsed&quot;);"/>
												<outline text="draggable.remove();"/>
												<outline text="}"/>
												</outline>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="editor.dragModeExit();"/>
							<outline text="concordInstance.editor.recalculateLevels();"/>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="root.on(&quot;mouseover&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(root.data(&quot;dragging&quot;)) {" collapse="true">
						<outline text="event.preventDefault();"/>
						<outline text="var target = $(event.target);"/>
						<outline text="var node = target.parents(&quot;.concord-node:first&quot;);"/>
						<outline text="var draggable = root.find(&quot;.selected&quot;);"/>
						<outline text="if((node.length == 1) &amp;&amp; (draggable.length&gt;=1)) {" collapse="true">
							<outline text="var isDraggableTarget = false;" created="Sat, 02 Feb 2013 21:12:21 GMT" pgfnum="874"/>
							<outline text="draggable.each(function(){" created="Sat, 02 Feb 2013 21:12:34 GMT" pgfnum="875">
								<outline text="if(this==node[0]){" created="Sat, 02 Feb 2013 21:12:40 GMT" pgfnum="876">
									<outline text="isDraggableTarget = true;" created="Sat, 02 Feb 2013 21:12:50 GMT" pgfnum="877"/>
									<outline text="}" created="Sat, 02 Feb 2013 21:12:56 GMT" pgfnum="878"/>
									</outline>
								<outline text="});" created="Sat, 02 Feb 2013 21:12:59 GMT" pgfnum="879"/>
								</outline>
							<outline text="if(!isDraggableTarget) {" collapse="true">
								<outline text="var draggableIsTargetParent = false;"/>
								<outline text="node.parents(&quot;.concord-node&quot;).each(function() {" collapse="true">
									<outline text="var nodeParent = $(this)[0];" created="Sat, 02 Feb 2013 20:48:08 GMT" pgfnum="864"/>
									<outline text="draggable.each(function(){" created="Sat, 02 Feb 2013 20:50:33 GMT" pgfnum="868">
										<outline text="if($(this)[0] == nodeParent) {" collapse="true">
											<outline text="draggableIsTargetParent = true;"/>
											<outline text="}"/>
											</outline>
										<outline text="});" created="Sat, 02 Feb 2013 20:50:39 GMT" pgfnum="869"/>
										</outline>
									<outline text="});"/>
									</outline>
								<outline text="if(!draggableIsTargetParent) {" collapse="true">
									<outline text="node.removeClass(&quot;drop-sibling&quot;).remove(&quot;drop-child&quot;);"/>
									<outline text="if(target.hasClass(&quot;concord-wrapper&quot;) || target.hasClass(&quot;node-icon&quot;)) {" collapse="true">
										<outline text="node.addClass(&quot;drop-sibling&quot;);"/>
										<outline text="} else {" collapse="true">
											<outline text="node.addClass(&quot;drop-child&quot;);"/>
											<outline text="}"/>
											</outline>
										</outline>
									<outline text="}"/>
									</outline>
								<outline text="} else if (draggable.length==1){" collapse="true">
									<outline text="var prev = node.prev();"/>
									<outline text="if(prev.length == 1) {" collapse="true">
										<outline text="prev.removeClass(&quot;drop-sibling&quot;).remove(&quot;drop-child&quot;);"/>
										<outline text="prev.addClass(&quot;drop-child&quot;);"/>
										<outline text="}"/>
										</outline>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="root.on(&quot;mouseout&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(concordInstance.prefs()[&quot;readonly&quot;]==true){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(root.data(&quot;dragging&quot;)) {" collapse="true">
						<outline text="root.find(&quot;.drop-sibling&quot;).removeClass(&quot;drop-sibling&quot;);"/>
						<outline text="root.find(&quot;.drop-child&quot;).removeClass(&quot;drop-child&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="}"/>
				</outline>
			<outline text="function ConcordOp(root, concordInstance, _cursor) {">
				<outline text="this._walk_up = function(context) {" collapse="true">
					<outline text="var prev = context.prev();"/>
					<outline text="if(prev.length == 0) {" collapse="true">
						<outline text="var parent = context.parents(&quot;.concord-node:first&quot;);"/>
						<outline text="if(parent.length == 1) {" collapse="true">
							<outline text="return parent;"/>
							<outline text="} else {" collapse="true">
								<outline text="return null;"/>
								<outline text="}"/>
								</outline>
							</outline>
						<outline text="} else {" collapse="true">
							<outline text="return this._last_child(prev);"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this._walk_down = function(context) {" collapse="true">
					<outline text="var next = context.next();"/>
					<outline text="if(next.length == 1) {" collapse="true">
						<outline text="return next;"/>
						<outline text="} else {" collapse="true">
							<outline text="var parent = context.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="if(parent.length == 1) {" collapse="true">
								<outline text="return this._walk_down(parent);"/>
								<outline text="} else {" collapse="true">
									<outline text="return null;"/>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this._last_child = function(context) {" collapse="true">
					<outline text="if(context.hasClass(&quot;collapsed&quot;)) {" collapse="true">
						<outline text="return context;"/>
						<outline text="}"/>
						</outline>
					<outline text="var outline = context.children(&quot;ol&quot;);"/>
					<outline text="if(outline.length == 0) {" collapse="true">
						<outline text="return context;"/>
						<outline text="} else {" collapse="true">
							<outline text="var lastChild = outline.children(&quot;.concord-node:last&quot;);"/>
							<outline text="if(lastChild.length == 1) {" collapse="true">
								<outline text="return this._last_child(lastChild);"/>
								</outline>
							<outline text="} else {" collapse="true">
								<outline text="return context;"/>
								</outline>
							<outline text="}"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.bold = function(){" created="Tue, 05 Feb 2013 21:32:34 GMT" pgfnum="1073">
					<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:47:23 GMT" pgfnum="628"/>
					<outline text="if(this.inTextMode()){" created="Tue, 05 Feb 2013 21:32:50 GMT" pgfnum="1075">
						<outline text="document.execCommand(&quot;bold&quot;);" created="Tue, 05 Feb 2013 21:32:38 GMT" pgfnum="1074"/>
						<outline text="}else{" created="Tue, 05 Feb 2013 21:33:01 GMT" pgfnum="1076">
							<outline text="this.focusCursor();" created="Wed, 06 Feb 2013 00:39:07 GMT" pgfnum="1131"/>
							<outline text="document.execCommand(&quot;selectAll&quot;);" created="Wed, 06 Feb 2013 00:34:47 GMT" pgfnum="1121"/>
							<outline text="document.execCommand(&quot;bold&quot;);" created="Wed, 06 Feb 2013 00:34:55 GMT" pgfnum="1122"/>
							<outline text="document.execCommand(&quot;unselect&quot;);" created="Wed, 06 Feb 2013 00:35:00 GMT" pgfnum="1123"/>
							<outline text="this.blurCursor();" created="Wed, 06 Feb 2013 00:39:13 GMT" pgfnum="1132"/>
							<outline text="concordInstance.pasteBinFocus();"/>
							<outline text="}" created="Wed, 06 Feb 2013 00:30:25 GMT" pgfnum="1118"/>
							</outline>
						</outline>
					<outline text="this.markChanged();" created="Sun, 24 Mar 2013 20:06:47 GMT" pgfnum="829"/>
					<outline text="};" created="Tue, 05 Feb 2013 21:33:50 GMT" pgfnum="1080"/>
					</outline>
				<outline text="this.changed = function() {" collapse="true">
					<outline text="return root.data(&quot;changed&quot;) == true;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.clearChanged = function() {" collapse="true">
					<outline text="root.data(&quot;changed&quot;, false);"/>
					<outline text="return true;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.collapse = function(triggerCallbacks) {" collapse="true">
					<outline text="if(triggerCallbacks == undefined){">
						<outline text="triggerCallbacks = true;"/>
						<outline text="}"/>
						</outline>
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="if(triggerCallbacks){">
							<outline text="concordInstance.fireCallback(&quot;opCollapse&quot;, this.setCursorContext(node));"/>
							<outline text="}"/>
							</outline>
						<outline text="node.addClass(&quot;collapsed&quot;);"/>
						<outline text="node.find(&quot;ol&quot;).each(function() {" collapse="true">
							<outline text="if($(this).children().length &gt; 0) {" collapse="true">
								<outline text="$(this).parent().addClass(&quot;collapsed&quot;);"/>
								<outline text="}"/>
								</outline>
							<outline text="});"/>
							</outline>
						<outline text="this.markChanged();" created="Fri, 22 Mar 2013 15:57:27 GMT" pgfnum="752"/>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.copy = function(){" collapse="true" created="Thu, 24 Jan 2013 14:01:29 GMT" pgfnum="285">
					<outline text="if(!this.inTextMode()){" created="Sun, 03 Feb 2013 16:53:20 GMT" pgfnum="936">
						<outline text="root.data(&quot;clipboard&quot;, root.find(&quot;.selected&quot;).clone(true, true));" created="Sun, 03 Feb 2013 16:53:35 GMT" pgfnum="938"/>
						<outline text="}" created="Sun, 03 Feb 2013 16:54:05 GMT" pgfnum="939"/>
						</outline>
					<outline text="};" created="Thu, 24 Jan 2013 14:01:33 GMT" pgfnum="286"/>
					</outline>
				<outline text="this.countSubs = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="return node.children(&quot;ol&quot;).children().size();"/>
						<outline text="}"/>
						</outline>
					<outline text="return 0;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.cursorToXml = function(){" created="Tue, 05 Feb 2013 04:50:03 GMT" pgfnum="1040">
					<outline text="return concordInstance.editor.opml(this.getCursor());" created="Tue, 05 Feb 2013 04:50:29 GMT" pgfnum="1044"/>
					<outline text="};" created="Tue, 05 Feb 2013 04:50:11 GMT" pgfnum="1041"/>
					</outline>
				<outline text="this.cursorToXmlSubsOnly = function(){ //8/5/13 by DW" created="Tue, 05 Feb 2013 04:50:03 GMT" pgfnum="1040">
					<outline text="return concordInstance.editor.opml(this.getCursor(), true);" created="Tue, 05 Feb 2013 04:50:29 GMT" pgfnum="1044"/>
					<outline text="};" created="Tue, 05 Feb 2013 04:50:11 GMT" pgfnum="1041"/>
					</outline>
				<outline text="this.cut = function(){" collapse="true" created="Thu, 24 Jan 2013 14:01:55 GMT" pgfnum="288">
					<outline text="if(!this.inTextMode()){" created="Mon, 04 Feb 2013 03:24:10 GMT" pgfnum="953">
						<outline text="this.copy();" created="Thu, 24 Jan 2013 14:02:23 GMT" pgfnum="292"/>
						<outline text="this.deleteLine();" created="Thu, 24 Jan 2013 14:02:12 GMT" pgfnum="290"/>
						<outline text="}" created="Wed, 24 Apr 2013 16:30:27 GMT" pgfnum="2168"/>
						</outline>
					<outline text="};" created="Thu, 24 Jan 2013 14:02:17 GMT" pgfnum="291"/>
					</outline>
				<outline text="this.deleteLine = function() {" collapse="true">
					<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:44:21 GMT" pgfnum="619"/>
					<outline text="if(this.inTextMode()){" collapse="true" created="Fri, 01 Feb 2013 15:34:39 GMT" pgfnum="712">
						<outline text="var cursor = this.getCursor();" created="Fri, 01 Feb 2013 15:35:28 GMT" pgfnum="715"/>
						<outline text="var p = cursor.prev();" created="Fri, 01 Feb 2013 15:35:34 GMT" pgfnum="716"/>
						<outline text="if(p.length==0){" collapse="true" created="Sun, 27 Jan 2013 16:38:18 GMT" pgfnum="435">
							<outline text="p = cursor.parents(&quot;.concord-node:first&quot;);" created="Sun, 27 Jan 2013 16:38:25 GMT" pgfnum="436"/>
							<outline text="}" created="Sun, 27 Jan 2013 16:38:50 GMT" pgfnum="437"/>
							</outline>
						<outline text="cursor.remove();"/>
						<outline text="if(p.length==1) {" collapse="true">
							<outline text="this.setCursor(p);" created="Mon, 28 Jan 2013 14:46:31 GMT" pgfnum="468"/>
							<outline text="} else {" collapse="true">
								<outline text="if(root.find(&quot;.concord-node:first&quot;).length==1) {" collapse="true">
									<outline text="this.setCursor(root.find(&quot;.concord-node:first&quot;));" created="Mon, 28 Jan 2013 14:46:41 GMT" pgfnum="469"/>
									<outline text="} else {" collapse="true">
										<outline text="this.wipe();"/>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="}"/>
								</outline>
							</outline>
						<outline text="}else{" collapse="true" created="Fri, 01 Feb 2013 15:34:48 GMT" pgfnum="713">
							<outline text="var selected = root.find(&quot;.selected&quot;);"/>
							<outline text="if(selected.length == 1) {" collapse="true">
								<outline text="var p = selected.prev();"/>
								<outline text="if(p.length==0){" collapse="true" created="Sun, 27 Jan 2013 16:38:18 GMT" pgfnum="435">
									<outline text="p = selected.parents(&quot;.concord-node:first&quot;);" created="Sun, 27 Jan 2013 16:38:25 GMT" pgfnum="436"/>
									<outline text="}" created="Sun, 27 Jan 2013 16:38:50 GMT" pgfnum="437"/>
									</outline>
								<outline text="selected.remove();"/>
								<outline text="if(p.length==1) {" collapse="true">
									<outline text="this.setCursor(p);" created="Mon, 28 Jan 2013 14:46:31 GMT" pgfnum="468"/>
									<outline text="} else {" collapse="true">
										<outline text="if(root.find(&quot;.concord-node:first&quot;).length==1) {" collapse="true">
											<outline text="this.setCursor(root.find(&quot;.concord-node:first&quot;));" created="Mon, 28 Jan 2013 14:46:41 GMT" pgfnum="469"/>
											<outline text="} else {" collapse="true">
												<outline text="this.wipe();"/>
												<outline text="}"/>
												</outline>
											</outline>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="} else if(selected.length &gt; 1) {" collapse="true">
									<outline text="var first = root.find(&quot;.selected:first&quot;);"/>
									<outline text="var p = first.prev();" created="Mon, 28 Jan 2013 14:47:09 GMT" pgfnum="470"/>
									<outline text="if(p.length==0){" collapse="true" created="Mon, 28 Jan 2013 14:47:21 GMT" pgfnum="471">
										<outline text="p = first.parents(&quot;.concord-node:first&quot;);" created="Mon, 28 Jan 2013 14:47:26 GMT" pgfnum="472"/>
										<outline text="}" created="Mon, 28 Jan 2013 14:47:33 GMT" pgfnum="473"/>
										</outline>
									<outline text="selected.each(function() {" collapse="true">
										<outline text="$(this).remove();"/>
										<outline text="});"/>
										</outline>
									<outline text="if(p.length==1){" collapse="true" created="Mon, 28 Jan 2013 14:47:46 GMT" pgfnum="474">
										<outline text="this.setCursor(p);" created="Mon, 28 Jan 2013 14:47:56 GMT" pgfnum="475"/>
										<outline text="}else{" collapse="true" created="Mon, 28 Jan 2013 14:48:02 GMT" pgfnum="476">
											<outline text="if(root.find(&quot;.concord-node:first&quot;).length==1) {" collapse="true">
												<outline text="this.setCursor(root.find(&quot;.concord-node:first&quot;));" created="Mon, 28 Jan 2013 14:46:41 GMT" pgfnum="469"/>
												<outline text="} else {" collapse="true">
													<outline text="this.wipe();"/>
													<outline text="}"/>
													</outline>
												</outline>
											<outline text="}" created="Mon, 28 Jan 2013 14:48:21 GMT" pgfnum="478"/>
											</outline>
										</outline>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="}" created="Fri, 01 Feb 2013 15:35:05 GMT" pgfnum="714"/>
							</outline>
						</outline>
					<outline text="if(root.find(&quot;.concord-node&quot;).length == 0) {" collapse="true">
						<outline text="var node = this.insert(&quot;&quot;, down);"/>
						<outline text="this.setCursor(node);"/>
						<outline text="}" created="Tue, 19 Mar 2013 20:43:38 GMT" pgfnum="618"/>
						</outline>
					<outline text="this.markChanged();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.deleteSubs = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="if(node.children(&quot;ol&quot;).children().length &gt; 0){" created="Tue, 19 Mar 2013 20:44:39 GMT" pgfnum="620">
							<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:45:10 GMT" pgfnum="621"/>
							<outline text="node.children(&quot;ol&quot;).empty();"/>
							<outline text="}" created="Tue, 19 Mar 2013 20:45:17 GMT" pgfnum="622"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="this.markChanged();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.demote = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="var movedSiblings = false;" created="Thu, 24 Jan 2013 04:40:34 GMT" pgfnum="238"/>
					<outline text="if(node.nextAll().length&gt;0){" created="Tue, 19 Mar 2013 20:46:01 GMT" pgfnum="623">
						<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:46:09 GMT" pgfnum="624"/>
						<outline text="node.nextAll().each(function() {" collapse="true">
							<outline text="var sibling = $(this).clone(true, true);"/>
							<outline text="$(this).remove();"/>
							<outline text="sibling.appendTo(node.children(&quot;ol&quot;));"/>
							<outline text="node.removeClass(&quot;collapsed&quot;);"/>
							<outline text="});"/>
							</outline>
						<outline text="concordInstance.editor.recalculateLevels(node.find(&quot;.concord-node&quot;));"/>
						<outline text="this.markChanged();"/>
						<outline text="}" created="Tue, 19 Mar 2013 20:46:13 GMT" pgfnum="625"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.expand = function(triggerCallbacks) {" collapse="true">
					<outline text="if(triggerCallbacks == undefined){" created="Mon, 18 Feb 2013 00:43:01 GMT" pgfnum="157">
						<outline text="triggerCallbacks = true;" created="Mon, 18 Feb 2013 00:43:10 GMT" pgfnum="158"/>
						<outline text="}" created="Mon, 18 Feb 2013 00:43:15 GMT" pgfnum="159"/>
						</outline>
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="if(triggerCallbacks){" created="Mon, 18 Feb 2013 00:42:09 GMT" pgfnum="154">
							<outline text="concordInstance.fireCallback(&quot;opExpand&quot;, this.setCursorContext(node));"/>
							<outline text="}" created="Mon, 18 Feb 2013 00:42:20 GMT" pgfnum="156"/>
							</outline>
						<outline text="if(!node.hasClass(&quot;collapsed&quot;)){" created="Wed, 10 Apr 2013 20:28:37 GMT" pgfnum="1448">
							<outline text="return;" created="Wed, 10 Apr 2013 20:28:46 GMT" pgfnum="1449"/>
							<outline text="}" created="Wed, 10 Apr 2013 20:28:47 GMT" pgfnum="1450"/>
							</outline>
						<outline text="node.removeClass(&quot;collapsed&quot;);"/>
						<outline text="var cursorPosition = node.offset().top;" created="Mon, 04 Feb 2013 17:04:37 GMT" pgfnum="1001"/>
						<outline text="var cursorHeight =node.height();" created="Mon, 04 Feb 2013 17:05:01 GMT" pgfnum="1002"/>
						<outline text="var windowPosition = $(window).scrollTop();" created="Mon, 04 Feb 2013 17:04:16 GMT" pgfnum="1000"/>
						<outline text="var windowHeight = $(window).height();" created="Mon, 04 Feb 2013 17:03:46 GMT" pgfnum="999"/>
						<outline text="if( ( cursorPosition &lt; windowPosition ) || ( (cursorPosition+cursorHeight) &gt; (windowPosition+windowHeight) ) ){" created="Mon, 04 Feb 2013 17:05:25 GMT" pgfnum="1003">
							<outline text="if(cursorPosition &lt; windowPosition){" created="Mon, 04 Feb 2013 19:18:58 GMT" pgfnum="1011">
								<outline text="$(window).scrollTop(cursorPosition);" created="Mon, 04 Feb 2013 16:10:50 GMT" pgfnum="994"/>
								<outline text="}else if ((cursorPosition+cursorHeight) &gt; (windowPosition+windowHeight)){" created="Mon, 04 Feb 2013 19:19:23 GMT" pgfnum="1012">
									<outline text="var lineHeight = parseInt(node.children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).css(&quot;line-height&quot;)) + 6;" created="Mon, 04 Feb 2013 19:28:40 GMT" pgfnum="1019"/>
									<outline text="if((cursorHeight+lineHeight) &lt; windowHeight){" created="Mon, 04 Feb 2013 19:19:30 GMT" pgfnum="1013">
										<outline text="$(window).scrollTop(cursorPosition - (windowHeight-cursorHeight)+lineHeight);" created="Mon, 04 Feb 2013 19:23:52 GMT" pgfnum="1015"/>
										<outline text="}else{" created="Mon, 04 Feb 2013 19:23:57 GMT" pgfnum="1016">
											<outline text="$(window).scrollTop(cursorPosition);" created="Mon, 04 Feb 2013 19:23:58 GMT" pgfnum="1017"/>
											<outline text="}" created="Mon, 04 Feb 2013 19:24:15 GMT" pgfnum="1018"/>
											</outline>
										</outline>
									<outline text="}" created="Mon, 04 Feb 2013 19:19:32 GMT" pgfnum="1014"/>
									</outline>
								</outline>
							<outline text="}" created="Mon, 04 Feb 2013 17:07:50 GMT" pgfnum="1004"/>
							</outline>
						<outline text="this.markChanged();" created="Fri, 22 Mar 2013 15:57:15 GMT" pgfnum="751"/>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.expandAllLevels = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="node.removeClass(&quot;collapsed&quot;);"/>
						<outline text="node.find(&quot;.concord-node&quot;).removeClass(&quot;collapsed&quot;);"/>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.focusCursor = function(){" created="Wed, 06 Feb 2013 00:37:50 GMT" pgfnum="1125">
					<outline text="this.getCursor().children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).focus();" created="Mon, 04 Feb 2013 15:55:43 GMT" pgfnum="985"/>
					<outline text="};" created="Wed, 06 Feb 2013 00:38:22 GMT" pgfnum="1127"/>
					</outline>
				<outline text="this.blurCursor = function(){" created="Wed, 06 Feb 2013 00:38:24 GMT" pgfnum="1128">
					<outline text="this.getCursor().children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).blur();" created="Mon, 04 Feb 2013 15:55:43 GMT" pgfnum="985"/>
					<outline text="};" created="Wed, 06 Feb 2013 00:38:29 GMT" pgfnum="1129"/>
					</outline>
				<outline text="this.fullCollapse = function() {" collapse="true">
					<outline text="root.find(&quot;.concord-node&quot;).each(function() {" collapse="true">
						<outline text="if($(this).children(&quot;ol&quot;).children().size() &gt; 0) {" collapse="true">
							<outline text="$(this).addClass(&quot;collapsed&quot;);"/>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="var cursor = this.getCursor();"/>
					<outline text="var topParent = cursor.parents(&quot;.concord-node:last&quot;);"/>
					<outline text="if(topParent.length == 1) {" collapse="true">
						<outline text="concordInstance.editor.select(topParent);"/>
						<outline text="}"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.fullExpand = function() {" collapse="true">
					<outline text="root.find(&quot;.concord-node&quot;).removeClass(&quot;collapsed&quot;);"/>
					<outline text="};"/>
					</outline>
				<outline text="this.getCursor = function(){" collapse="true" created="Mon, 21 Jan 2013 01:58:54 GMT" pgfnum="43">
					<outline text="if(_cursor){" collapse="true" created="Mon, 21 Jan 2013 05:26:04 GMT" pgfnum="46">
						<outline text="return _cursor;" created="Mon, 21 Jan 2013 05:26:09 GMT" pgfnum="47"/>
						<outline text="}" created="Mon, 21 Jan 2013 05:26:15 GMT" pgfnum="48"/>
						</outline>
					<outline text="return root.find(&quot;.concord-cursor:first&quot;);" created="Mon, 21 Jan 2013 01:59:05 GMT" pgfnum="45"/>
					<outline text="};" created="Mon, 21 Jan 2013 01:58:59 GMT" pgfnum="44"/>
					</outline>
				<outline text="this.getCursorRef = function(){" collapse="true" created="Mon, 21 Jan 2013 01:58:54 GMT" pgfnum="43">
					<outline text="return this.setCursorContext(this.getCursor());" created="Wed, 12 Jun 2013 19:20:17 GMT" pgfnum="4410"/>
					<outline text="};" created="Mon, 21 Jan 2013 01:58:59 GMT" pgfnum="44"/>
					</outline>
				<outline text="this.getHeaders = function(){">
					<outline text="var headers = {};"/>
					<outline text="if(root.data(&quot;head&quot;)){" created="Fri, 10 May 2013 18:51:42 GMT" pgfnum="2421">
						<outline text="headers = root.data(&quot;head&quot;);" created="Fri, 10 May 2013 18:51:55 GMT" pgfnum="2422"/>
						<outline text="}" created="Fri, 10 May 2013 18:52:00 GMT" pgfnum="2423"/>
						</outline>
					<outline text="headers[&quot;title&quot;] = this.getTitle();" created="Thu, 25 Apr 2013 18:12:10 GMT" pgfnum="2265"/>
					<outline text="return headers;"/>
					<outline text="},"/>
					</outline>
				<outline text="this.getLineText = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="var text = node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;).html();"/>
						<outline text="var textMatches = text.match(/^(.+)&lt;br&gt;\s*$/);" created="Fri, 22 Mar 2013 23:36:29 GMT" pgfnum="779"/>
						<outline text="if(textMatches){" created="Fri, 22 Mar 2013 23:35:19 GMT" pgfnum="775">
							<outline text="text = textMatches[1];" created="Fri, 22 Mar 2013 23:35:54 GMT" pgfnum="776"/>
							<outline text="}" created="Fri, 22 Mar 2013 23:36:15 GMT" pgfnum="777"/>
							</outline>
						<outline text="return concordInstance.editor.unescape(text);"/>
						<outline text="} else {" collapse="true">
							<outline text="return null;"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.getRenderMode = function(){" created="Sun, 17 Feb 2013 21:39:33 GMT" pgfnum="112">
					<outline text="if(root.data(&quot;renderMode&quot;)!==undefined){" created="Fri, 22 Mar 2013 15:41:43 GMT" pgfnum="743">
						<outline text="return (root.data(&quot;renderMode&quot;)===true);" created="Sun, 17 Feb 2013 21:39:39 GMT" pgfnum="113"/>
						<outline text="}else{" created="Fri, 22 Mar 2013 15:41:56 GMT" pgfnum="744">
							<outline text="return true;" created="Fri, 22 Mar 2013 15:41:58 GMT" pgfnum="745"/>
							<outline text="}" created="Fri, 22 Mar 2013 15:42:03 GMT" pgfnum="746"/>
							</outline>
						</outline>
					<outline text="};" created="Sun, 17 Feb 2013 21:39:51 GMT" pgfnum="114"/>
					</outline>
				<outline text="this.getTitle = function() {" collapse="true">
					<outline text="return root.data(&quot;title&quot;);"/>
					<outline text="};"/>
					</outline>
				<outline text="this.go = function(direction, count, multiple, textMode) {" collapse="true">
					<outline text="if(count===undefined) {" collapse="true">
						<outline text="count = 1;"/>
						<outline text="}"/>
						</outline>
					<outline text="var cursor = this.getCursor();"/>
					<outline text="if(textMode==undefined){" collapse="true" created="Fri, 01 Feb 2013 21:46:47 GMT" pgfnum="766">
						<outline text="textMode = false;" created="Fri, 01 Feb 2013 21:47:10 GMT" pgfnum="767"/>
						<outline text="}" created="Fri, 01 Feb 2013 21:47:13 GMT" pgfnum="768"/>
						</outline>
					<outline text="this.setTextMode(textMode);" created="Thu, 31 Jan 2013 03:20:10 GMT" pgfnum="645"/>
					<outline text="var ableToMoveInDirection = false;" created="Sun, 17 Feb 2013 20:47:22 GMT" pgfnum="106"/>
					<outline text="switch(direction) {" collapse="true">
						<outline text="case up:" collapse="true">
							<outline text="for(var i = 0; i &lt; count; i++) {" collapse="true">
								<outline text="var prev = cursor.prev();"/>
								<outline text="if(prev.length == 1) {" collapse="true">
									<outline text="cursor = prev;"/>
									<outline text="ableToMoveInDirection = true;"/>
									<outline text="}else{">
										<outline text="break;" created="Sat, 16 Feb 2013 22:51:15 GMT" pgfnum="94"/>
										<outline text="}" created="Sat, 16 Feb 2013 22:51:17 GMT" pgfnum="95"/>
										</outline>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="this.setCursor(cursor, multiple);" created="Mon, 28 Jan 2013 14:43:04 GMT" pgfnum="465"/>
							<outline text="break;"/>
							</outline>
						<outline text="case down:" collapse="true">
							<outline text="for(var i = 0; i &lt; count; i++) {" collapse="true">
								<outline text="var next = cursor.next();"/>
								<outline text="if(next.length == 1) {" collapse="true">
									<outline text="cursor = next;"/>
									<outline text="ableToMoveInDirection = true;"/>
									<outline text="}else{">
										<outline text="break;"/>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="this.setCursor(cursor, multiple);" created="Mon, 28 Jan 2013 14:43:04 GMT" pgfnum="465"/>
							<outline text="break;"/>
							</outline>
						<outline text="case left:" collapse="true">
							<outline text="for(var i = 0; i &lt; count; i++) {" collapse="true">
								<outline text="var parent = cursor.parents(&quot;.concord-node:first&quot;);"/>
								<outline text="if(parent.length == 1) {" collapse="true">
									<outline text="cursor = parent;"/>
									<outline text="ableToMoveInDirection = true;"/>
									<outline text="}else{">
										<outline text="break;"/>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="this.setCursor(cursor, multiple);" created="Mon, 28 Jan 2013 14:43:04 GMT" pgfnum="465"/>
							<outline text="break;"/>
							</outline>
						<outline text="case right:" collapse="true">
							<outline text="for(var i = 0; i &lt; count; i++) {" collapse="true">
								<outline text="var firstSibling = cursor.children(&quot;ol&quot;).children(&quot;.concord-node:first&quot;);"/>
								<outline text="if(firstSibling.length == 1) {" collapse="true">
									<outline text="cursor = firstSibling;"/>
									<outline text="ableToMoveInDirection = true;"/>
									<outline text="}else{">
										<outline text="break;"/>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="this.setCursor(cursor, multiple);" created="Mon, 28 Jan 2013 14:43:04 GMT" pgfnum="465"/>
							<outline text="break;"/>
							</outline>
						<outline text="case flatup:" collapse="true">
							<outline text="var nodeCount = 0;"/>
							<outline text="while(cursor &amp;&amp; (nodeCount &lt; count)) {" collapse="true">
								<outline text="var cursor = this._walk_up(cursor);"/>
								<outline text="if(cursor) {" collapse="true">
									<outline text="if(!cursor.hasClass(&quot;collapsed&quot;) &amp;&amp; (cursor.children(&quot;ol&quot;).children().size() &gt; 0)) {" collapse="true">
										<outline text="nodeCount++;"/>
										<outline text="ableToMoveInDirection = true;"/>
										<outline text="if(nodeCount == count) {" collapse="true">
											<outline text="this.setCursor(cursor, multiple);" created="Mon, 28 Jan 2013 14:43:04 GMT" pgfnum="465"/>
											<outline text="break;"/>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							<outline text="break;"/>
							</outline>
						<outline text="case flatdown:" collapse="true">
							<outline text="var nodeCount = 0;"/>
							<outline text="while(cursor &amp;&amp; (nodeCount &lt; count)) {" collapse="true">
								<outline text="var next = null;"/>
								<outline text="if(!cursor.hasClass(&quot;collapsed&quot;)) {" collapse="true">
									<outline text="var outline = cursor.children(&quot;ol&quot;);"/>
									<outline text="if(outline.length == 1) {" collapse="true">
										<outline text="var firstChild = outline.children(&quot;.concord-node:first&quot;);"/>
										<outline text="if(firstChild.length == 1) {" collapse="true">
											<outline text="next = firstChild;"/>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="}"/>
									</outline>
								<outline text="if(!next) {" collapse="true">
									<outline text="next = this._walk_down(cursor);"/>
									<outline text="}"/>
									</outline>
								<outline text="cursor = next;"/>
								<outline text="if(cursor) {" collapse="true">
									<outline text="if(!cursor.hasClass(&quot;collapsed&quot;) &amp;&amp; (cursor.children(&quot;ol&quot;).children().size() &gt; 0)) {" collapse="true">
										<outline text="nodeCount++;"/>
										<outline text="ableToMoveInDirection = true;"/>
										<outline text="if(nodeCount == count) {" collapse="true">
											<outline text="this.setCursor(cursor, multiple);" created="Mon, 28 Jan 2013 14:43:04 GMT" pgfnum="465"/>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="this.markChanged();"/>
					<outline text="return ableToMoveInDirection;" created="Sun, 17 Feb 2013 20:49:20 GMT" pgfnum="108"/>
					<outline text="};"/>
					</outline>
				<outline text="this.insert = function(insertText, insertDirection) {" collapse="true">
					<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:46:50 GMT" pgfnum="626"/>
					<outline text="var level = this.getCursor().parents(&quot;.concord-node&quot;).length+1;" created="Mon, 18 Feb 2013 04:07:16 GMT" pgfnum="178"/>
					<outline text="var node = $(&quot;&lt;li&gt;&lt;/li&gt;&quot;);"/>
					<outline text="node.addClass(&quot;concord-node&quot;);"/>
					<outline text="switch(insertDirection){" created="Mon, 18 Feb 2013 04:08:09 GMT" pgfnum="180">
						<outline text="case right:" created="Mon, 18 Feb 2013 04:08:15 GMT" pgfnum="181">
							<outline text="level+=1;" created="Mon, 18 Feb 2013 04:08:18 GMT" pgfnum="182"/>
							<outline text="break;" created="Mon, 18 Feb 2013 04:08:23 GMT" pgfnum="183"/>
							</outline>
						<outline text="case left:" created="Mon, 18 Feb 2013 04:08:24 GMT" pgfnum="184">
							<outline text="level-=1;" created="Mon, 18 Feb 2013 04:08:25 GMT" pgfnum="185"/>
							<outline text="break;" created="Mon, 18 Feb 2013 04:08:32 GMT" pgfnum="186"/>
							</outline>
						<outline text="}" created="Mon, 18 Feb 2013 04:08:34 GMT" pgfnum="187"/>
						</outline>
					<outline text="node.addClass(&quot;concord-level-&quot;+level);" created="Mon, 18 Feb 2013 04:08:36 GMT" pgfnum="188"/>
					<outline text="var wrapper = $(&quot;&lt;div class='concord-wrapper'&gt;&lt;/div&gt;&quot;);"/>
					<outline text="var iconName=&quot;caret-right&quot;;"/>
					<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-&quot;+ iconName +&quot;\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
					<outline text="wrapper.append(icon);" created="Fri, 29 Mar 2013 03:41:13 GMT" pgfnum="1123"/>
					<outline text="wrapper.addClass(&quot;type-icon&quot;);" created="Fri, 25 Jan 2013 04:38:50 GMT" pgfnum="357"/>
					<outline text="var text = $(&quot;&lt;div class='concord-text' contenteditable='true'&gt;&lt;/div&gt;&quot;);"/>
					<outline text="text.addClass(&quot;concord-level-&quot;+level+&quot;-text&quot;);" created="Mon, 18 Feb 2013 15:45:47 GMT" pgfnum="193"/>
					<outline text="var outline = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);"/>
					<outline text="text.appendTo(wrapper);"/>
					<outline text="wrapper.appendTo(node);"/>
					<outline text="outline.appendTo(node);"/>
					<outline text="if(insertText &amp;&amp; (insertText!=&quot;&quot;)){" created="Tue, 05 Feb 2013 22:58:29 GMT" pgfnum="1102">
						<outline text="text.html(concordInstance.editor.escape(insertText));"/>
						<outline text="}" created="Tue, 05 Feb 2013 22:58:43 GMT" pgfnum="1103"/>
						</outline>
					<outline text="var cursor = this.getCursor();"/>
					<outline text="if(!insertDirection) {" collapse="true">
						<outline text="insertDirection = down;"/>
						<outline text="}"/>
						</outline>
					<outline text="switch(insertDirection) {" collapse="true">
						<outline text="case down:" collapse="true">
							<outline text="cursor.after(node);"/>
							<outline text="break;"/>
							</outline>
						<outline text="case right:" collapse="true">
							<outline text="cursor.children(&quot;ol&quot;).prepend(node);"/>
							<outline text="this.expand(false);" created="Sat, 26 Jan 2013 21:43:45 GMT" pgfnum="421"/>
							<outline text="break;"/>
							</outline>
						<outline text="case up:" collapse="true">
							<outline text="cursor.before(node);"/>
							<outline text="break;"/>
							</outline>
						<outline text="case left:" collapse="true">
							<outline text="var parent = cursor.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="if(parent.length == 1) {" collapse="true">
								<outline text="parent.after(node);"/>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="this.setCursor(node);" created="Sat, 26 Jan 2013 21:40:04 GMT" pgfnum="420"/>
					<outline text="this.markChanged();" created="Wed, 13 Mar 2013 20:03:38 GMT" pgfnum="494"/>
					<outline text="concordInstance.fireCallback(&quot;opInsert&quot;, this.setCursorContext(node));"/>
					<outline text="return node;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.insertImage = function(url){" created="Fri, 08 Feb 2013 16:14:52 GMT" pgfnum="212">
					<outline text="if(this.inTextMode()){" created="Fri, 08 Feb 2013 16:14:57 GMT" pgfnum="213">
						<outline text="document.execCommand(&quot;insertImage&quot;, null, url);" created="Fri, 08 Feb 2013 16:19:22 GMT" pgfnum="220"/>
						<outline text="}else{" created="Fri, 08 Feb 2013 16:15:49 GMT" pgfnum="215">
							<outline text="this.insert('&lt;img src=&quot;'+url+'&quot;&gt;', down);" created="Fri, 08 Feb 2013 16:15:56 GMT" pgfnum="217"/>
							<outline text="}" created="Fri, 08 Feb 2013 16:15:51 GMT" pgfnum="216"/>
							</outline>
						</outline>
					<outline text="};" created="Fri, 08 Feb 2013 16:14:57 GMT" pgfnum="214"/>
					</outline>
				<outline text="this.insertText = function(text){" created="Wed, 10 Apr 2013 15:19:54 GMT" pgfnum="1410">
					<outline text="var nodes = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);" created="Sun, 10 Feb 2013 03:37:03 GMT" pgfnum="381"/>
					<outline text="var lastLevel = 0;" created="Sun, 10 Feb 2013 03:37:33 GMT" pgfnum="382"/>
					<outline text="var startingline = 0;" created="Wed, 10 Apr 2013 18:17:07 GMT" pgfnum="1432"/>
					<outline text="var startinglevel = 0;" created="Wed, 10 Apr 2013 18:31:42 GMT" pgfnum="1438"/>
					<outline text="var lastNode = null;" created="Sun, 10 Feb 2013 03:37:37 GMT" pgfnum="383"/>
					<outline text="var parent = null;" created="Sun, 10 Feb 2013 03:37:42 GMT" pgfnum="384"/>
					<outline text="var parents = {};" created="Mon, 11 Feb 2013 20:51:15 GMT" pgfnum="61"/>
					<outline text="var lines = text.split(&quot;\n&quot;);" created="Wed, 10 Apr 2013 15:21:25 GMT" pgfnum="1413"/>
					<outline text="var workflowy=true;" created="Wed, 10 Apr 2013 15:25:04 GMT" pgfnum="1414"/>
					<outline text="var workflowyParent = null;" created="Thu, 11 Apr 2013 18:00:47 GMT" pgfnum="1542"/>
					<outline text="var firstlinewithcontent = 0;" created="Wed, 10 Apr 2013 18:45:19 GMT" pgfnum="1446"/>
					<outline text="for(var i = 0; i &lt; lines.length; i++){" created="Wed, 10 Apr 2013 15:25:08 GMT" pgfnum="1415">
						<outline text="var line = lines[i];" created="Thu, 07 Feb 2013 21:58:00 GMT" pgfnum="179"/>
						<outline text="if(!line.match(/^\s*$/)){" created="Wed, 10 Apr 2013 15:25:36 GMT" pgfnum="1416">
							<outline text="firstlinewithcontent = i;"/>
							<outline text="break;" created="Wed, 10 Apr 2013 15:26:09 GMT" pgfnum="1420"/>
							<outline text="}" created="Wed, 10 Apr 2013 15:26:06 GMT" pgfnum="1419"/>
							</outline>
						<outline text="}" created="Wed, 10 Apr 2013 15:25:36 GMT" pgfnum="1417"/>
						</outline>
					<outline text="if(lines.length&gt;(firstlinewithcontent+2)){" created="Wed, 10 Apr 2013 18:19:23 GMT" pgfnum="1433">
						<outline text="if((lines[firstlinewithcontent].match(/^([\t\s]*)\-.*$/)==null) &amp;&amp; lines[firstlinewithcontent].match(/^.+$/) &amp;&amp; (lines[firstlinewithcontent+1]==&quot;&quot;)){" created="Wed, 10 Apr 2013 18:19:37 GMT" pgfnum="1434">
							<outline text="startingline = firstlinewithcontent+2;" created="Wed, 10 Apr 2013 18:20:30 GMT" pgfnum="1436"/>
							<outline text="var workflowyParent = concordInstance.editor.makeNode();" created="Sun, 10 Feb 2013 03:38:48 GMT" pgfnum="386"/>
							<outline text="workflowyParent.children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).html(lines[firstlinewithcontent]);" created="Sun, 10 Feb 2013 03:41:58 GMT" pgfnum="404"/>
							<outline text="}" created="Wed, 10 Apr 2013 18:20:30 GMT" pgfnum="1437"/>
							</outline>
						<outline text="}" created="Wed, 10 Apr 2013 18:19:38 GMT" pgfnum="1435"/>
						</outline>
					<outline text="for(var i = startingline; i &lt; lines.length; i++){" created="Wed, 10 Apr 2013 15:25:08 GMT" pgfnum="1415">
						<outline text="var line = lines[i];" created="Thu, 07 Feb 2013 21:58:00 GMT" pgfnum="179"/>
						<outline text="if((line!=&quot;&quot;) &amp;&amp; !line.match(/^\s+$/) &amp;&amp; (line.match(/^([\t\s]*)\-.*$/)==null)){" created="Wed, 10 Apr 2013 15:25:36 GMT" pgfnum="1416">
							<outline text="workflowy=false;" created="Wed, 10 Apr 2013 15:25:58 GMT" pgfnum="1418"/>
							<outline text="break;" created="Wed, 10 Apr 2013 15:26:09 GMT" pgfnum="1420"/>
							<outline text="}" created="Wed, 10 Apr 2013 15:26:06 GMT" pgfnum="1419"/>
							</outline>
						<outline text="}" created="Wed, 10 Apr 2013 15:25:36 GMT" pgfnum="1417"/>
						</outline>
					<outline text="if(!workflowy){" created="Thu, 11 Apr 2013 18:17:19 GMT" pgfnum="1552">
						<outline text="startingline = 0;" created="Thu, 11 Apr 2013 18:17:24 GMT" pgfnum="1553"/>
						<outline text="workflowyParent=null;" created="Thu, 11 Apr 2013 18:17:33 GMT" pgfnum="1554"/>
						<outline text="}" created="Thu, 11 Apr 2013 18:17:38 GMT" pgfnum="1555"/>
						</outline>
					<outline text="for(var i = startingline; i &lt; lines.length; i++){" created="Thu, 07 Feb 2013 21:57:26 GMT" pgfnum="177">
						<outline text="var line = lines[i];" created="Thu, 07 Feb 2013 21:58:00 GMT" pgfnum="179"/>
						<outline text="if((line!=&quot;&quot;) &amp;&amp; !line.match(/^\s+$/)){" created="Thu, 07 Feb 2013 21:58:41 GMT" pgfnum="181">
							<outline text="var matches = line.match(/^([\t\s]*)(.+)$/);" created="Sun, 10 Feb 2013 03:38:22 GMT" pgfnum="385"/>
							<outline text="var node = concordInstance.editor.makeNode();" created="Sun, 10 Feb 2013 03:38:48 GMT" pgfnum="386"/>
							<outline text="var nodeText = concordInstance.editor.escape(matches[2]);" created="Wed, 10 Apr 2013 15:26:59 GMT" pgfnum="1421"/>
							<outline text="if(workflowy){" created="Wed, 10 Apr 2013 15:27:12 GMT" pgfnum="1422">
								<outline text="var nodeTextMatches = nodeText.match(/^([\t\s]*)\-\s*(.+)$/)" created="Wed, 10 Apr 2013 15:28:49 GMT" pgfnum="1427"/>
								<outline text="if(nodeTextMatches!=null){" created="Wed, 10 Apr 2013 15:27:17 GMT" pgfnum="1423">
									<outline text="nodeText = nodeTextMatches[2];" created="Wed, 10 Apr 2013 15:27:26 GMT" pgfnum="1425"/>
									<outline text="}" created="Wed, 10 Apr 2013 15:27:26 GMT" pgfnum="1426"/>
									</outline>
								<outline text="}" created="Wed, 10 Apr 2013 15:27:18 GMT" pgfnum="1424"/>
								</outline>
							<outline text="node.children(&quot;.concord-wrapper&quot;).children(&quot;.concord-text&quot;).html(nodeText);" created="Sun, 10 Feb 2013 03:41:58 GMT" pgfnum="404"/>
							<outline text="var level = startinglevel;" created="Sun, 10 Feb 2013 03:39:42 GMT" pgfnum="390"/>
							<outline text="if(matches[1]){" created="Sun, 10 Feb 2013 03:39:50 GMT" pgfnum="391">
								<outline text="if(workflowy){" created="Thu, 11 Apr 2013 17:52:37 GMT" pgfnum="1537">
									<outline text="level = (matches[1].length / 2) + startinglevel;" created="Sun, 10 Feb 2013 03:39:56 GMT" pgfnum="392"/>
									<outline text="}" created="Thu, 11 Apr 2013 17:52:43 GMT" pgfnum="1539"/>
									</outline>
								<outline text="else {" created="Thu, 11 Apr 2013 17:52:45 GMT" pgfnum="1540">
									<outline text="level = matches[1].length + startinglevel;" created="Sun, 10 Feb 2013 03:39:56 GMT" pgfnum="392"/>
									<outline text="}" created="Thu, 11 Apr 2013 17:52:49 GMT" pgfnum="1541"/>
									</outline>
								<outline text="if(level&gt;lastLevel){" created="Sun, 10 Feb 2013 03:40:03 GMT" pgfnum="393">
									<outline text="parents[lastLevel]=lastNode;" created="Mon, 11 Feb 2013 20:59:15 GMT" pgfnum="67"/>
									<outline text="parent = lastNode;" created="Sun, 10 Feb 2013 03:40:11 GMT" pgfnum="394"/>
									<outline text="}else if ((level&gt;0) &amp;&amp; (level &lt; lastLevel)){" created="Sun, 10 Feb 2013 03:40:15 GMT" pgfnum="395">
										<outline text="parent = parents[level-1];" created="Mon, 11 Feb 2013 20:59:54 GMT" pgfnum="68"/>
										<outline text="}" created="Mon, 11 Feb 2013 20:54:07 GMT" pgfnum="66"/>
										</outline>
									</outline>
								<outline text="}" created="Sun, 10 Feb 2013 03:40:30 GMT" pgfnum="396"/>
								</outline>
							<outline text="if(parent &amp;&amp; (level &gt; 0)){" created="Sun, 10 Feb 2013 03:40:36 GMT" pgfnum="397">
								<outline text="parent.children(&quot;ol&quot;).append(node);" created="Sun, 10 Feb 2013 03:40:46 GMT" pgfnum="398"/>
								<outline text="parent.addClass(&quot;collapsed&quot;);" created="Mon, 11 Feb 2013 02:08:06 GMT" pgfnum="4"/>
								<outline text="}else{" created="Sun, 10 Feb 2013 03:41:03 GMT" pgfnum="399">
									<outline text="parents = {};" created="Mon, 11 Feb 2013 21:07:30 GMT" pgfnum="69"/>
									<outline text="nodes.append(node);" created="Sun, 10 Feb 2013 03:41:04 GMT" pgfnum="400"/>
									<outline text="}" created="Sun, 10 Feb 2013 03:41:20 GMT" pgfnum="401"/>
									</outline>
								</outline>
							<outline text="lastNode = node;" created="Sun, 10 Feb 2013 03:41:22 GMT" pgfnum="402"/>
							<outline text="lastLevel = level;" created="Sun, 10 Feb 2013 03:41:27 GMT" pgfnum="403"/>
							<outline text="}" created="Thu, 07 Feb 2013 21:59:00 GMT" pgfnum="183"/>
							</outline>
						<outline text="}" created="Thu, 07 Feb 2013 21:58:01 GMT" pgfnum="180"/>
						</outline>
					<outline text="if(workflowyParent){" created="Thu, 11 Apr 2013 18:01:59 GMT" pgfnum="1543">
						<outline text="if(nodes.children().length &gt; 0){" created="Thu, 11 Apr 2013 18:12:07 GMT" pgfnum="1549">
							<outline text="workflowyParent.addClass(&quot;collapsed&quot;);" created="Thu, 11 Apr 2013 18:12:17 GMT" pgfnum="1550"/>
							<outline text="}" created="Thu, 11 Apr 2013 18:12:26 GMT" pgfnum="1551"/>
							</outline>
						<outline text="var clonedNodes = nodes.clone();" created="Thu, 11 Apr 2013 18:02:41 GMT" pgfnum="1544"/>
						<outline text="clonedNodes.children().appendTo(workflowyParent.children(&quot;ol&quot;));" created="Thu, 11 Apr 2013 18:03:53 GMT" pgfnum="1548"/>
						<outline text="nodes = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);" created="Thu, 11 Apr 2013 18:02:55 GMT" pgfnum="1546"/>
						<outline text="nodes.append(workflowyParent);" created="Thu, 11 Apr 2013 18:03:09 GMT" pgfnum="1547"/>
						<outline text="}" created="Thu, 11 Apr 2013 18:02:42 GMT" pgfnum="1545"/>
						</outline>
					<outline text="if(nodes.children().length&gt;0){" created="Sun, 10 Feb 2013 17:34:05 GMT" pgfnum="411">
						<outline text="this.saveState();" created="Sun, 24 Mar 2013 03:32:26 GMT" pgfnum="804"/>
						<outline text="this.setTextMode(false);" created="Sun, 10 Feb 2013 17:33:33 GMT" pgfnum="410"/>
						<outline text="var cursor = this.getCursor();" created="Sun, 10 Feb 2013 03:44:14 GMT" pgfnum="405"/>
						<outline text="nodes.children().insertAfter(cursor);" created="Sun, 10 Feb 2013 03:45:00 GMT" pgfnum="406"/>
						<outline text="this.setCursor(cursor.next());" created="Sun, 10 Feb 2013 17:32:46 GMT" pgfnum="409"/>
						<outline text="concordInstance.root.removeData(&quot;clipboard&quot;);" created="Sun, 10 Feb 2013 18:09:38 GMT" pgfnum="424"/>
						<outline text="this.markChanged();" created="Sun, 10 Feb 2013 19:41:09 GMT" pgfnum="1"/>
						<outline text="concordInstance.editor.recalculateLevels();" created="Mon, 18 Feb 2013 17:45:12 GMT" pgfnum="201"/>
						<outline text="}" created="Sun, 10 Feb 2013 17:34:24 GMT" pgfnum="412"/>
						</outline>
					<outline text="}," created="Wed, 10 Apr 2013 15:20:03 GMT" pgfnum="1412"/>
					</outline>
				<outline text="this.insertXml = function(opmltext,dir){" created="Thu, 14 Feb 2013 19:04:50 GMT" pgfnum="76">
					<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:47:04 GMT" pgfnum="627"/>
					<outline text="var doc = null;"/>
					<outline text="var nodes = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);" created="Thu, 14 Feb 2013 19:09:11 GMT" pgfnum="80"/>
					<outline text="var cursor = this.getCursor();" created="Thu, 14 Feb 2013 19:16:52 GMT" pgfnum="84"/>
					<outline text="var level = cursor.parents(&quot;.concord-node&quot;).length+1;" created="Mon, 18 Feb 2013 03:58:02 GMT" pgfnum="168"/>
					<outline text="if(!dir){" created="Thu, 14 Feb 2013 19:14:30 GMT" pgfnum="81">
						<outline text="dir = down;" created="Thu, 14 Feb 2013 19:14:35 GMT" pgfnum="82"/>
						<outline text="}" created="Thu, 14 Feb 2013 19:14:37 GMT" pgfnum="83"/>
						</outline>
					<outline text="switch(dir){" created="Mon, 18 Feb 2013 04:01:06 GMT" pgfnum="170">
						<outline text="case right:" created="Mon, 18 Feb 2013 04:01:10 GMT" pgfnum="171">
							<outline text="level+=1;" created="Mon, 18 Feb 2013 04:01:14 GMT" pgfnum="172"/>
							<outline text="break;" created="Mon, 18 Feb 2013 04:01:23 GMT" pgfnum="173"/>
							</outline>
						<outline text="case left:" created="Mon, 18 Feb 2013 04:01:25 GMT" pgfnum="174">
							<outline text="level-=1;" created="Mon, 18 Feb 2013 04:01:27 GMT" pgfnum="175"/>
							<outline text="break;" created="Mon, 18 Feb 2013 04:01:30 GMT" pgfnum="176"/>
							</outline>
						<outline text="}" created="Mon, 18 Feb 2013 04:01:32 GMT" pgfnum="177"/>
						</outline>
					<outline text="if(typeof opmltext == &quot;string&quot;) {">
						<outline text="doc = $($.parseXML(opmltext));"/>
						<outline text="} else {">
							<outline text="doc = $(opmltext);"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="doc.find(&quot;body&quot;).children(&quot;outline&quot;).each(function() {">
						<outline text="nodes.append(concordInstance.editor.build($(this), true, level));"/>
						<outline text="});"/>
						</outline>
					<outline text="var expansionState = doc.find(&quot;expansionState&quot;);"/>
					<outline text="if(expansionState &amp;&amp; expansionState.text() &amp;&amp; (expansionState.text()!=&quot;&quot;)){">
						<outline text="var expansionStates = expansionState.text().split(&quot;,&quot;);"/>
						<outline text="var nodeId=1;"/>
						<outline text="nodes.find(&quot;.concord-node&quot;).each(function(){">
							<outline text="if(expansionStates.indexOf(&quot;&quot;+nodeId) &gt;= 0){">
								<outline text="$(this).removeClass(&quot;collapsed&quot;);"/>
								<outline text="}"/>
								</outline>
							<outline text="nodeId++;"/>
							<outline text="});"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="switch(dir) {">
						<outline text="case down:">
							<outline text="nodes.children().insertAfter(cursor);"/>
							<outline text="break;"/>
							</outline>
						<outline text="case right:">
							<outline text="nodes.children().prependTo(cursor.children(&quot;ol&quot;));" created="Thu, 14 Feb 2013 19:18:27 GMT" pgfnum="86"/>
							<outline text="this.expand(false);"/>
							<outline text="break;"/>
							</outline>
						<outline text="case up:">
							<outline text="nodes.children().insertBefore(cursor);"/>
							<outline text="break;"/>
							</outline>
						<outline text="case left:">
							<outline text="var parent = cursor.parents(&quot;.concord-node:first&quot;);"/>
							<outline text="if(parent.length == 1) {">
								<outline text="nodes.children().insertAfter(parent);" created="Thu, 14 Feb 2013 19:19:29 GMT" pgfnum="87"/>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="this.markChanged();" created="Thu, 14 Feb 2013 19:07:57 GMT" pgfnum="79"/>
					<outline text="return true;"/>
					<outline text="};" created="Thu, 14 Feb 2013 19:05:00 GMT" pgfnum="78"/>
					</outline>
				<outline text="this.inTextMode = function(){" collapse="true" created="Mon, 28 Jan 2013 14:17:01 GMT" pgfnum="452">
					<outline text="return root.hasClass(&quot;textMode&quot;);" created="Mon, 28 Jan 2013 14:17:06 GMT" pgfnum="453"/>
					<outline text="};" created="Mon, 28 Jan 2013 14:17:15 GMT" pgfnum="454"/>
					</outline>
				<outline text="this.italic = function(){" created="Tue, 05 Feb 2013 21:33:15 GMT" pgfnum="1077">
					<outline text="this.saveState();"/>
					<outline text="if(this.inTextMode()){" created="Tue, 05 Feb 2013 21:32:50 GMT" pgfnum="1075">
						<outline text="document.execCommand(&quot;italic&quot;);" created="Tue, 05 Feb 2013 21:32:38 GMT" pgfnum="1074"/>
						<outline text="}else{" created="Tue, 05 Feb 2013 21:33:01 GMT" pgfnum="1076">
							<outline text="this.focusCursor();" created="Wed, 06 Feb 2013 00:39:07 GMT" pgfnum="1131"/>
							<outline text="document.execCommand(&quot;selectAll&quot;);" created="Wed, 06 Feb 2013 00:34:47 GMT" pgfnum="1121"/>
							<outline text="document.execCommand(&quot;italic&quot;);" created="Wed, 06 Feb 2013 00:34:55 GMT" pgfnum="1122"/>
							<outline text="document.execCommand(&quot;unselect&quot;);" created="Wed, 06 Feb 2013 00:35:00 GMT" pgfnum="1123"/>
							<outline text="this.blurCursor();" created="Wed, 06 Feb 2013 00:39:37 GMT" pgfnum="1134"/>
							<outline text="concordInstance.pasteBinFocus();"/>
							<outline text="}" created="Wed, 06 Feb 2013 00:30:57 GMT" pgfnum="1120"/>
							</outline>
						</outline>
					<outline text="this.markChanged();"/>
					<outline text="};" created="Tue, 05 Feb 2013 21:33:29 GMT" pgfnum="1079"/>
					</outline>
				<outline text="this.level = function(){" created="Thu, 25 Apr 2013 16:02:27 GMT" pgfnum="2208">
					<outline text="return this.getCursor().parents(&quot;.concord-node&quot;).length+1;"/>
					<outline text="}," created="Thu, 25 Apr 2013 16:02:31 GMT" pgfnum="2210"/>
					</outline>
				<outline text="this.link = function(url){" created="Tue, 05 Feb 2013 21:34:02 GMT" pgfnum="1081">
					<outline text="if(this.inTextMode()){" created="Tue, 05 Feb 2013 21:34:08 GMT" pgfnum="1082">
						<outline text="if(!concord.handleEvents){" created="Thu, 11 Apr 2013 14:42:51 GMT" pgfnum="1491">
							<outline text="var instance = this;" created="Thu, 11 Apr 2013 14:43:08 GMT" pgfnum="1494"/>
							<outline text="concord.onResume(function(){" created="Thu, 11 Apr 2013 14:42:56 GMT" pgfnum="1492">
								<outline text="instance.link(url);" created="Thu, 11 Apr 2013 14:43:05 GMT" pgfnum="1493"/>
								<outline text="});" created="Thu, 11 Apr 2013 14:43:16 GMT" pgfnum="1495"/>
								</outline>
							<outline text="return;" created="Thu, 11 Apr 2013 14:43:27 GMT" pgfnum="1497"/>
							<outline text="}" created="Thu, 11 Apr 2013 14:43:21 GMT" pgfnum="1496"/>
							</outline>
						<outline text="var range = concordInstance.editor.getSelection();" created="Wed, 06 Feb 2013 19:09:30 GMT" pgfnum="29"/>
						<outline text="if(range===undefined){" created="Thu, 11 Apr 2013 14:58:51 GMT" pgfnum="1507">
							<outline text="concordInstance.editor.restoreSelection();" created="Wed, 06 Feb 2013 19:10:04 GMT" pgfnum="31"/>
							<outline text="}" created="Thu, 11 Apr 2013 14:58:57 GMT" pgfnum="1509"/>
							</outline>
						<outline text="if(concordInstance.editor.getSelection()){" created="Wed, 06 Feb 2013 19:09:50 GMT" pgfnum="30">
							<outline text="this.saveState();" created="Thu, 11 Apr 2013 14:59:33 GMT" pgfnum="1511"/>
							<outline text="document.execCommand(&quot;createLink&quot;, null, url);" created="Tue, 05 Feb 2013 21:34:16 GMT" pgfnum="1083"/>
							<outline text="this.markChanged();" created="Sun, 24 Mar 2013 20:00:51 GMT" pgfnum="828"/>
							<outline text="}" created="Wed, 06 Feb 2013 19:10:36 GMT" pgfnum="33"/>
							</outline>
						<outline text="}" created="Tue, 05 Feb 2013 21:34:27 GMT" pgfnum="1084"/>
						</outline>
					<outline text="};" created="Tue, 05 Feb 2013 21:34:28 GMT" pgfnum="1085"/>
					</outline>
				<outline text="this.markChanged = function() {" collapse="true">
					<outline text="root.data(&quot;changed&quot;, true);"/>
					<outline text="if(!this.inTextMode()){" created="Tue, 19 Mar 2013 20:54:55 GMT" pgfnum="641">
						<outline text="root.find(&quot;.concord-node.dirty&quot;).removeClass(&quot;dirty&quot;);"/>
						<outline text="}" created="Tue, 19 Mar 2013 20:55:05 GMT" pgfnum="643"/>
						</outline>
					<outline text="return true;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.paste = function(){" collapse="true" created="Thu, 24 Jan 2013 14:02:32 GMT" pgfnum="293">
					<outline text="if(!this.inTextMode()){" created="Mon, 04 Feb 2013 03:31:33 GMT" pgfnum="962">
						<outline text="if(root.data(&quot;clipboard&quot;)!=null){" collapse="true" created="Thu, 24 Jan 2013 14:02:38 GMT" pgfnum="295">
							<outline text="var pasteNodes = root.data(&quot;clipboard&quot;).clone(true,true);" created="Thu, 24 Jan 2013 14:35:51 GMT" pgfnum="325"/>
							<outline text="if(pasteNodes.length&gt;0){" created="Sat, 09 Feb 2013 18:51:03 GMT" pgfnum="294">
								<outline text="this.saveState();" created="Wed, 24 Apr 2013 16:32:29 GMT" pgfnum="2171"/>
								<outline text="root.find(&quot;.selected&quot;).removeClass(&quot;selected&quot;);" created="Sat, 09 Feb 2013 18:50:28 GMT" pgfnum="293"/>
								<outline text="pasteNodes.insertAfter(this.getCursor());" created="Sun, 03 Feb 2013 16:56:35 GMT" pgfnum="940"/>
								<outline text="this.setCursor($(pasteNodes[0]), (pasteNodes.length&gt;1));" created="Thu, 24 Jan 2013 14:36:15 GMT" pgfnum="326"/>
								<outline text="this.markChanged();" created="Thu, 24 Jan 2013 14:53:05 GMT" pgfnum="331"/>
								<outline text="}" created="Sat, 09 Feb 2013 18:51:15 GMT" pgfnum="295"/>
								</outline>
							<outline text="}" created="Thu, 24 Jan 2013 14:03:43 GMT" pgfnum="298"/>
							</outline>
						<outline text="}" created="Mon, 04 Feb 2013 03:31:58 GMT" pgfnum="965"/>
						</outline>
					<outline text="};" created="Thu, 24 Jan 2013 14:02:35 GMT" pgfnum="294"/>
					</outline>
				<outline text="this.promote = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.children(&quot;ol&quot;).children().length &gt; 0){" created="Tue, 19 Mar 2013 20:48:02 GMT" pgfnum="631">
						<outline text="this.saveState();"/>
						<outline text="node.children(&quot;ol&quot;).children().reverse().each(function() {" collapse="true">
							<outline text="var child = $(this).clone(true, true);"/>
							<outline text="$(this).remove();"/>
							<outline text="node.after(child);"/>
							<outline text="});"/>
							</outline>
						<outline text="concordInstance.editor.recalculateLevels(node.parent().find(&quot;.concord-node&quot;));"/>
						<outline text="this.markChanged();"/>
						<outline text="}" created="Tue, 19 Mar 2013 20:48:28 GMT" pgfnum="633"/>
						</outline>
					<outline text="};"/>
					</outline>
				<outline text="this.redraw = function(){" created="Sat, 09 Mar 2013 21:51:26 GMT" pgfnum="319">
					<outline text="var ct = 1;" created="Wed, 13 Mar 2013 15:07:33 GMT" pgfnum="475"/>
					<outline text="var cursorIndex = 1;" created="Wed, 13 Mar 2013 15:11:21 GMT" pgfnum="482"/>
					<outline text="var wasChanged = this.changed();" created="Thu, 11 Apr 2013 18:43:23 GMT" pgfnum="1556"/>
					<outline text="root.find(&quot;.concord-node:visible&quot;).each(function(){" created="Wed, 13 Mar 2013 15:07:47 GMT" pgfnum="476">
						<outline text="if($(this).hasClass(&quot;concord-cursor&quot;)){" created="Wed, 13 Mar 2013 15:08:19 GMT" pgfnum="477">
							<outline text="cursorIndex=ct;" created="Wed, 13 Mar 2013 15:11:36 GMT" pgfnum="483"/>
							<outline text="return false;" created="Wed, 13 Mar 2013 15:15:57 GMT" pgfnum="489"/>
							<outline text="}" created="Wed, 13 Mar 2013 15:10:41 GMT" pgfnum="481"/>
							</outline>
						<outline text="ct++;" created="Wed, 13 Mar 2013 15:08:24 GMT" pgfnum="479"/>
						<outline text="});" created="Wed, 13 Mar 2013 15:08:20 GMT" pgfnum="478"/>
						</outline>
					<outline text="this.xmlToOutline(this.outlineToXml());"/>
					<outline text="ct=1;" created="Wed, 13 Mar 2013 15:11:47 GMT" pgfnum="484"/>
					<outline text="var thisOp = this;" created="Wed, 13 Mar 2013 15:13:48 GMT" pgfnum="487"/>
					<outline text="root.find(&quot;.concord-node:visible&quot;).each(function(){">
						<outline text="if(cursorIndex==ct){">
							<outline text="thisOp.setCursor($(this));" created="Wed, 13 Mar 2013 15:12:53 GMT" pgfnum="486"/>
							<outline text="return false;" created="Wed, 13 Mar 2013 15:16:01 GMT" pgfnum="490"/>
							<outline text="}"/>
							</outline>
						<outline text="ct++;"/>
						<outline text="});"/>
						</outline>
					<outline text="if(wasChanged){" created="Thu, 11 Apr 2013 18:43:33 GMT" pgfnum="1557">
						<outline text="this.markChanged();" created="Thu, 11 Apr 2013 18:43:38 GMT" pgfnum="1558"/>
						<outline text="}" created="Thu, 11 Apr 2013 18:43:41 GMT" pgfnum="1559"/>
						</outline>
					<outline text="};" created="Sat, 09 Mar 2013 21:51:38 GMT" pgfnum="321"/>
					</outline>
				<outline text="this.reorg = function(direction, count) {" collapse="true">
					<outline text="if(count===undefined) {" collapse="true">
						<outline text="count = 1;"/>
						<outline text="}"/>
						</outline>
					<outline text="var ableToMoveInDirection = false;" created="Sun, 17 Feb 2013 20:47:22 GMT" pgfnum="106"/>
					<outline text="var cursor = this.getCursor();"/>
					<outline text="var range = undefined;" created="Mon, 15 Apr 2013 12:37:37 GMT" pgfnum="1696"/>
					<outline text="var toMove = this.getCursor();" created="Sat, 02 Feb 2013 22:56:48 GMT" pgfnum="900"/>
					<outline text="var selected = root.find(&quot;.selected&quot;);" created="Sat, 02 Feb 2013 22:55:56 GMT" pgfnum="896"/>
					<outline text="var iteration = 1;" created="Thu, 16 May 2013 18:21:27 GMT" pgfnum="2520"/>
					<outline text="if(selected.length&gt;1){" created="Sat, 02 Feb 2013 22:56:16 GMT" pgfnum="897">
						<outline text="cursor = root.find(&quot;.selected:first&quot;);" created="Sat, 02 Feb 2013 22:56:23 GMT" pgfnum="898"/>
						<outline text="toMove = root.find(&quot;.selected&quot;);" created="Sat, 02 Feb 2013 22:57:03 GMT" pgfnum="901"/>
						<outline text="}" created="Sat, 02 Feb 2013 22:56:43 GMT" pgfnum="899"/>
						</outline>
					<outline text="switch(direction) {" collapse="true">
						<outline text="case up:" collapse="true">
							<outline text="var prev = cursor.prev();"/>
							<outline text="if(prev.length==1) {" collapse="true">
								<outline text="while(iteration &lt; count){" created="Thu, 16 May 2013 18:21:43 GMT" pgfnum="2521">
									<outline text="if(prev.prev().length==1){" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2522">
										<outline text="prev = prev.prev();" created="Thu, 16 May 2013 18:22:06 GMT" pgfnum="2524"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:09 GMT" pgfnum="2525"/>
										</outline>
									<outline text="else{" created="Thu, 16 May 2013 18:22:10 GMT" pgfnum="2526">
										<outline text="break;" created="Thu, 16 May 2013 18:22:11 GMT" pgfnum="2527"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:13 GMT" pgfnum="2528"/>
										</outline>
									<outline text="iteration++;" created="Thu, 16 May 2013 18:22:31 GMT" pgfnum="2529"/>
									<outline text="}" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2523"/>
									</outline>
								<outline text="this.saveState();"/>
								<outline text="var clonedMove = toMove.clone(true, true);" created="Mon, 15 Apr 2013 12:39:17 GMT" pgfnum="1699"/>
								<outline text="toMove.remove();" created="Mon, 15 Apr 2013 12:58:44 GMT" pgfnum="1701"/>
								<outline text="clonedMove.insertBefore(prev);" created="Sat, 02 Feb 2013 22:57:30 GMT" pgfnum="902"/>
								<outline text="ableToMoveInDirection = true;"/>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="case down:" collapse="true">
							<outline text="if(!this.inTextMode()){" created="Tue, 19 Feb 2013 16:07:43 GMT" pgfnum="212">
								<outline text="cursor = root.find(&quot;.selected:last&quot;);" created="Sat, 02 Feb 2013 23:06:15 GMT" pgfnum="907"/>
								<outline text="}" created="Tue, 19 Feb 2013 16:07:57 GMT" pgfnum="213"/>
								</outline>
							<outline text="var next = cursor.next();"/>
							<outline text="if(next.length==1) {" collapse="true">
								<outline text="while(iteration &lt; count){" created="Thu, 16 May 2013 18:21:43 GMT" pgfnum="2521">
									<outline text="if(next.next().length==1){" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2522">
										<outline text="next = next.next();" created="Thu, 16 May 2013 18:22:06 GMT" pgfnum="2524"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:09 GMT" pgfnum="2525"/>
										</outline>
									<outline text="else{" created="Thu, 16 May 2013 18:22:10 GMT" pgfnum="2526">
										<outline text="break;" created="Thu, 16 May 2013 18:22:11 GMT" pgfnum="2527"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:13 GMT" pgfnum="2528"/>
										</outline>
									<outline text="iteration++;" created="Thu, 16 May 2013 18:22:31 GMT" pgfnum="2529"/>
									<outline text="}" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2523"/>
									</outline>
								<outline text="this.saveState();"/>
								<outline text="var clonedMove = toMove.clone(true, true);" created="Mon, 15 Apr 2013 12:39:17 GMT" pgfnum="1699"/>
								<outline text="toMove.remove();" created="Mon, 15 Apr 2013 12:58:44 GMT" pgfnum="1701"/>
								<outline text="clonedMove.insertAfter(next);" created="Sat, 02 Feb 2013 22:57:45 GMT" pgfnum="903"/>
								<outline text="ableToMoveInDirection = true;"/>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="case left:" collapse="true">
							<outline text="var outline = cursor.parent();"/>
							<outline text="if(!outline.hasClass(&quot;concord-root&quot;)) {" collapse="true">
								<outline text="var parent = outline.parent();"/>
								<outline text="while(iteration &lt; count){" created="Thu, 16 May 2013 18:21:43 GMT" pgfnum="2521">
									<outline text="var parentParent = parent.parents(&quot;.concord-node:first&quot;);" created="Thu, 16 May 2013 18:43:57 GMT" pgfnum="2533"/>
									<outline text="if(parentParent.length==1){" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2522">
										<outline text="parent = parentParent;" created="Thu, 16 May 2013 18:22:06 GMT" pgfnum="2524"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:09 GMT" pgfnum="2525"/>
										</outline>
									<outline text="else{" created="Thu, 16 May 2013 18:22:10 GMT" pgfnum="2526">
										<outline text="break;" created="Thu, 16 May 2013 18:22:11 GMT" pgfnum="2527"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:13 GMT" pgfnum="2528"/>
										</outline>
									<outline text="iteration++;" created="Thu, 16 May 2013 18:22:31 GMT" pgfnum="2529"/>
									<outline text="}" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2523"/>
									</outline>
								<outline text="this.saveState();"/>
								<outline text="var clonedMove = toMove.clone(true, true);" created="Mon, 15 Apr 2013 12:39:17 GMT" pgfnum="1699"/>
								<outline text="toMove.remove();" created="Sat, 02 Feb 2013 23:00:49 GMT" pgfnum="904"/>
								<outline text="clonedMove.insertAfter(parent);" created="Sat, 02 Feb 2013 23:00:53 GMT" pgfnum="905"/>
								<outline text="concordInstance.editor.recalculateLevels(parent.nextAll(&quot;.concord-node&quot;));" created="Fri, 22 Feb 2013 18:36:51 GMT" pgfnum="242"/>
								<outline text="ableToMoveInDirection = true;"/>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="case right:" collapse="true">
							<outline text="var prev = cursor.prev();"/>
							<outline text="if(prev.length == 1) {" collapse="true">
								<outline text="this.saveState();"/>
								<outline text="while(iteration &lt; count){" created="Thu, 16 May 2013 18:21:43 GMT" pgfnum="2521">
									<outline text="if(prev.children(&quot;ol&quot;).length==1){" created="Thu, 16 May 2013 19:02:42 GMT" pgfnum="2535">
										<outline text="var prevNode = prev.children(&quot;ol&quot;).children(&quot;.concord-node:last&quot;);" created="Thu, 16 May 2013 19:03:59 GMT" pgfnum="2538"/>
										<outline text="if(prevNode.length==1){" created="Thu, 16 May 2013 19:04:12 GMT" pgfnum="2539">
											<outline text="prev = prevNode;" created="Thu, 16 May 2013 19:03:00 GMT" pgfnum="2536"/>
											<outline text="}" created="Thu, 16 May 2013 19:04:20 GMT" pgfnum="2540"/>
											</outline>
										<outline text="else{" created="Thu, 16 May 2013 19:04:26 GMT" pgfnum="2541">
											<outline text="break;" created="Thu, 16 May 2013 19:04:27 GMT" pgfnum="2542"/>
											<outline text="}" created="Thu, 16 May 2013 19:04:28 GMT" pgfnum="2543"/>
											</outline>
										<outline text="}" created="Thu, 16 May 2013 19:03:00 GMT" pgfnum="2537"/>
										</outline>
									<outline text="else{" created="Thu, 16 May 2013 18:22:10 GMT" pgfnum="2526">
										<outline text="break;" created="Thu, 16 May 2013 18:22:11 GMT" pgfnum="2527"/>
										<outline text="}" created="Thu, 16 May 2013 18:22:13 GMT" pgfnum="2528"/>
										</outline>
									<outline text="iteration++;" created="Thu, 16 May 2013 18:22:31 GMT" pgfnum="2529"/>
									<outline text="}" created="Thu, 16 May 2013 18:21:50 GMT" pgfnum="2523"/>
									</outline>
								<outline text="var prevOutline = prev.children(&quot;ol&quot;);"/>
								<outline text="if(prevOutline.length == 0) {" collapse="true">
									<outline text="prevOutline = $(&quot;&lt;ol&gt;&lt;/ol&gt;&quot;);"/>
									<outline text="prevOutline.appendTo(prev);"/>
									<outline text="}"/>
									</outline>
								<outline text="var clonedMove = toMove.clone(true, true);" created="Mon, 15 Apr 2013 12:39:17 GMT" pgfnum="1699"/>
								<outline text="toMove.remove();" created="Sat, 02 Feb 2013 23:01:09 GMT" pgfnum="906"/>
								<outline text="clonedMove.appendTo(prevOutline);"/>
								<outline text="prev.removeClass(&quot;collapsed&quot;);"/>
								<outline text="concordInstance.editor.recalculateLevels(prev.find(&quot;.concord-node&quot;));" created="Fri, 22 Feb 2013 18:35:26 GMT" pgfnum="241"/>
								<outline text="ableToMoveInDirection = true;"/>
								<outline text="}"/>
								</outline>
							<outline text="break;"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="if(ableToMoveInDirection){" created="Thu, 16 May 2013 18:12:17 GMT" pgfnum="2518">
						<outline text="if(this.inTextMode()){" created="Mon, 15 Apr 2013 14:53:49 GMT" pgfnum="1711">
							<outline text="this.setCursor(this.getCursor());" created="Mon, 15 Apr 2013 14:52:13 GMT" pgfnum="1710"/>
							<outline text="}" created="Mon, 15 Apr 2013 14:53:56 GMT" pgfnum="1712"/>
							</outline>
						<outline text="this.markChanged();"/>
						<outline text="}" created="Thu, 16 May 2013 18:12:25 GMT" pgfnum="2519"/>
						</outline>
					<outline text="return ableToMoveInDirection;" created="Sun, 17 Feb 2013 20:49:20 GMT" pgfnum="108"/>
					<outline text="};"/>
					</outline>
				<outline text="this.runSelection = function(){" created="Fri, 22 Mar 2013 15:54:14 GMT" pgfnum="748">
					<outline text="var value = eval (this.getLineText());"/>
					<outline text="this.deleteSubs();"/>
					<outline text="this.insert(value, &quot;right&quot;);"/>
					<outline text="concordInstance.script.makeComment();"/>
					<outline text="this.go(&quot;left&quot;, 1);"/>
					<outline text="};" created="Fri, 22 Mar 2013 15:54:18 GMT" pgfnum="750"/>
					</outline>
				<outline text="this.saveState = function(){" created="Tue, 19 Mar 2013 20:30:11 GMT" pgfnum="611">
					<outline text="root.data(&quot;change&quot;, root.children().clone(true, true));" created="Tue, 19 Mar 2013 20:30:16 GMT" pgfnum="612"/>
					<outline text="root.data(&quot;changeTextMode&quot;, this.inTextMode());" created="Tue, 19 Mar 2013 20:50:13 GMT" pgfnum="635"/>
					<outline text="if(this.inTextMode()){" created="Wed, 20 Mar 2013 16:17:17 GMT" pgfnum="679">
						<outline text="var range = concordInstance.editor.getSelection();" created="Wed, 20 Mar 2013 15:29:13 GMT" pgfnum="652"/>
						<outline text="if( range){" created="Wed, 20 Mar 2013 17:55:03 GMT" pgfnum="691">
							<outline text="root.data(&quot;changeRange&quot;,range.cloneRange());" created="Wed, 20 Mar 2013 15:37:06 GMT" pgfnum="658"/>
							<outline text="}else{" created="Wed, 20 Mar 2013 17:55:12 GMT" pgfnum="692">
								<outline text="root.data(&quot;changeRange&quot;, undefined);" created="Wed, 20 Mar 2013 17:55:15 GMT" pgfnum="693"/>
								<outline text="}" created="Wed, 20 Mar 2013 17:55:16 GMT" pgfnum="694"/>
								</outline>
							</outline>
						<outline text="}else{" created="Wed, 20 Mar 2013 16:17:26 GMT" pgfnum="680">
							<outline text="root.data(&quot;changeRange&quot;, undefined);" created="Wed, 20 Mar 2013 16:17:28 GMT" pgfnum="681"/>
							<outline text="}" created="Wed, 20 Mar 2013 16:17:33 GMT" pgfnum="682"/>
							</outline>
						</outline>
					<outline text="return true;" created="Tue, 19 Mar 2013 20:30:39 GMT" pgfnum="613"/>
					<outline text="};" created="Tue, 19 Mar 2013 20:30:41 GMT" pgfnum="614"/>
					</outline>
				<outline text="this.setCursor = function(node, multiple, multipleRange){" collapse="true" created="Thu, 24 Jan 2013 04:30:08 GMT" pgfnum="218">
					<outline text="root.find(&quot;.concord-cursor&quot;).removeClass(&quot;concord-cursor&quot;);" created="Thu, 24 Jan 2013 04:32:27 GMT" pgfnum="222"/>
					<outline text="node.addClass(&quot;concord-cursor&quot;);" created="Thu, 24 Jan 2013 04:30:48 GMT" pgfnum="221"/>
					<outline text="if(this.inTextMode()){" collapse="true" created="Thu, 24 Jan 2013 04:35:22 GMT" pgfnum="232">
						<outline text="concordInstance.editor.edit(node);" created="Thu, 24 Jan 2013 04:35:27 GMT" pgfnum="233"/>
						<outline text="}else{" collapse="true" created="Thu, 24 Jan 2013 04:35:33 GMT" pgfnum="234">
							<outline text="concordInstance.editor.select(node, multiple, multipleRange);" created="Thu, 24 Jan 2013 04:35:34 GMT" pgfnum="235"/>
							<outline text="concordInstance.pasteBinFocus();"/>
							<outline text="}" created="Thu, 24 Jan 2013 04:35:39 GMT" pgfnum="236"/>
							</outline>
						</outline>
					<outline text="concordInstance.fireCallback(&quot;opCursorMoved&quot;, this.setCursorContext(node));"/>
					<outline text="concordInstance.editor.hideContextMenu();" created="Tue, 29 Jan 2013 15:19:02 GMT" pgfnum="552"/>
					<outline text="};" created="Thu, 24 Jan 2013 04:30:15 GMT" pgfnum="219"/>
					</outline>
				<outline text="this.setCursorContext = function(cursor){" collapse="true" created="Mon, 21 Jan 2013 05:26:40 GMT" pgfnum="49">
					<outline text="return new ConcordOp(root,concordInstance,cursor);" created="Mon, 21 Jan 2013 05:33:48 GMT" pgfnum="55"/>
					<outline text="};" created="Mon, 21 Jan 2013 05:26:47 GMT" pgfnum="50"/>
					</outline>
				<outline text="this.setHeaders = function(headers){" created="Fri, 10 May 2013 18:52:58 GMT" pgfnum="2424">
					<outline text="root.data(&quot;head&quot;, headers);" created="Fri, 10 May 2013 18:53:03 GMT" pgfnum="2425"/>
					<outline text="this.markChanged();" created="Fri, 10 May 2013 19:27:23 GMT" pgfnum="2428"/>
					<outline text="}," created="Fri, 10 May 2013 18:53:04 GMT" pgfnum="2426"/>
					</outline>
				<outline text="this.setLineText = function(text) {" collapse="true">
					<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:50:39 GMT" pgfnum="636"/>
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="node.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;).html(concordInstance.editor.escape(text));"/>
						<outline text="return true;"/>
						<outline text="} else {" collapse="true">
							<outline text="return false;"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="this.markChanged();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.setRenderMode = function(mode){" created="Sun, 17 Feb 2013 21:40:13 GMT" pgfnum="115">
					<outline text="root.data(&quot;renderMode&quot;, mode);" created="Sun, 17 Feb 2013 21:40:18 GMT" pgfnum="116"/>
					<outline text="this.redraw();" created="Sun, 17 Feb 2013 22:00:26 GMT" pgfnum="121"/>
					<outline text="return true;" created="Sun, 17 Feb 2013 21:40:35 GMT" pgfnum="118"/>
					<outline text="};" created="Sun, 17 Feb 2013 21:40:27 GMT" pgfnum="117"/>
					</outline>
				<outline text="this.setStyle = function(css){" created="Mon, 18 Feb 2013 18:47:23 GMT" pgfnum="202">
					<outline text="root.parent().find(&quot;style.customStyle&quot;).remove();" created="Mon, 18 Feb 2013 19:38:37 GMT" pgfnum="208"/>
					<outline text="root.before('&lt;style type=&quot;text/css&quot; class=&quot;customStyle&quot;&gt;'+ css + '&lt;/style&gt;');" created="Mon, 18 Feb 2013 18:47:30 GMT" pgfnum="203"/>
					<outline text="return true;" created="Mon, 18 Feb 2013 18:48:23 GMT" pgfnum="205"/>
					<outline text="};" created="Mon, 18 Feb 2013 18:47:49 GMT" pgfnum="204"/>
					</outline>
				<outline text="this.setTextMode = function(textMode){" collapse="true" created="Mon, 28 Jan 2013 14:17:25 GMT" pgfnum="455">
					<outline text="var readonly = concordInstance.prefs()[&quot;readonly&quot;];" created="Wed, 27 Feb 2013 18:07:01 GMT" pgfnum="269"/>
					<outline text="if(readonly==undefined){" created="Wed, 27 Feb 2013 18:07:13 GMT" pgfnum="270">
						<outline text="readonly = false;" created="Wed, 27 Feb 2013 18:07:18 GMT" pgfnum="271"/>
						<outline text="}" created="Wed, 27 Feb 2013 18:07:21 GMT" pgfnum="272"/>
						</outline>
					<outline text="if(readonly){" created="Wed, 27 Feb 2013 18:06:24 GMT" pgfnum="268">
						<outline text="return;" created="Wed, 27 Feb 2013 18:07:28 GMT" pgfnum="273"/>
						<outline text="}" created="Wed, 27 Feb 2013 18:07:31 GMT" pgfnum="274"/>
						</outline>
					<outline text="if(root.hasClass(&quot;textMode&quot;) == textMode){" created="Sat, 02 Feb 2013 22:28:18 GMT" pgfnum="888">
						<outline text="return;" created="Sat, 02 Feb 2013 22:28:44 GMT" pgfnum="889"/>
						<outline text="}" created="Sat, 02 Feb 2013 22:28:48 GMT" pgfnum="890"/>
						</outline>
					<outline text="if(textMode==true){" collapse="true" created="Mon, 28 Jan 2013 14:17:33 GMT" pgfnum="456">
						<outline text="root.addClass(&quot;textMode&quot;);" created="Mon, 28 Jan 2013 14:17:40 GMT" pgfnum="457"/>
						<outline text="concordInstance.editor.editorMode();" created="Mon, 28 Jan 2013 14:52:30 GMT" pgfnum="480"/>
						<outline text="concordInstance.editor.edit(this.getCursor());" created="Mon, 28 Jan 2013 17:03:33 GMT" pgfnum="505"/>
						<outline text="}else{" collapse="true" created="Mon, 28 Jan 2013 14:17:55 GMT" pgfnum="458">
							<outline text="root.removeClass(&quot;textMode&quot;);" created="Mon, 28 Jan 2013 14:17:56 GMT" pgfnum="459"/>
							<outline text="root.find(&quot;.editing&quot;).removeClass(&quot;editing&quot;);" collapse="true"/>
							<outline text="this.blurCursor();" created="Wed, 20 Mar 2013 17:51:58 GMT" pgfnum="690"/>
							<outline text="concordInstance.editor.select(this.getCursor());" created="Mon, 28 Jan 2013 17:05:12 GMT" pgfnum="506"/>
							<outline text="}" created="Mon, 28 Jan 2013 14:18:02 GMT" pgfnum="460"/>
							</outline>
						</outline>
					<outline text="};" created="Mon, 28 Jan 2013 14:18:03 GMT" pgfnum="461"/>
					</outline>
				<outline text="this.setTitle = function(title) {" collapse="true">
					<outline text="root.data(&quot;title&quot;, title);"/>
					<outline text="return true;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.strikethrough = function(){" created="Tue, 05 Feb 2013 21:33:15 GMT" pgfnum="1077">
					<outline text="this.saveState();"/>
					<outline text="if(this.inTextMode()){" created="Tue, 05 Feb 2013 21:32:50 GMT" pgfnum="1075">
						<outline text="document.execCommand(&quot;strikeThrough&quot;);" created="Tue, 05 Feb 2013 21:32:38 GMT" pgfnum="1074"/>
						<outline text="}else{" created="Tue, 05 Feb 2013 21:33:01 GMT" pgfnum="1076">
							<outline text="this.focusCursor();" created="Wed, 06 Feb 2013 00:39:07 GMT" pgfnum="1131"/>
							<outline text="document.execCommand(&quot;selectAll&quot;);" created="Wed, 06 Feb 2013 00:34:47 GMT" pgfnum="1121"/>
							<outline text="document.execCommand(&quot;strikeThrough&quot;);" created="Wed, 06 Feb 2013 00:34:55 GMT" pgfnum="1122"/>
							<outline text="document.execCommand(&quot;unselect&quot;);" created="Wed, 06 Feb 2013 00:35:00 GMT" pgfnum="1123"/>
							<outline text="this.blurCursor();" created="Wed, 06 Feb 2013 00:39:37 GMT" pgfnum="1134"/>
							<outline text="concordInstance.pasteBinFocus();"/>
							<outline text="}" created="Wed, 06 Feb 2013 00:30:57 GMT" pgfnum="1120"/>
							</outline>
						</outline>
					<outline text="this.markChanged();"/>
					<outline text="};" created="Tue, 05 Feb 2013 21:33:29 GMT" pgfnum="1079"/>
					</outline>
				<outline text="this.subsExpanded = function() {" collapse="true">
					<outline text="var node = this.getCursor();"/>
					<outline text="if(node.length == 1) {" collapse="true">
						<outline text="if(!node.hasClass(&quot;collapsed&quot;) &amp;&amp; (node.children(&quot;ol&quot;).children().size() &gt; 0)) {" collapse="true">
							<outline text="return true;"/>
							<outline text="} else {" collapse="true">
								<outline text="return false;"/>
								<outline text="}"/>
								</outline>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="return false;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.outlineToText = function(){" created="Wed, 22 May 2013 20:19:35 GMT" pgfnum="3059">
					<outline text="var text = &quot;&quot;;" created="Mon, 11 Feb 2013 19:12:16 GMT" pgfnum="32"/>
					<outline text="root.children(&quot;.concord-node&quot;).each(function() {" collapse="true">
						<outline text="text+= concordInstance.editor.textLine($(this));" created="Mon, 11 Feb 2013 19:12:42 GMT" pgfnum="34"/>
						<outline text="});"/>
						</outline>
					<outline text="return text;" created="Wed, 22 May 2013 20:20:29 GMT" pgfnum="3063"/>
					<outline text="};" created="Wed, 22 May 2013 20:19:41 GMT" pgfnum="3061"/>
					</outline>
				<outline text="this.outlineToXml = function(ownerName, ownerEmail, ownerId) {">
					<outline text="var head = this.getHeaders();" created="Thu, 31 Jan 2013 04:23:48 GMT" pgfnum="650"/>
					<outline text="if(ownerName) {" collapse="true">
						<outline text="head[&quot;ownerName&quot;] = ownerName;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(ownerEmail) {" collapse="true">
						<outline text="head[&quot;ownerEmail&quot;] = ownerEmail;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(ownerId) {" collapse="true">
						<outline text="head[&quot;ownerId&quot;] = ownerId;"/>
						<outline text="}"/>
						</outline>
					<outline text="var title = this.getTitle();"/>
					<outline text="if(!title) {" collapse="true">
						<outline text="title = &quot;&quot;;"/>
						<outline text="}"/>
						</outline>
					<outline text="head[&quot;title&quot;] = title;" created="Thu, 31 Jan 2013 04:24:57 GMT" pgfnum="654"/>
					<outline text="head[&quot;dateModified&quot;] = (new Date()).toGMTString();" created="Mon, 11 Mar 2013 19:57:36 GMT" pgfnum="357"/>
					<outline text="var expansionStates = [];" created="Fri, 01 Feb 2013 23:58:49 GMT" pgfnum="799"/>
					<outline text="var nodeId = 1;" created="Sat, 02 Feb 2013 00:00:24 GMT" pgfnum="806"/>
					<outline text="var cursor = root.find(&quot;.concord-node:first&quot;);" created="Sun, 17 Feb 2013 19:34:07 GMT" pgfnum="96"/>
					<outline text="do {">
						<outline text="if(cursor) {">
							<outline text="if(!cursor.hasClass(&quot;collapsed&quot;) &amp;&amp; (cursor.children(&quot;ol&quot;).children().size() &gt; 0)) {">
								<outline text="expansionStates.push(nodeId);"/>
								<outline text="}"/>
								</outline>
							<outline text="nodeId++;" created="Sun, 17 Feb 2013 19:56:29 GMT" pgfnum="100"/>
							<outline text="}else{">
								<outline text="break;" created="Sun, 17 Feb 2013 19:59:27 GMT" pgfnum="101"/>
								<outline text="}" created="Sun, 17 Feb 2013 19:59:29 GMT" pgfnum="102"/>
								</outline>
							</outline>
						<outline text="var next = null;"/>
						<outline text="if(!cursor.hasClass(&quot;collapsed&quot;)) {">
							<outline text="var outline = cursor.children(&quot;ol&quot;);"/>
							<outline text="if(outline.length == 1) {">
								<outline text="var firstChild = outline.children(&quot;.concord-node:first&quot;);"/>
								<outline text="if(firstChild.length == 1) {">
									<outline text="next = firstChild;"/>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="if(!next) {">
							<outline text="next = this._walk_down(cursor);"/>
							<outline text="}"/>
							</outline>
						<outline text="cursor = next;"/>
						<outline text="} while(cursor!=null);"/>
						</outline>
					<outline text="head[&quot;expansionState&quot;] = expansionStates.join(&quot;,&quot;);" created="Sat, 02 Feb 2013 00:02:36 GMT" pgfnum="810"/>
					<outline text="var opml = '';" created="Mon, 11 Mar 2013 18:42:39 GMT" pgfnum="334"/>
					<outline text="var indent=0;" created="Mon, 11 Mar 2013 18:42:44 GMT" pgfnum="335"/>
					<outline text="var add = function(s){" created="Mon, 11 Mar 2013 18:42:27 GMT" pgfnum="332">
						<outline text="for(var i = 0; i &lt; indent; i++){" created="Mon, 11 Mar 2013 18:42:49 GMT" pgfnum="336">
							<outline text="opml+='\t';" created="Mon, 11 Mar 2013 18:43:15 GMT" pgfnum="337"/>
							<outline text="}" created="Mon, 11 Mar 2013 18:43:16 GMT" pgfnum="338"/>
							<outline text="opml+=s+'\n';" created="Mon, 11 Mar 2013 18:43:32 GMT" pgfnum="339"/>
							</outline>
						<outline text="};" created="Mon, 11 Mar 2013 18:42:35 GMT" pgfnum="333"/>
						</outline>
					<outline text="add('&lt;?xml version=&quot;1.0&quot;?&gt;');"/>
					<outline text="add('&lt;opml version=&quot;2.0&quot;&gt;');"/>
					<outline text="indent++;" created="Mon, 11 Mar 2013 18:44:29 GMT" pgfnum="340"/>
					<outline text="add('&lt;head&gt;');" created="Mon, 11 Mar 2013 18:44:35 GMT" pgfnum="341"/>
					<outline text="indent++;" created="Mon, 11 Mar 2013 18:46:15 GMT" pgfnum="343"/>
					<outline text="for(var headName in head){" collapse="true" created="Thu, 31 Jan 2013 04:26:38 GMT" pgfnum="655">
						<outline text="if(head[headName]!==undefined){" created="Tue, 21 May 2013 14:21:20 GMT" pgfnum="2891">
							<outline text="add('&lt;'+headName+'&gt;' + ConcordUtil.escapeXml(head[headName]) + '&lt;/' + headName + '&gt;');"/>
							<outline text="}" created="Tue, 21 May 2013 14:21:43 GMT" pgfnum="2892"/>
							</outline>
						<outline text="}" created="Thu, 31 Jan 2013 04:27:06 GMT" pgfnum="656"/>
						</outline>
					<outline text="add('&lt;/head&gt;');"/>
					<outline text="indent--;" created="Mon, 11 Mar 2013 18:44:58 GMT" pgfnum="342"/>
					<outline text="add('&lt;body&gt;');"/>
					<outline text="indent++;" created="Mon, 11 Mar 2013 18:46:28 GMT" pgfnum="344"/>
					<outline text="root.children(&quot;.concord-node&quot;).each(function() {" collapse="true">
						<outline text="opml += concordInstance.editor.opmlLine($(this), indent);"/>
						<outline text="});"/>
						</outline>
					<outline text="add('&lt;/body&gt;');"/>
					<outline text="indent--;" created="Mon, 11 Mar 2013 18:46:38 GMT" pgfnum="345"/>
					<outline text="add('&lt;/opml&gt;');"/>
					<outline text="return opml;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.undo = function(){" collapse="true" created="Wed, 23 Jan 2013 04:32:39 GMT" pgfnum="130">
					<outline text="var stateBeforeChange = root.children().clone(true, true);" created="Wed, 23 Jan 2013 15:10:27 GMT" pgfnum="177"/>
					<outline text="var textModeBeforeChange = this.inTextMode();" created="Tue, 19 Mar 2013 20:51:56 GMT" pgfnum="639"/>
					<outline text="var beforeRange = undefined;" created="Wed, 20 Mar 2013 16:06:02 GMT" pgfnum="669"/>
					<outline text="if(this.inTextMode()){" created="Wed, 20 Mar 2013 16:06:07 GMT" pgfnum="670">
						<outline text="var range = concordInstance.editor.getSelection();" created="Wed, 20 Mar 2013 15:37:45 GMT" pgfnum="659"/>
						<outline text="if(range){" created="Thu, 11 Apr 2013 14:00:27 GMT" pgfnum="1474">
							<outline text="beforeRange = range.cloneRange();" created="Wed, 20 Mar 2013 16:12:39 GMT" pgfnum="677"/>
							<outline text="}" created="Thu, 11 Apr 2013 14:00:30 GMT" pgfnum="1475"/>
							</outline>
						<outline text="}" created="Wed, 20 Mar 2013 16:06:17 GMT" pgfnum="671"/>
						</outline>
					<outline text="if(root.data(&quot;change&quot;)){">
						<outline text="root.empty();"/>
						<outline text="root.data(&quot;change&quot;).appendTo(root);"/>
						<outline text="this.setTextMode(root.data(&quot;changeTextMode&quot;));" created="Tue, 19 Mar 2013 20:52:33 GMT" pgfnum="640"/>
						<outline text="if(this.inTextMode()){" created="Wed, 20 Mar 2013 15:31:25 GMT" pgfnum="653">
							<outline text="this.focusCursor();" created="Tue, 19 Mar 2013 21:01:09 GMT" pgfnum="648"/>
							<outline text="var range = root.data(&quot;changeRange&quot;);" created="Wed, 20 Mar 2013 15:53:41 GMT" pgfnum="665"/>
							<outline text="if(range){" created="Wed, 20 Mar 2013 15:53:51 GMT" pgfnum="666">
								<outline text="concordInstance.editor.restoreSelection(range);" created="Thu, 11 Apr 2013 13:12:17 GMT" pgfnum="1473"/>
								<outline text="}" created="Wed, 20 Mar 2013 15:53:58 GMT" pgfnum="667"/>
								</outline>
							<outline text="}" created="Wed, 20 Mar 2013 15:31:50 GMT" pgfnum="655"/>
							</outline>
						<outline text="root.data(&quot;change&quot;, stateBeforeChange);"/>
						<outline text="root.data(&quot;changeTextMode&quot;, textModeBeforeChange);" created="Tue, 19 Mar 2013 20:51:50 GMT" pgfnum="638"/>
						<outline text="root.data(&quot;changeRange&quot;, beforeRange);" created="Wed, 20 Mar 2013 16:13:13 GMT" pgfnum="678"/>
						<outline text="return true;" created="Tue, 19 Mar 2013 19:47:44 GMT" pgfnum="596"/>
						<outline text="}"/>
						</outline>
					<outline text="return false;" created="Tue, 19 Mar 2013 19:14:53 GMT" pgfnum="589"/>
					<outline text="};" created="Wed, 23 Jan 2013 04:32:43 GMT" pgfnum="131"/>
					</outline>
				<outline text="this.visitLevel = function(cb){" collapse="true" created="Sat, 26 Jan 2013 16:27:21 GMT" pgfnum="392">
					<outline text="var cursor = this.getCursor();" created="Sat, 26 Jan 2013 16:27:35 GMT" pgfnum="394"/>
					<outline text="var op = this;" created="Sat, 26 Jan 2013 16:54:21 GMT" pgfnum="403"/>
					<outline text="cursor.children(&quot;ol&quot;).children().each(function(){" collapse="true" created="Sat, 26 Jan 2013 16:29:42 GMT" pgfnum="395">
						<outline text="var subCursorContext = op.setCursorContext($(this));" created="Sat, 26 Jan 2013 16:45:06 GMT" pgfnum="400"/>
						<outline text="cb(subCursorContext);" created="Sat, 26 Jan 2013 16:36:03 GMT" pgfnum="397"/>
						<outline text="});" created="Sat, 26 Jan 2013 16:35:58 GMT" pgfnum="396"/>
						</outline>
					<outline text="return true;" created="Sat, 26 Jan 2013 16:41:38 GMT" pgfnum="398"/>
					<outline text="};" created="Sat, 26 Jan 2013 16:27:31 GMT" pgfnum="393"/>
					</outline>
				<outline text="this.visitToSummit = function(cb){" collapse="true" created="Tue, 22 Jan 2013 03:11:18 GMT" pgfnum="56">
					<outline text="var cursor = this.getCursor();" created="Tue, 22 Jan 2013 03:11:29 GMT" pgfnum="58"/>
					<outline text="while(cb(this.setCursorContext(cursor))){" collapse="true" created="Tue, 22 Jan 2013 03:31:21 GMT" pgfnum="69">
						<outline text="var parent = cursor.parents(&quot;.concord-node:first&quot;);" created="Tue, 22 Jan 2013 03:33:08 GMT" pgfnum="71"/>
						<outline text="if(parent.length==1){" collapse="true" created="Tue, 22 Jan 2013 03:33:20 GMT" pgfnum="72">
							<outline text="cursor=parent;" created="Tue, 22 Jan 2013 03:33:34 GMT" pgfnum="76"/>
							<outline text="}else{" collapse="true" created="Tue, 22 Jan 2013 03:33:26 GMT" pgfnum="73">
								<outline text="break;" created="Tue, 22 Jan 2013 03:33:28 GMT" pgfnum="74"/>
								<outline text="}" created="Tue, 22 Jan 2013 03:33:29 GMT" pgfnum="75"/>
								</outline>
							</outline>
						<outline text="}" created="Tue, 22 Jan 2013 03:33:04 GMT" pgfnum="70"/>
						</outline>
					<outline text="return true;" created="Sat, 26 Jan 2013 16:21:02 GMT" pgfnum="391"/>
					<outline text="};" created="Tue, 22 Jan 2013 03:11:26 GMT" pgfnum="57"/>
					</outline>
				<outline text="this.visitAll = function(cb){" created="Thu, 25 Apr 2013 15:54:26 GMT" pgfnum="2203">
					<outline text="var op = this;" created="Sat, 26 Jan 2013 16:54:21 GMT" pgfnum="403"/>
					<outline text="root.find(&quot;.concord-node&quot;).each(function(){" created="Thu, 25 Apr 2013 15:54:35 GMT" pgfnum="2204">
						<outline text="var subCursorContext = op.setCursorContext($(this));" created="Sat, 26 Jan 2013 16:45:06 GMT" pgfnum="400"/>
						<outline text="var retVal = cb(subCursorContext);" created="Sat, 26 Jan 2013 16:36:03 GMT" pgfnum="397"/>
						<outline text="if((retVal!==undefined) &amp;&amp; (retVal===false)){" created="Thu, 20 Jun 2013 13:56:07 GMT" pgfnum="4730">
							<outline text="return false;" created="Thu, 20 Jun 2013 13:56:14 GMT" pgfnum="4731"/>
							<outline text="}" created="Thu, 20 Jun 2013 13:56:14 GMT" pgfnum="4732"/>
							</outline>
						<outline text="});" created="Thu, 25 Apr 2013 15:55:15 GMT" pgfnum="2207"/>
						</outline>
					<outline text="}," created="Thu, 25 Apr 2013 15:54:35 GMT" pgfnum="2205"/>
					</outline>
				<outline text="this.wipe = function() {" collapse="true">
					<outline text="if(root.find(&quot;.concord-node&quot;).length &gt; 0){" created="Sat, 23 Mar 2013 18:47:17 GMT" pgfnum="799">
						<outline text="this.saveState();" created="Tue, 19 Mar 2013 20:50:58 GMT" pgfnum="637"/>
						<outline text="}" created="Sat, 23 Mar 2013 18:47:37 GMT" pgfnum="800"/>
						</outline>
					<outline text="root.empty();"/>
					<outline text="var node = concordInstance.editor.makeNode();" created="Thu, 11 Apr 2013 22:24:19 GMT" pgfnum="1576"/>
					<outline text="root.append(node);"/>
					<outline text="this.setTextMode(false);" created="Mon, 28 Jan 2013 14:26:33 GMT" pgfnum="463"/>
					<outline text="this.setCursor(node);" created="Mon, 28 Jan 2013 14:26:21 GMT" pgfnum="462"/>
					<outline text="this.markChanged();"/>
					<outline text="};"/>
					</outline>
				<outline text="this.xmlToOutline = function(xmlText) {">
					<outline text="var doc = null;"/>
					<outline text="if(typeof xmlText == &quot;string&quot;) {" collapse="true">
						<outline text="doc = $($.parseXML(xmlText));"/>
						<outline text="} else {" collapse="true">
							<outline text="doc = $(xmlText);"/>
							<outline text="}"/>
							</outline>
						</outline>
					<outline text="root.empty();"/>
					<outline text="var title = &quot;&quot;;" created="Sat, 13 Apr 2013 21:03:09 GMT" pgfnum="1670"/>
					<outline text="if(doc.find(&quot;title:first&quot;).length==1){" created="Sat, 13 Apr 2013 21:03:12 GMT" pgfnum="1671">
						<outline text="title = doc.find(&quot;title:first&quot;).text();" created="Sat, 13 Apr 2013 21:03:27 GMT" pgfnum="1672"/>
						<outline text="}" created="Sat, 13 Apr 2013 21:03:28 GMT" pgfnum="1673"/>
						</outline>
					<outline text="this.setTitle(title);" created="Sat, 13 Apr 2013 21:01:33 GMT" pgfnum="1665"/>
					<outline text="var headers = {};"/>
					<outline text="doc.find(&quot;head&quot;).children().each(function(){">
						<outline text="headers[$(this).prop(&quot;tagName&quot;)] = $(this).text();"/>
						<outline text="});"/>
						</outline>
					<outline text="root.data(&quot;head&quot;, headers);" created="Thu, 31 Jan 2013 04:22:49 GMT" pgfnum="649"/>
					<outline text="doc.find(&quot;body&quot;).children(&quot;outline&quot;).each(function() {">
						<outline text="root.append(concordInstance.editor.build($(this), true));"/>
						<outline text="});"/>
						</outline>
					<outline text="root.data(&quot;changed&quot;, false);"/>
					<outline text="root.removeData(&quot;previousChange&quot;);" created="Wed, 23 Jan 2013 14:40:38 GMT" pgfnum="151"/>
					<outline text="var expansionState = doc.find(&quot;expansionState&quot;);" created="Sat, 02 Feb 2013 00:03:35 GMT" pgfnum="811"/>
					<outline text="if(expansionState &amp;&amp; expansionState.text() &amp;&amp; (expansionState.text()!=&quot;&quot;)){" created="Sat, 02 Feb 2013 00:04:24 GMT" pgfnum="814">
						<outline text="var expansionStates = expansionState.text().split(/\s*,\s*/);" created="Sat, 02 Feb 2013 04:07:17 GMT" pgfnum="831"/>
						<outline text="var nodeId = 1;"/>
						<outline text="var cursor = root.find(&quot;.concord-node:first&quot;);"/>
						<outline text="do {">
							<outline text="if(cursor) {">
								<outline text="if(expansionStates.indexOf(&quot;&quot;+nodeId) &gt;= 0){">
									<outline text="cursor.removeClass(&quot;collapsed&quot;);"/>
									<outline text="}"/>
									</outline>
								<outline text="nodeId++;"/>
								<outline text="}else{">
									<outline text="break;"/>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="var next = null;"/>
							<outline text="if(!cursor.hasClass(&quot;collapsed&quot;)) {">
								<outline text="var outline = cursor.children(&quot;ol&quot;);"/>
								<outline text="if(outline.length == 1) {">
									<outline text="var firstChild = outline.children(&quot;.concord-node:first&quot;);"/>
									<outline text="if(firstChild.length == 1) {">
										<outline text="next = firstChild;"/>
										<outline text="}"/>
										</outline>
									<outline text="}"/>
									</outline>
								<outline text="}"/>
								</outline>
							<outline text="if(!next) {">
								<outline text="next = this._walk_down(cursor);"/>
								<outline text="}"/>
								</outline>
							<outline text="cursor = next;"/>
							<outline text="} while(cursor!=null);"/>
							</outline>
						<outline text="}" created="Sat, 02 Feb 2013 00:04:35 GMT" pgfnum="815"/>
						</outline>
					<outline text="this.setTextMode(false);" created="Mon, 28 Jan 2013 16:52:16 GMT" pgfnum="503"/>
					<outline text="this.setCursor(root.find(&quot;.concord-node:first&quot;));" created="Mon, 28 Jan 2013 16:50:25 GMT" pgfnum="502"/>
					<outline text="root.data(&quot;currentChange&quot;, root.children().clone(true, true));" created="Wed, 23 Jan 2013 15:24:57 GMT" pgfnum="179"/>
					<outline text="return true;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.attributes = new ConcordOpAttributes(concordInstance, this.getCursor());"/>
				<outline text="}"/>
				</outline>
			<outline text="function ConcordOpAttributes(concordInstance, cursor) {" collapse="true">
				<outline text="this._cssTextClassName = &quot;cssTextClass&quot;;" created="Thu, 23 May 2013 14:52:12 GMT" pgfnum="3098"/>
				<outline text="this._cssTextClass = function(newValue){" created="Wed, 22 May 2013 22:10:27 GMT" pgfnum="3065">
					<outline text="if(newValue===undefined){" created="Wed, 22 May 2013 22:30:52 GMT" pgfnum="3077">
						<outline text="return;" created="Wed, 22 May 2013 22:30:56 GMT" pgfnum="3078"/>
						<outline text="}" created="Wed, 22 May 2013 22:30:58 GMT" pgfnum="3079"/>
						</outline>
					<outline text="var newCssClasses = newValue.split(/\s+/);" created="Wed, 22 May 2013 22:30:40 GMT" pgfnum="3076"/>
					<outline text="var concordText = cursor.children(&quot;.concord-wrapper:first&quot;).children(&quot;.concord-text:first&quot;);" created="Wed, 22 May 2013 22:11:59 GMT" pgfnum="3069"/>
					<outline text="var currentCssClass = concordText.attr(&quot;class&quot;);" created="Wed, 22 May 2013 22:10:51 GMT" pgfnum="3066"/>
					<outline text="if(currentCssClass){" created="Wed, 22 May 2013 22:11:49 GMT" pgfnum="3068">
						<outline text="var cssClassesArray = currentCssClass.split(/\s+/);" created="Wed, 22 May 2013 22:28:54 GMT" pgfnum="3071"/>
						<outline text="for(var i in cssClassesArray){" created="Wed, 22 May 2013 22:29:39 GMT" pgfnum="3072">
							<outline text="var className = cssClassesArray[i];" created="Wed, 22 May 2013 22:29:50 GMT" pgfnum="3073"/>
							<outline text="if(className.match(/^concord\-.+$/) == null){" created="Wed, 12 Jun 2013 19:32:33 GMT" pgfnum="4411">
								<outline text="concordText.removeClass(className);" created="Wed, 22 May 2013 22:30:03 GMT" pgfnum="3075"/>
								<outline text="}" created="Wed, 12 Jun 2013 19:32:42 GMT" pgfnum="4412"/>
								</outline>
							<outline text="}" created="Wed, 22 May 2013 22:29:50 GMT" pgfnum="3074"/>
							</outline>
						<outline text="}" created="Wed, 22 May 2013 22:12:00 GMT" pgfnum="3070"/>
						</outline>
					<outline text="for(var j in newCssClasses){" created="Wed, 22 May 2013 22:31:18 GMT" pgfnum="3080">
						<outline text="var newClass = newCssClasses[j];" created="Wed, 22 May 2013 22:31:27 GMT" pgfnum="3081"/>
						<outline text="concordText.addClass(newClass);" created="Wed, 22 May 2013 22:31:39 GMT" pgfnum="3083"/>
						<outline text="}" created="Wed, 22 May 2013 22:31:27 GMT" pgfnum="3082"/>
						</outline>
					<outline text="};" created="Wed, 22 May 2013 22:10:51 GMT" pgfnum="3067"/>
					</outline>
				<outline text="this.addGroup = function(attributes) {" collapse="true">
					<outline text="if(attributes[&quot;type&quot;]){" created="Fri, 12 Apr 2013 19:47:45 GMT" pgfnum="1610">
						<outline text="cursor.attr(&quot;opml-type&quot;, attributes[&quot;type&quot;]);" created="Fri, 12 Apr 2013 19:47:53 GMT" pgfnum="1611"/>
						<outline text="}" created="Fri, 12 Apr 2013 19:47:54 GMT" pgfnum="1612"/>
						</outline>
					<outline text="else {" created="Fri, 12 Apr 2013 19:48:23 GMT" pgfnum="1613">
						<outline text="cursor.removeAttr(&quot;opml-type&quot;);" created="Fri, 12 Apr 2013 19:48:26 GMT" pgfnum="1614"/>
						<outline text="}" created="Fri, 12 Apr 2013 19:48:27 GMT" pgfnum="1615"/>
						</outline>
					<outline text="this._cssTextClass(attributes[this._cssTextClassName]);" created="Wed, 22 May 2013 22:32:12 GMT" pgfnum="3084"/>
					<outline text="var finalAttributes = this.getAll();" created="Fri, 12 Apr 2013 19:56:19 GMT" pgfnum="1616"/>
					<outline text="var iconAttribute = &quot;type&quot;;" created="Sun, 17 Feb 2013 22:23:08 GMT" pgfnum="130"/>
					<outline text="if(attributes[&quot;icon&quot;]){" created="Sun, 17 Feb 2013 22:23:42 GMT" pgfnum="131">
						<outline text="iconAttribute = &quot;icon&quot;;" created="Sun, 17 Feb 2013 22:23:49 GMT" pgfnum="132"/>
						<outline text="}" created="Sun, 17 Feb 2013 22:24:01 GMT" pgfnum="133"/>
						</outline>
					<outline text="for(var name in attributes){" created="Fri, 12 Apr 2013 19:56:31 GMT" pgfnum="1617">
						<outline text="finalAttributes[name] = attributes[name];" created="Fri, 12 Apr 2013 19:56:35 GMT" pgfnum="1618"/>
						<outline text="if(name==iconAttribute){" collapse="true" created="Fri, 25 Jan 2013 13:54:56 GMT" pgfnum="378">
							<outline text="var value = attributes[name];" created="Fri, 25 Jan 2013 13:57:48 GMT" pgfnum="381"/>
							<outline text="var wrapper = cursor.children(&quot;.concord-wrapper&quot;);" created="Fri, 25 Jan 2013 13:50:53 GMT" pgfnum="377"/>
							<outline text="var iconName = null;" created="Sun, 17 Feb 2013 22:46:49 GMT" pgfnum="145"/>
							<outline text="if((name == &quot;type&quot;) &amp;&amp; concordInstance.prefs() &amp;&amp; concordInstance.prefs().typeIcons &amp;&amp; concordInstance.prefs().typeIcons[value]){" created="Sun, 17 Feb 2013 22:46:54 GMT" pgfnum="146">
								<outline text="iconName = concordInstance.prefs().typeIcons[value];" created="Sun, 17 Feb 2013 22:47:15 GMT" pgfnum="147"/>
								<outline text="}else if (name==&quot;icon&quot;){" created="Sun, 17 Feb 2013 22:47:16 GMT" pgfnum="148">
									<outline text="iconName = value;" created="Sun, 17 Feb 2013 22:47:47 GMT" pgfnum="149"/>
									<outline text="}" created="Sun, 17 Feb 2013 22:47:56 GMT" pgfnum="150"/>
									</outline>
								</outline>
							<outline text="if(iconName){" created="Sun, 17 Feb 2013 22:47:59 GMT" pgfnum="151">
								<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-&quot;+ iconName +&quot;\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
								<outline text="wrapper.children(&quot;.node-icon:first&quot;).replaceWith(icon);" created="Fri, 25 Jan 2013 04:38:45 GMT" pgfnum="356"/>
								<outline text="}" created="Fri, 25 Jan 2013 04:34:56 GMT" pgfnum="353"/>
								</outline>
							<outline text="}" created="Fri, 25 Jan 2013 13:55:33 GMT" pgfnum="380"/>
							</outline>
						<outline text="}" created="Fri, 12 Apr 2013 19:56:48 GMT" pgfnum="1619"/>
						</outline>
					<outline text="cursor.data(&quot;attributes&quot;, finalAttributes);" created="Fri, 12 Apr 2013 19:56:49 GMT" pgfnum="1620"/>
					<outline text="concordInstance.op.markChanged();" created="Thu, 31 Jan 2013 16:52:14 GMT" pgfnum="666"/>
					<outline text="return finalAttributes;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.setGroup = function(attributes) {" collapse="true">
					<outline text="if(attributes[this._cssTextClassName]!==undefined){" created="Wed, 22 May 2013 22:33:25 GMT" pgfnum="3085">
						<outline text="this._cssTextClass(attributes[this._cssTextClassName]);" created="Wed, 22 May 2013 22:32:12 GMT" pgfnum="3084"/>
						<outline text="}" created="Wed, 22 May 2013 22:33:38 GMT" pgfnum="3087"/>
						</outline>
					<outline text="else {" created="Wed, 22 May 2013 22:33:39 GMT" pgfnum="3088">
						<outline text="this._cssTextClass(&quot;&quot;);" created="Wed, 22 May 2013 22:32:12 GMT" pgfnum="3084"/>
						<outline text="}" created="Wed, 22 May 2013 22:33:41 GMT" pgfnum="3090"/>
						</outline>
					<outline text="cursor.data(&quot;attributes&quot;, attributes);" created="Fri, 12 Apr 2013 18:38:57 GMT" pgfnum="1607"/>
					<outline text="var wrapper = cursor.children(&quot;.concord-wrapper&quot;);" created="Fri, 25 Jan 2013 13:50:53 GMT" pgfnum="377"/>
					<outline text="$(cursor[0].attributes).each(function() {" collapse="true">
						<outline text="var matches = this.name.match(/^opml-(.+)$/)"/>
						<outline text="if(matches) {" collapse="true">
							<outline text="var name = matches[1];"/>
							<outline text="if(!attributes[name]) {" collapse="true">
								<outline text="cursor.removeAttr(this.name);"/>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="var iconAttribute = &quot;type&quot;;"/>
					<outline text="if(attributes[&quot;icon&quot;]){">
						<outline text="iconAttribute = &quot;icon&quot;;"/>
						<outline text="}"/>
						</outline>
					<outline text="if(name==&quot;type&quot;){" created="Fri, 12 Apr 2013 18:59:48 GMT" pgfnum="1608">
						<outline text="cursor.attr(&quot;opml-&quot; + name, attributes[name]);"/>
						<outline text="}" created="Fri, 12 Apr 2013 18:59:58 GMT" pgfnum="1609"/>
						</outline>
					<outline text="for(var name in attributes) {" collapse="true">
						<outline text="if(name==iconAttribute){" collapse="true" created="Fri, 25 Jan 2013 13:54:56 GMT" pgfnum="378">
							<outline text="var value = attributes[name];" created="Fri, 25 Jan 2013 13:57:48 GMT" pgfnum="381"/>
							<outline text="var wrapper = cursor.children(&quot;.concord-wrapper&quot;);"/>
							<outline text="var iconName = null;"/>
							<outline text="if((name == &quot;type&quot;) &amp;&amp; concordInstance.prefs() &amp;&amp; concordInstance.prefs().typeIcons &amp;&amp; concordInstance.prefs().typeIcons[value]){">
								<outline text="iconName = concordInstance.prefs().typeIcons[value];"/>
								<outline text="}else if (name==&quot;icon&quot;){">
									<outline text="iconName = value;"/>
									<outline text="}"/>
									</outline>
								</outline>
							<outline text="if(iconName){">
								<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-&quot;+ iconName +&quot;\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
								<outline text="wrapper.children(&quot;.node-icon:first&quot;).replaceWith(icon);"/>
								<outline text="}"/>
								</outline>
							<outline text="}" created="Fri, 25 Jan 2013 13:55:33 GMT" pgfnum="380"/>
							</outline>
						<outline text="}"/>
						</outline>
					<outline text="concordInstance.op.markChanged();" created="Thu, 31 Jan 2013 16:52:28 GMT" pgfnum="667"/>
					<outline text="return attributes;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.getAll = function() {" collapse="true">
					<outline text="if(cursor.data(&quot;attributes&quot;) !== undefined){" created="Fri, 12 Apr 2013 18:27:59 GMT" pgfnum="1588">
						<outline text="return cursor.data(&quot;attributes&quot;);" created="Fri, 12 Apr 2013 18:28:18 GMT" pgfnum="1589"/>
						<outline text="}" created="Fri, 12 Apr 2013 18:28:23 GMT" pgfnum="1591"/>
						</outline>
					<outline text="return {};" created="Fri, 12 Apr 2013 18:28:24 GMT" pgfnum="1592"/>
					<outline text="};"/>
					</outline>
				<outline text="this.getOne = function(name) {" collapse="true">
					<outline text="return this.getAll()[name];" created="Fri, 12 Apr 2013 18:30:40 GMT" pgfnum="1593"/>
					<outline text="};"/>
					</outline>
				<outline text="this.makeEmpty = function() {" collapse="true">
					<outline text="this._cssTextClass(&quot;&quot;);" created="Wed, 22 May 2013 22:32:12 GMT" pgfnum="3084"/>
					<outline text="var numAttributes = 0;" created="Fri, 12 Apr 2013 18:34:00 GMT" pgfnum="1596"/>
					<outline text="var atts = this.getAll();" created="Fri, 12 Apr 2013 18:34:04 GMT" pgfnum="1597"/>
					<outline text="if(atts !== undefined){" created="Fri, 12 Apr 2013 18:34:16 GMT" pgfnum="1598">
						<outline text="for(var i in atts){" created="Fri, 12 Apr 2013 18:34:19 GMT" pgfnum="1599">
							<outline text="numAttributes++;" created="Fri, 12 Apr 2013 18:34:38 GMT" pgfnum="1601"/>
							<outline text="}" created="Fri, 12 Apr 2013 18:34:40 GMT" pgfnum="1602"/>
							</outline>
						<outline text="}" created="Fri, 12 Apr 2013 18:34:20 GMT" pgfnum="1600"/>
						</outline>
					<outline text="cursor.removeData(&quot;attributes&quot;);" created="Fri, 12 Apr 2013 18:31:16 GMT" pgfnum="1594"/>
					<outline text="var removedAnyAttributes = (numAttributes &gt; 0);"/>
					<outline text="var attributes = {};"/>
					<outline text="$(cursor[0].attributes).each(function() {" collapse="true">
						<outline text="var matches = this.name.match(/^opml-(.+)$/)"/>
						<outline text="if(matches) {" collapse="true">
							<outline text="cursor.removeAttr(this.name);"/>
							<outline text="}"/>
							</outline>
						<outline text="});"/>
						</outline>
					<outline text="if(removedAnyAttributes){" collapse="true" created="Thu, 31 Jan 2013 16:53:49 GMT" pgfnum="668">
						<outline text="concordInstance.op.markChanged();" created="Thu, 31 Jan 2013 16:53:57 GMT" pgfnum="669"/>
						<outline text="}" created="Thu, 31 Jan 2013 16:54:02 GMT" pgfnum="670"/>
						</outline>
					<outline text="return removedAnyAttributes;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.setOne = function(name, value) {" collapse="true">
					<outline text="if(name==this._cssTextClassName){" created="Wed, 22 May 2013 22:34:30 GMT" pgfnum="3091">
						<outline text="this._cssTextClass(value);" created="Wed, 22 May 2013 22:32:12 GMT" pgfnum="3084"/>
						<outline text="}" created="Wed, 22 May 2013 22:34:44 GMT" pgfnum="3093"/>
						</outline>
					<outline text="var atts = this.getAll();" created="Fri, 12 Apr 2013 18:36:45 GMT" pgfnum="1604"/>
					<outline text="atts[name]=value;" created="Fri, 12 Apr 2013 18:36:59 GMT" pgfnum="1605"/>
					<outline text="cursor.data(&quot;attributes&quot;, atts);" created="Fri, 12 Apr 2013 18:37:10 GMT" pgfnum="1606"/>
					<outline text="if((name==&quot;type&quot; )|| (name==&quot;icon&quot;)){" collapse="true" created="Fri, 25 Jan 2013 13:54:56 GMT" pgfnum="378">
						<outline text="cursor.attr(&quot;opml-&quot; + name, value);"/>
						<outline text="var wrapper = cursor.children(&quot;.concord-wrapper&quot;);" created="Fri, 25 Jan 2013 13:50:53 GMT" pgfnum="377"/>
						<outline text="var iconName = null;"/>
						<outline text="if((name == &quot;type&quot;) &amp;&amp; concordInstance.prefs() &amp;&amp; concordInstance.prefs().typeIcons &amp;&amp; concordInstance.prefs().typeIcons[value]){">
							<outline text="iconName = concordInstance.prefs().typeIcons[value];"/>
							<outline text="}else if (name==&quot;icon&quot;){">
								<outline text="iconName = value;"/>
								<outline text="}"/>
								</outline>
							</outline>
						<outline text="if(iconName){">
							<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-&quot;+ iconName +&quot;\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
							<outline text="wrapper.children(&quot;.node-icon:first&quot;).replaceWith(icon);" created="Fri, 29 Mar 2013 03:16:01 GMT" pgfnum="1118"/>
							<outline text="}"/>
							</outline>
						<outline text="}" created="Fri, 25 Jan 2013 13:55:33 GMT" pgfnum="380"/>
						</outline>
					<outline text="concordInstance.op.markChanged();" created="Thu, 31 Jan 2013 16:51:55 GMT" pgfnum="665"/>
					<outline text="return true;"/>
					<outline text="};"/>
					</outline>
				<outline text="this.exists = function(name){" collapse="true" created="Wed, 23 Jan 2013 19:52:57 GMT" pgfnum="204">
					<outline text="if(this.getOne(name) !== undefined){" collapse="true" created="Wed, 23 Jan 2013 19:53:06 GMT" pgfnum="206">
						<outline text="return true;" created="Wed, 23 Jan 2013 19:53:26 GMT" pgfnum="207"/>
						<outline text="}else{" collapse="true" created="Wed, 23 Jan 2013 19:53:31 GMT" pgfnum="208">
							<outline text="return false;" created="Wed, 23 Jan 2013 19:53:32 GMT" pgfnum="209"/>
							<outline text="}" created="Wed, 23 Jan 2013 19:53:37 GMT" pgfnum="210"/>
							</outline>
						</outline>
					<outline text="};" created="Wed, 23 Jan 2013 19:53:03 GMT" pgfnum="205"/>
					</outline>
				<outline text="this.removeOne = function(name){" created="Wed, 12 Jun 2013 19:35:35 GMT" pgfnum="4413">
					<outline text="if(this.getAll()[name]){" created="Wed, 12 Jun 2013 19:36:59 GMT" pgfnum="4418">
						<outline text="if(name == this._cssTextClassName){" created="Wed, 12 Jun 2013 19:35:51 GMT" pgfnum="4414">
							<outline text="this._cssTextClass(&quot;&quot;);" created="Wed, 22 May 2013 22:32:12 GMT" pgfnum="3084"/>
							<outline text="}" created="Wed, 12 Jun 2013 19:36:27 GMT" pgfnum="4417"/>
							</outline>
						<outline text="delete this.getAll()[name];" created="Wed, 12 Jun 2013 19:37:28 GMT" pgfnum="4420"/>
						<outline text="concordInstance.op.markChanged();" created="Thu, 31 Jan 2013 16:53:57 GMT" pgfnum="669"/>
						<outline text="return true;" created="Wed, 12 Jun 2013 19:38:05 GMT" pgfnum="4422"/>
						<outline text="}" created="Wed, 12 Jun 2013 19:37:34 GMT" pgfnum="4421"/>
						</outline>
					<outline text="return false;" created="Wed, 12 Jun 2013 19:38:07 GMT" pgfnum="4423"/>
					<outline text="};" created="Wed, 12 Jun 2013 19:35:52 GMT" pgfnum="4415"/>
					</outline>
				<outline text="}"/>
				</outline>
			<outline text="function ConcordScript(root, concordInstance){" collapse="true" created="Fri, 01 Feb 2013 16:43:35 GMT" pgfnum="718">
				<outline text="this.isComment = function(){" collapse="true" created="Fri, 01 Feb 2013 16:44:00 GMT" pgfnum="719">
					<outline text="if(concordInstance.op.attributes.getOne(&quot;isComment&quot;)!== undefined){" created="Tue, 26 Mar 2013 16:57:17 GMT" pgfnum="854">
						<outline text="return concordInstance.op.attributes.getOne(&quot;isComment&quot;)==&quot;true&quot;;"/>
						<outline text="}" created="Tue, 26 Mar 2013 16:57:45 GMT" pgfnum="855"/>
						</outline>
					<outline text="var parentIsAComment=false;" created="Tue, 26 Mar 2013 16:58:29 GMT" pgfnum="859"/>
					<outline text="concordInstance.op.getCursor().parents(&quot;.concord-node&quot;).each(function(){" created="Tue, 26 Mar 2013 16:57:47 GMT" pgfnum="856">
						<outline text="if(concordInstance.op.setCursorContext($(this)).attributes.getOne(&quot;isComment&quot;) == &quot;true&quot;){">
							<outline text="parentIsAComment = true;"/>
							<outline text="return;" created="Tue, 26 Mar 2013 16:59:21 GMT" pgfnum="860"/>
							<outline text="}"/>
							</outline>
						<outline text="});" created="Tue, 26 Mar 2013 16:58:12 GMT" pgfnum="858"/>
						</outline>
					<outline text="return parentIsAComment;" created="Fri, 01 Feb 2013 16:44:09 GMT" pgfnum="720"/>
					<outline text="};" created="Fri, 01 Feb 2013 16:44:53 GMT" pgfnum="721"/>
					</outline>
				<outline text="this.makeComment = function(){" collapse="true" created="Fri, 01 Feb 2013 16:45:42 GMT" pgfnum="723">
					<outline text="concordInstance.op.attributes.setOne(&quot;isComment&quot;, &quot;true&quot;);" created="Fri, 01 Feb 2013 16:45:47 GMT" pgfnum="724"/>
					<outline text="concordInstance.op.getCursor().addClass(&quot;concord-comment&quot;);" created="Fri, 01 Feb 2013 16:50:40 GMT" pgfnum="733"/>
					<outline text="return true;" created="Fri, 01 Feb 2013 16:46:05 GMT" pgfnum="725"/>
					<outline text="};" created="Fri, 01 Feb 2013 16:46:07 GMT" pgfnum="726"/>
					</outline>
				<outline text="this.unComment = function(){" collapse="true" created="Fri, 01 Feb 2013 16:46:09 GMT" pgfnum="727">
					<outline text="concordInstance.op.attributes.setOne(&quot;isComment&quot;, &quot;false&quot;);" created="Fri, 01 Feb 2013 16:46:14 GMT" pgfnum="728"/>
					<outline text="concordInstance.op.getCursor().removeClass(&quot;concord-comment&quot;);" created="Fri, 01 Feb 2013 16:50:51 GMT" pgfnum="734"/>
					<outline text="return true;" created="Fri, 01 Feb 2013 16:46:25 GMT" pgfnum="729"/>
					<outline text="};" created="Fri, 01 Feb 2013 16:46:28 GMT" pgfnum="730"/>
					</outline>
				<outline text="}" created="Fri, 01 Feb 2013 16:45:00 GMT" pgfnum="722"/>
				</outline>
			<outline text="function Op(opmltext){" created="Thu, 25 Apr 2013 15:17:16 GMT" pgfnum="2193">
				<outline text="var fakeDom = $(&quot;&lt;div&gt;&lt;/div&gt;&quot;);" created="Thu, 25 Apr 2013 15:31:58 GMT" pgfnum="2201"/>
				<outline text="fakeDom.concord().op.xmlToOutline(opmltext);" created="Thu, 25 Apr 2013 15:31:15 GMT" pgfnum="2200"/>
				<outline text="return fakeDom.concord().op;" created="Thu, 25 Apr 2013 15:17:43 GMT" pgfnum="2196"/>
				<outline text="}" created="Thu, 25 Apr 2013 15:17:25 GMT" pgfnum="2195"/>
				</outline>
			<outline text="(function($) {" collapse="true">
				<outline text="$.fn.concord = function(options) {" collapse="true">
					<outline text="return new ConcordOutline($(this), options);"/>
					<outline text="};"/>
					</outline>
				<outline text="$(document).on(&quot;keydown&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){" created="Mon, 11 Mar 2013 15:14:05 GMT" pgfnum="328">
						<outline text="return;" created="Mon, 11 Mar 2013 15:14:35 GMT" pgfnum="329"/>
						<outline text="}" created="Mon, 11 Mar 2013 15:14:36 GMT" pgfnum="330"/>
						</outline>
					<outline text="if($(event.target).is(&quot;input&quot;)||$(event.target).is(&quot;textarea&quot;)){" created="Sun, 24 Mar 2013 17:37:23 GMT" pgfnum="810">
						<outline text="return;" created="Sun, 24 Mar 2013 17:38:01 GMT" pgfnum="811"/>
						<outline text="}" created="Sun, 24 Mar 2013 17:38:02 GMT" pgfnum="812"/>
						</outline>
					<outline text="var focusRoot = concord.getFocusRoot();" created="Tue, 12 Mar 2013 15:44:24 GMT" pgfnum="398"/>
					<outline text="if(focusRoot==null){" created="Tue, 12 Mar 2013 15:44:45 GMT" pgfnum="399">
						<outline text="return;" created="Tue, 12 Mar 2013 15:44:51 GMT" pgfnum="400"/>
						<outline text="}" created="Tue, 12 Mar 2013 15:44:52 GMT" pgfnum="401"/>
						</outline>
					<outline text="var context = focusRoot;"/>
					<outline text="context.data(&quot;keydownEvent&quot;, event);" created="Sun, 20 Jan 2013 19:18:58 GMT" pgfnum="37"/>
					<outline text="var concordInstance = new ConcordOutline(context.parent());"/>
					<outline text="var readonly = concordInstance.prefs()[&quot;readonly&quot;];" created="Wed, 27 Feb 2013 18:03:08 GMT" pgfnum="264"/>
					<outline text="if(readonly==undefined){" created="Wed, 27 Feb 2013 18:03:30 GMT" pgfnum="265">
						<outline text="readonly=false;" created="Wed, 27 Feb 2013 18:03:34 GMT" pgfnum="266"/>
						<outline text="}" created="Wed, 27 Feb 2013 18:03:36 GMT" pgfnum="267"/>
						</outline>
					<outline text="// Readonly exceptions for arrow keys and cmd-comma" created="Tue, 21 May 2013 18:32:08 GMT" pgfnum="2904"/>
					<outline text="if(readonly){" created="Tue, 21 May 2013 18:30:49 GMT" pgfnum="2896">
						<outline text="if( (event.which&gt;=37) &amp;&amp; (event.which &lt;=40) ){" created="Tue, 21 May 2013 18:30:56 GMT" pgfnum="2897">
							<outline text="readonly = false;" created="Tue, 21 May 2013 18:31:32 GMT" pgfnum="2899"/>
							<outline text="}" created="Tue, 21 May 2013 18:31:36 GMT" pgfnum="2900"/>
							</outline>
						<outline text="else if( (event.metaKey || event.ctrlKey) &amp;&amp; (event.which==188) ){" created="Tue, 21 May 2013 18:31:37 GMT" pgfnum="2901">
							<outline text="readonly = false;" created="Tue, 21 May 2013 18:31:57 GMT" pgfnum="2902"/>
							<outline text="}" created="Tue, 21 May 2013 18:31:59 GMT" pgfnum="2903"/>
							</outline>
						<outline text="}" created="Tue, 21 May 2013 18:30:57 GMT" pgfnum="2898"/>
						</outline>
					<outline text="if(!readonly){" created="Wed, 27 Feb 2013 18:01:50 GMT" pgfnum="262">
						<outline text="concordInstance.fireCallback(&quot;opKeystroke&quot;, event);"/>
						<outline text="var keyCaptured = false;"/>
						<outline text="var commandKey = event.metaKey || event.ctrlKey;" created="Fri, 22 Mar 2013 20:20:35 GMT" pgfnum="770"/>
						<outline text="switch(event.which) {" collapse="true">
							<outline text="case 8:" collapse="true">
								<outline text="//Backspace"/>
								<outline text="if(concord.mobile){" created="Tue, 09 Apr 2013 19:14:27 GMT" pgfnum="1370">
									<outline text="if((concordInstance.op.getLineText()==&quot;&quot;) || (concordInstance.op.getLineText()==&quot;&lt;br&gt;&quot;)){" created="Tue, 09 Apr 2013 19:14:43 GMT" pgfnum="1371">
										<outline text="event.preventDefault();" created="Tue, 09 Apr 2013 19:15:36 GMT" pgfnum="1376"/>
										<outline text="concordInstance.op.deleteLine();"/>
										<outline text="}" created="Tue, 09 Apr 2013 19:15:23 GMT" pgfnum="1375"/>
										</outline>
									<outline text="}" created="Tue, 09 Apr 2013 19:14:44 GMT" pgfnum="1372"/>
									</outline>
								<outline text="else {" created="Tue, 09 Apr 2013 19:14:45 GMT" pgfnum="1373">
									<outline text="if(concordInstance.op.inTextMode()) {" collapse="true">
										<outline text="if(!concordInstance.op.getCursor().hasClass(&quot;dirty&quot;)){">
											<outline text="concordInstance.op.saveState();"/>
											<outline text="concordInstance.op.getCursor().addClass(&quot;dirty&quot;);" created="Fri, 22 Mar 2013 15:27:24 GMT" pgfnum="738"/>
											<outline text="}"/>
											</outline>
										<outline text="}else{" created="Fri, 22 Mar 2013 15:26:37 GMT" pgfnum="737">
											<outline text="keyCaptured = true;"/>
											<outline text="event.preventDefault();"/>
											<outline text="concordInstance.op.deleteLine();"/>
											<outline text="}"/>
											</outline>
										</outline>
									<outline text="}" created="Tue, 09 Apr 2013 19:14:50 GMT" pgfnum="1374"/>
									</outline>
								<outline text="break;"/>
								</outline>
							<outline text="case 9:" collapse="true">
								<outline text="keyCaptured = true;" collapse="true"/>
								<outline text="event.preventDefault();"/>
								<outline text="event.stopPropagation();" created="Sat, 16 Mar 2013 23:17:41 GMT" pgfnum="570"/>
								<outline text="if(event.shiftKey) {" collapse="true">
									<outline text="concordInstance.op.reorg(left)"/>
									<outline text="} else {" collapse="true">
										<outline text="concordInstance.op.reorg(right);"/>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="break;"/>
								</outline>
							<outline text="case 65:" collapse="true">
								<outline text="//CMD+A" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="var cursor = concordInstance.op.getCursor();" created="Sun, 20 Jan 2013 18:58:25 GMT" pgfnum="30"/>
										<outline text="if(concordInstance.op.inTextMode()){" collapse="true" created="Sun, 20 Jan 2013 18:59:12 GMT" pgfnum="31">
											<outline text="concordInstance.op.focusCursor();" created="Thu, 18 Apr 2013 16:42:17 GMT" pgfnum="1943"/>
											<outline text="document.execCommand('selectAll',false,null);" created="Sun, 20 Jan 2013 18:59:59 GMT" pgfnum="34"/>
											<outline text="}else{" collapse="true" created="Sun, 20 Jan 2013 18:59:41 GMT" pgfnum="32">
												<outline text="concordInstance.editor.selectionMode();"/>
												<outline text="cursor.parent().children().addClass(&quot;selected&quot;);"/>
												<outline text="}" created="Sun, 20 Jan 2013 18:59:55 GMT" pgfnum="33"/>
												</outline>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 85:" collapse="true">
								<outline text="//CMD+U" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="concordInstance.op.reorg(up);"/>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 68:" collapse="true">
								<outline text="//CMD+D" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="concordInstance.op.reorg(down);"/>
										</outline>
									<outline text="}"/>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 76:" collapse="true">
								<outline text="//CMD+L" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="concordInstance.op.reorg(left);"/>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 82:" collapse="true">
								<outline text="//CMD+R" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="concordInstance.op.reorg(right);"/>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 219:" collapse="true">
								<outline text="//CMD+[" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="concordInstance.op.promote();"/>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 221:" collapse="true">
								<outline text="//CMD+]" collapse="true">
									<outline text="if(commandKey) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="concordInstance.op.demote();"/>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 13:" collapse="true">
								<outline text="if(concord.mobile){" created="Thu, 28 Mar 2013 17:48:46 GMT" pgfnum="1071">
									<outline text="//Mobile" created="Mon, 08 Apr 2013 14:57:40 GMT" pgfnum="1278"/>
									<outline text="event.preventDefault();" created="Tue, 09 Apr 2013 18:52:18 GMT" pgfnum="1365"/>
									<outline text="keyCaptured=true;" created="Tue, 09 Apr 2013 18:52:39 GMT" pgfnum="1366"/>
									<outline text="var cursor = concordInstance.op.getCursor();" created="Tue, 09 Apr 2013 18:19:16 GMT" pgfnum="1356"/>
									<outline text="var clonedCursor = cursor.clone(true, true);" created="Tue, 09 Apr 2013 18:37:17 GMT" pgfnum="1362"/>
									<outline text="clonedCursor.removeClass(&quot;concord-cursor&quot;);" created="Tue, 09 Apr 2013 18:37:22 GMT" pgfnum="1363"/>
									<outline text="cursor.removeClass(&quot;selected&quot;);" created="Tue, 09 Apr 2013 18:37:22 GMT" pgfnum="1363"/>
									<outline text="cursor.removeClass(&quot;dirty&quot;);" created="Tue, 09 Apr 2013 18:37:22 GMT" pgfnum="1363"/>
									<outline text="cursor.removeClass(&quot;collapsed&quot;);" created="Tue, 09 Apr 2013 18:37:22 GMT" pgfnum="1363"/>
									<outline text="concordInstance.op.setLineText(&quot;&quot;);" created="Tue, 09 Apr 2013 16:26:14 GMT" pgfnum="1354"/>
									<outline text="var icon = &quot;&lt;i&quot;+&quot; class=\&quot;node-icon icon-caret-right\&quot;&gt;&lt;&quot;+&quot;/i&gt;&quot;;"/>
									<outline text="cursor.children(&quot;.concord-wrapper&quot;).children(&quot;.node-icon&quot;).replaceWith(icon);" created="Tue, 09 Apr 2013 18:57:28 GMT" pgfnum="1367"/>
									<outline text="clonedCursor.insertBefore(cursor);" created="Tue, 09 Apr 2013 18:20:19 GMT" pgfnum="1361"/>
									<outline text="concordInstance.op.attributes.makeEmpty();" created="Tue, 09 Apr 2013 18:38:42 GMT" pgfnum="1364"/>
									<outline text="concordInstance.op.deleteSubs();" created="Tue, 09 Apr 2013 18:59:12 GMT" pgfnum="1369"/>
									<outline text="concordInstance.op.focusCursor();" created="Tue, 09 Apr 2013 19:24:25 GMT" pgfnum="1377"/>
									<outline text="concordInstance.fireCallback(&quot;opInsert&quot;, concordInstance.op.setCursorContext(cursor));"/>
									<outline text="}" created="Tue, 09 Apr 2013 20:06:46 GMT" pgfnum="1398"/>
									</outline>
								<outline text="else{" created="Thu, 28 Mar 2013 17:48:50 GMT" pgfnum="1072">
									<outline text="event.preventDefault();" created="Thu, 28 Mar 2013 17:23:57 GMT" pgfnum="1070"/>
									<outline text="keyCaptured=true;" created="Thu, 28 Mar 2013 17:16:43 GMT" pgfnum="1068"/>
									<outline text="if(event.originalEvent &amp;&amp; ((event.originalEvent.keyLocation &amp;&amp; (event.originalEvent.keyLocation != 0)) || (event.originalEvent.location &amp;&amp; (event.originalEvent.location != 0))) ){" created="Wed, 20 Mar 2013 17:45:21 GMT" pgfnum="685">
										<outline text="concordInstance.op.setTextMode(!concordInstance.op.inTextMode());" created="Wed, 20 Mar 2013 17:45:58 GMT" pgfnum="686"/>
										<outline text="}else{" created="Wed, 20 Mar 2013 17:46:38 GMT" pgfnum="687">
											<outline text="var direction = down;" created="Sat, 19 Jan 2013 03:02:37 GMT" pgfnum="21"/>
											<outline text="if(concordInstance.op.subsExpanded()){" collapse="true" created="Sat, 19 Jan 2013 03:01:22 GMT" pgfnum="19">
												<outline text="direction=right;" created="Sat, 19 Jan 2013 03:02:09 GMT" pgfnum="20"/>
												<outline text="}" created="Sat, 19 Jan 2013 03:02:53 GMT" pgfnum="22"/>
												</outline>
											<outline text="var node = concordInstance.op.insert(&quot;&quot;, direction);"/>
											<outline text="concordInstance.op.setTextMode(true);" created="Mon, 28 Jan 2013 15:08:00 GMT" pgfnum="488"/>
											<outline text="concordInstance.op.focusCursor();"/>
											<outline text="}" created="Thu, 28 Mar 2013 17:49:34 GMT" pgfnum="1074"/>
											</outline>
										</outline>
									<outline text="}" created="Thu, 28 Mar 2013 17:49:23 GMT" pgfnum="1073"/>
									</outline>
								<outline text="break;"/>
								</outline>
							<outline text="case 37:" collapse="true">
								<outline text="// left" collapse="true">
									<outline text="var active = false;"/>
									<outline text="if($(event.target).hasClass(&quot;concord-text&quot;)) {" collapse="true">
										<outline text="if(event.target.selectionStart &gt; 0) {" collapse="true">
											<outline text="active = false;"/>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="if(context.find(&quot;.concord-cursor.selected&quot;).length == 1) {" collapse="true">
										<outline text="active = true;"/>
										<outline text="}"/>
										</outline>
									<outline text="if(active) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="var cursor = concordInstance.op.getCursor();"/>
										<outline text="var prev = concordInstance.op._walk_up(cursor);"/>
										<outline text="if(prev) {" collapse="true">
											<outline text="concordInstance.op.setCursor(prev);" created="Mon, 28 Jan 2013 15:34:31 GMT" pgfnum="498"/>
											<outline text="}"/>
											</outline>
										<outline text="}" created="Mon, 28 Jan 2013 15:36:33 GMT" pgfnum="499"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 38:" collapse="true">
								<outline text="// up" collapse="true">
									<outline text="keyCaptured = true;"/>
									<outline text="event.preventDefault();"/>
									<outline text="if(concordInstance.op.inTextMode()){" created="Sun, 10 Feb 2013 18:39:56 GMT" pgfnum="426">
										<outline text="var cursor = concordInstance.op.getCursor();"/>
										<outline text="var prev = concordInstance.op._walk_up(cursor);"/>
										<outline text="if(prev) {" collapse="true">
											<outline text="concordInstance.op.setCursor(prev);" created="Mon, 28 Jan 2013 15:34:31 GMT" pgfnum="498"/>
											<outline text="}"/>
											</outline>
										<outline text="}else{" created="Sun, 10 Feb 2013 18:40:10 GMT" pgfnum="427">
											<outline text="concordInstance.op.go(up,1,event.shiftKey, concordInstance.op.inTextMode());"/>
											<outline text="}" created="Sun, 10 Feb 2013 18:40:15 GMT" pgfnum="428"/>
											</outline>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 39:" collapse="true">
								<outline text="// right" collapse="true">
									<outline text="var active = false;"/>
									<outline text="if(context.find(&quot;.concord-cursor.selected&quot;).length == 1) {" collapse="true">
										<outline text="active = true;"/>
										<outline text="}"/>
										</outline>
									<outline text="if(active) {" collapse="true">
										<outline text="keyCaptured = true;"/>
										<outline text="event.preventDefault();"/>
										<outline text="var next = null;"/>
										<outline text="var cursor = concordInstance.op.getCursor();"/>
										<outline text="if(!cursor.hasClass(&quot;collapsed&quot;)) {" collapse="true">
											<outline text="var outline = cursor.children(&quot;ol&quot;);"/>
											<outline text="if(outline.length == 1) {" collapse="true">
												<outline text="var firstChild = outline.children(&quot;.concord-node:first&quot;);"/>
												<outline text="if(firstChild.length == 1) {" collapse="true">
													<outline text="next = firstChild;"/>
													</outline>
												<outline text="}"/>
												</outline>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										<outline text="if(!next) {" collapse="true">
											<outline text="next = concordInstance.op._walk_down(cursor);"/>
											</outline>
										<outline text="}"/>
										<outline text="if(next) {" collapse="true">
											<outline text="concordInstance.op.setCursor(next);" created="Mon, 28 Jan 2013 15:31:56 GMT" pgfnum="497"/>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 40:" collapse="true">
								<outline text="// down" collapse="true">
									<outline text="keyCaptured = true;"/>
									<outline text="event.preventDefault();"/>
									<outline text="if(concordInstance.op.inTextMode()){" created="Sun, 10 Feb 2013 18:41:17 GMT" pgfnum="430">
										<outline text="var next = null;"/>
										<outline text="var cursor = concordInstance.op.getCursor();"/>
										<outline text="if(!cursor.hasClass(&quot;collapsed&quot;)) {" collapse="true">
											<outline text="var outline = cursor.children(&quot;ol&quot;);"/>
											<outline text="if(outline.length == 1) {" collapse="true">
												<outline text="var firstChild = outline.children(&quot;.concord-node:first&quot;);"/>
												<outline text="if(firstChild.length == 1) {" collapse="true">
													<outline text="next = firstChild;"/>
													</outline>
												<outline text="}"/>
												</outline>
											<outline text="}"/>
											</outline>
										<outline text="}"/>
										<outline text="if(!next) {" collapse="true">
											<outline text="next = concordInstance.op._walk_down(cursor);"/>
											</outline>
										<outline text="}"/>
										<outline text="if(next) {" collapse="true">
											<outline text="concordInstance.op.setCursor(next);" created="Mon, 28 Jan 2013 15:31:56 GMT" pgfnum="497"/>
											<outline text="}"/>
											</outline>
										<outline text="}else{" created="Sun, 10 Feb 2013 18:41:26 GMT" pgfnum="431">
											<outline text="concordInstance.op.go(down,1, event.shiftKey, concordInstance.op.inTextMode());"/>
											<outline text="}" created="Sun, 10 Feb 2013 18:41:34 GMT" pgfnum="432"/>
											</outline>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 46:" collapse="true">
								<outline text="// delete" collapse="true">
									<outline text="if(concordInstance.op.inTextMode()) {" collapse="true">
										<outline text="if(!concordInstance.op.getCursor().hasClass(&quot;dirty&quot;)){" created="Fri, 22 Mar 2013 15:25:33 GMT" pgfnum="734">
											<outline text="concordInstance.op.saveState();" created="Fri, 22 Mar 2013 15:25:03 GMT" pgfnum="732"/>
											<outline text="concordInstance.op.getCursor().addClass(&quot;dirty&quot;);"/>
											<outline text="}" created="Fri, 22 Mar 2013 15:25:53 GMT" pgfnum="735"/>
											</outline>
										<outline text="}else{" created="Fri, 22 Mar 2013 15:25:04 GMT" pgfnum="733">
											<outline text="keyCaptured = true;"/>
											<outline text="event.preventDefault();"/>
											<outline text="concordInstance.op.deleteLine();"/>
											<outline text="}"/>
											</outline>
										</outline>
									<outline text="break;"/>
									</outline>
								</outline>
							<outline text="case 90:" collapse="true" created="Wed, 23 Jan 2013 04:26:34 GMT" pgfnum="123">
								<outline text="//CMD+Z" created="Fri, 25 Jan 2013 04:49:27 GMT" pgfnum="362"/>
								<outline text="if(commandKey){" collapse="true" created="Wed, 23 Jan 2013 04:26:41 GMT" pgfnum="125">
									<outline text="keyCaptured=true;" created="Wed, 23 Jan 2013 04:32:20 GMT" pgfnum="128"/>
									<outline text="event.preventDefault();" created="Wed, 23 Jan 2013 04:32:24 GMT" pgfnum="129"/>
									<outline text="concordInstance.op.undo();" created="Wed, 23 Jan 2013 04:29:12 GMT" pgfnum="126"/>
									<outline text="}" created="Wed, 23 Jan 2013 04:29:48 GMT" pgfnum="127"/>
									</outline>
								<outline text="break;" created="Wed, 23 Jan 2013 04:26:38 GMT" pgfnum="124"/>
								</outline>
							<outline text="case 88:" collapse="true" created="Thu, 24 Jan 2013 14:05:06 GMT" pgfnum="299">
								<outline text="//CMD+X" created="Thu, 24 Jan 2013 14:07:23 GMT" pgfnum="320"/>
								<outline text="if(commandKey){" collapse="true" created="Thu, 24 Jan 2013 14:05:25 GMT" pgfnum="300">
									<outline text="if(concordInstance.op.inTextMode()){" created="Sun, 10 Feb 2013 18:01:10 GMT" pgfnum="417">
										<outline text="if(concordInstance.op.getLineText()==&quot;&quot;){" created="Thu, 11 Apr 2013 22:06:42 GMT" pgfnum="1569">
											<outline text="keyCaptured=true;" created="Mon, 11 Feb 2013 20:29:56 GMT" pgfnum="58"/>
											<outline text="event.preventDefault();" created="Mon, 11 Feb 2013 20:23:38 GMT" pgfnum="49"/>
											<outline text="concordInstance.op.deleteLine();" created="Mon, 11 Feb 2013 20:23:27 GMT" pgfnum="48"/>
											<outline text="}" created="Thu, 11 Apr 2013 22:06:56 GMT" pgfnum="1570"/>
											</outline>
										<outline text="else {" created="Thu, 11 Apr 2013 22:06:58 GMT" pgfnum="1571">
											<outline text="concordInstance.op.saveState();" created="Thu, 11 Apr 2013 22:06:59 GMT" pgfnum="1572"/>
											<outline text="}" created="Thu, 11 Apr 2013 22:07:02 GMT" pgfnum="1574"/>
											</outline>
										<outline text="}" created="Mon, 11 Feb 2013 20:23:49 GMT" pgfnum="50"/>
										</outline>
									<outline text="}" created="Sun, 10 Feb 2013 18:01:49 GMT" pgfnum="420"/>
									</outline>
								<outline text="break;" created="Thu, 24 Jan 2013 14:05:49 GMT" pgfnum="305"/>
								</outline>
							<outline text="case 67:" collapse="true" created="Thu, 24 Jan 2013 14:06:09 GMT" pgfnum="306">
								<outline text="//CMD+C" created="Thu, 24 Jan 2013 14:07:30 GMT" pgfnum="321"/>
								<outline text="if(false&amp;&amp;commandKey){" collapse="true" created="Thu, 24 Jan 2013 14:06:12 GMT" pgfnum="307">
									<outline text="if(concordInstance.op.inTextMode()){" created="Sun, 10 Feb 2013 17:57:53 GMT" pgfnum="413">
										<outline text="if(concordInstance.op.getLineText()!=&quot;&quot;){" created="Sun, 10 Feb 2013 18:06:15 GMT" pgfnum="422">
											<outline text="concordInstance.root.removeData(&quot;clipboard&quot;);" created="Sun, 10 Feb 2013 17:58:05 GMT" pgfnum="414"/>
											<outline text="}" created="Sun, 10 Feb 2013 18:06:29 GMT" pgfnum="423"/>
											</outline>
										<outline text="}else{" created="Sun, 10 Feb 2013 17:58:21 GMT" pgfnum="415">
											<outline text="keyCaptured=true;" created="Thu, 24 Jan 2013 14:06:16 GMT" pgfnum="308"/>
											<outline text="event.preventDefault();" created="Thu, 24 Jan 2013 14:06:19 GMT" pgfnum="309"/>
											<outline text="concordInstance.op.copy();" created="Thu, 24 Jan 2013 14:06:23 GMT" pgfnum="310"/>
											<outline text="}" created="Thu, 24 Jan 2013 14:06:26 GMT" pgfnum="311"/>
											</outline>
										</outline>
									<outline text="}" created="Sun, 10 Feb 2013 17:58:31 GMT" pgfnum="416"/>
									</outline>
								<outline text="break;" created="Thu, 24 Jan 2013 14:06:28 GMT" pgfnum="312"/>
								</outline>
							<outline text="case 86:" collapse="true" created="Thu, 24 Jan 2013 14:06:30 GMT" pgfnum="313">
								<outline text="//CMD+V" created="Thu, 24 Jan 2013 14:07:34 GMT" pgfnum="322"/>
								<outline text="break;" created="Thu, 24 Jan 2013 14:07:06 GMT" pgfnum="319"/>
								</outline>
							<outline text="case 220:" collapse="true" created="Fri, 01 Feb 2013 18:32:13 GMT" pgfnum="738">
								<outline text="// CMD+Backslash" created="Fri, 01 Feb 2013 18:32:15 GMT" pgfnum="739"/>
								<outline text="if(commandKey){" collapse="true" created="Fri, 01 Feb 2013 18:32:22 GMT" pgfnum="740">
									<outline text="if(concordInstance.script.isComment()){" collapse="true" created="Fri, 01 Feb 2013 18:32:46 GMT" pgfnum="743">
										<outline text="concordInstance.script.unComment();" created="Fri, 01 Feb 2013 18:33:12 GMT" pgfnum="744"/>
										<outline text="}else{" collapse="true" created="Fri, 01 Feb 2013 18:33:19 GMT" pgfnum="745">
											<outline text="concordInstance.script.makeComment();" created="Fri, 01 Feb 2013 18:33:21 GMT" pgfnum="746"/>
											<outline text="}" created="Fri, 01 Feb 2013 18:33:27 GMT" pgfnum="747"/>
											</outline>
										</outline>
									<outline text="}" created="Fri, 01 Feb 2013 18:32:33 GMT" pgfnum="741"/>
									</outline>
								<outline text="break;" created="Fri, 01 Feb 2013 18:32:34 GMT" pgfnum="742"/>
								</outline>
							<outline text="case 73:" collapse="true" created="Thu, 24 Jan 2013 14:06:30 GMT" pgfnum="313">
								<outline text="//CMD+I" created="Thu, 24 Jan 2013 14:07:34 GMT" pgfnum="322"/>
								<outline text="if(commandKey){" collapse="true" created="Thu, 24 Jan 2013 14:06:48 GMT" pgfnum="314">
									<outline text="keyCaptured=true;" created="Thu, 24 Jan 2013 14:06:51 GMT" pgfnum="315"/>
									<outline text="event.preventDefault();" created="Thu, 24 Jan 2013 14:06:58 GMT" pgfnum="316"/>
									<outline text="concordInstance.op.italic();" created="Thu, 24 Jan 2013 14:07:02 GMT" pgfnum="317"/>
									<outline text="}" created="Thu, 24 Jan 2013 14:07:05 GMT" pgfnum="318"/>
									</outline>
								<outline text="break;" created="Thu, 24 Jan 2013 14:07:06 GMT" pgfnum="319"/>
								</outline>
							<outline text="case 66:" collapse="true" created="Thu, 24 Jan 2013 14:06:30 GMT" pgfnum="313">
								<outline text="//CMD+B" created="Thu, 24 Jan 2013 14:07:34 GMT" pgfnum="322"/>
								<outline text="if(commandKey){" collapse="true" created="Thu, 24 Jan 2013 14:06:48 GMT" pgfnum="314">
									<outline text="keyCaptured=true;" created="Thu, 24 Jan 2013 14:06:51 GMT" pgfnum="315"/>
									<outline text="event.preventDefault();" created="Thu, 24 Jan 2013 14:06:58 GMT" pgfnum="316"/>
									<outline text="concordInstance.op.bold();" created="Thu, 24 Jan 2013 14:07:02 GMT" pgfnum="317"/>
									<outline text="}" created="Thu, 24 Jan 2013 14:07:05 GMT" pgfnum="318"/>
									</outline>
								<outline text="break;" created="Thu, 24 Jan 2013 14:07:06 GMT" pgfnum="319"/>
								</outline>
							<outline text="case 192:">
								<outline text="//CMD+`"/>
								<outline text="if(commandKey){">
									<outline text="keyCaptured=true;"/>
									<outline text="event.preventDefault();"/>
									<outline text="concordInstance.op.setRenderMode(!concordInstance.op.getRenderMode());"/>
									<outline text="}"/>
									</outline>
								<outline text="break;"/>
								</outline>
							<outline text="case 188:">
								<outline text="//CMD+,"/>
								<outline text="if(commandKey){">
									<outline text="keyCaptured=true;"/>
									<outline text="event.preventDefault();"/>
									<outline text="if(concordInstance.op.subsExpanded()){" created="Wed, 20 Mar 2013 18:12:55 GMT" pgfnum="695">
										<outline text="concordInstance.op.collapse();" created="Wed, 20 Mar 2013 18:13:52 GMT" pgfnum="696"/>
										<outline text="}else{" created="Wed, 20 Mar 2013 18:14:15 GMT" pgfnum="697">
											<outline text="concordInstance.op.expand();" created="Wed, 20 Mar 2013 18:14:16 GMT" pgfnum="698"/>
											<outline text="}" created="Wed, 20 Mar 2013 18:14:21 GMT" pgfnum="699"/>
											</outline>
										</outline>
									<outline text="}"/>
									</outline>
								<outline text="break;"/>
								</outline>
							<outline text="case 191:">
								<outline text="//CMD+/"/>
								<outline text="if(commandKey){">
									<outline text="keyCaptured=true;"/>
									<outline text="event.preventDefault();"/>
									<outline text="concordInstance.op.runSelection();" created="Fri, 22 Mar 2013 15:53:53 GMT" pgfnum="747"/>
									<outline text="}"/>
									</outline>
								<outline text="break;"/>
								</outline>
							<outline text="default:" collapse="true">
								<outline text="keyCaptured = false;"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="if(!keyCaptured) {" collapse="true">
							<outline text="if((event.which &gt;= 32) &amp;&amp; ((event.which &lt; 112) || (event.which &gt; 123)) &amp;&amp; (event.which &lt; 1000) &amp;&amp; !commandKey) {" collapse="true">
								<outline text="var node = concordInstance.op.getCursor();"/>
								<outline text="if(concordInstance.op.inTextMode()) {" collapse="true">
									<outline text="if(!node.hasClass(&quot;dirty&quot;)){" created="Tue, 19 Mar 2013 20:33:41 GMT" pgfnum="615">
										<outline text="concordInstance.op.saveState();" created="Tue, 19 Mar 2013 20:34:31 GMT" pgfnum="616"/>
										<outline text="}" created="Tue, 19 Mar 2013 20:34:40 GMT" pgfnum="617"/>
										</outline>
									<outline text="node.addClass(&quot;dirty&quot;);" created="Mon, 28 Jan 2013 15:40:31 GMT" pgfnum="500"/>
									<outline text="} else {" collapse="true">
										<outline text="concordInstance.op.setTextMode(true);" created="Mon, 28 Jan 2013 15:40:45 GMT" pgfnum="501"/>
										<outline text="concordInstance.op.saveState();"/>
										<outline text="concordInstance.editor.edit(node, true);"/>
										<outline text="node.addClass(&quot;dirty&quot;);" created="Wed, 20 Mar 2013 14:27:12 GMT" pgfnum="649"/>
										<outline text="}"/>
										</outline>
									</outline>
								<outline text="concordInstance.op.markChanged();" created="Wed, 13 Mar 2013 15:30:14 GMT" pgfnum="491"/>
								<outline text="}"/>
								</outline>
							<outline text="}"/>
							</outline>
						<outline text="}" created="Wed, 27 Feb 2013 18:02:06 GMT" pgfnum="263"/>
						</outline>
					<outline text="});" created="Sat, 19 Jan 2013 17:01:42 GMT" pgfnum="27"/>
					</outline>
				<outline text="$(document).on(&quot;mouseup&quot;, function(event) {" collapse="true">
					<outline text="if(!concord.handleEvents){">
						<outline text="return;"/>
						<outline text="}"/>
						</outline>
					<outline text="if($(&quot;.concord-root&quot;).length==0){" created="Tue, 12 Mar 2013 15:04:27 GMT" pgfnum="372">
						<outline text="return;" created="Tue, 12 Mar 2013 15:04:37 GMT" pgfnum="373"/>
						<outline text="}" created="Tue, 12 Mar 2013 15:04:39 GMT" pgfnum="374"/>
						</outline>
					<outline text="if( $(event.target).is(&quot;a&quot;) || $(event.target).is(&quot;input&quot;) || $(event.target).is(&quot;textarea&quot;) || ($(event.target).parents(&quot;a:first&quot;).length==1) || $(event.target).hasClass(&quot;dropdown-menu&quot;) || ($(event.target).parents(&quot;.dropdown-menu:first&quot;).length&gt;0)){" collapse="true" created="Wed, 30 Jan 2013 04:34:56 GMT" pgfnum="612">
						<outline text="return;" created="Wed, 30 Jan 2013 04:35:19 GMT" pgfnum="613"/>
						<outline text="}" created="Wed, 30 Jan 2013 04:35:35 GMT" pgfnum="614"/>
						</outline>
					<outline text="var context = $(event.target).parents(&quot;.concord-root:first&quot;);"/>
					<outline text="if(context.length == 0) {" collapse="true">
						<outline text="$(&quot;.concord-root&quot;).each(function() {" collapse="true">
							<outline text="var concordInstance = new ConcordOutline($(this).parent());"/>
							<outline text="concordInstance.editor.hideContextMenu();" created="Wed, 30 Jan 2013 04:17:44 GMT" pgfnum="607"/>
							<outline text="concordInstance.editor.dragModeExit();"/>
							<outline text="});"/>
							</outline>
						<outline text="var focusRoot = concord.getFocusRoot();" created="Tue, 12 Mar 2013 15:45:23 GMT" pgfnum="402"/>
						<outline text="}" created="Sat, 19 Jan 2013 17:08:23 GMT" pgfnum="28"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="$(document).on(&quot;click&quot;, concord.updateFocusRootEvent);" created="Tue, 12 Mar 2013 14:23:53 GMT" pgfnum="358"/>
				<outline text="$(document).on(&quot;dblclick&quot;, concord.updateFocusRootEvent);"/>
				<outline text="$(document).on('show', function(e){" created="Tue, 12 Mar 2013 21:20:48 GMT" pgfnum="456">
					<outline text="if($(e.target).is(&quot;.modal&quot;)){" created="Tue, 12 Mar 2013 21:49:05 GMT" pgfnum="469">
						<outline text="if($(e.target).attr(&quot;concord-events&quot;) != &quot;true&quot;){" created="Sat, 13 Apr 2013 15:11:09 GMT" pgfnum="1659">
							<outline text="concord.stopListening();" created="Tue, 12 Mar 2013 21:21:06 GMT" pgfnum="457"/>
							<outline text="}" created="Sat, 13 Apr 2013 15:11:47 GMT" pgfnum="1660"/>
							</outline>
						<outline text="}" created="Tue, 12 Mar 2013 21:49:35 GMT" pgfnum="470"/>
						</outline>
					<outline text="});" created="Tue, 12 Mar 2013 21:21:15 GMT" pgfnum="458"/>
					</outline>
				<outline text="$(document).on('hidden', function(e){">
					<outline text="if($(e.target).is(&quot;.modal&quot;)){" created="Thu, 11 Apr 2013 03:08:22 GMT" pgfnum="1470">
						<outline text="if($(e.target).attr(&quot;concord-events&quot;) != &quot;true&quot;){" created="Sat, 13 Apr 2013 15:11:09 GMT" pgfnum="1659">
							<outline text="concord.resumeListening();"/>
							<outline text="}" created="Sat, 13 Apr 2013 15:11:47 GMT" pgfnum="1660"/>
							</outline>
						<outline text="}" created="Thu, 11 Apr 2013 03:08:41 GMT" pgfnum="1471"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="concord.ready=true;" created="Fri, 15 Mar 2013 22:01:41 GMT" pgfnum="528"/>
				<outline text="})(jQuery);"/>
				</outline>
			</outline>
		</body>
	</opml>